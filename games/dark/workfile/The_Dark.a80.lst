0001   0000             	device zxspectrum48
0002   0000             LANGUAG	EQU	1	; 0=EN, 1=RU
0003   0000             INTRO	EQU	1	; must be 1
0004   0000             DEATH	EQU	1	; must be 1
0005   0000             STLEVEL	EQU	0	; must be 0
0006   0000             DEBUG	EQU	0	; must be 0
0007   0000             
0008   0000             	ORG	16384
0009   4000             
0010   4000             	INCBIN	"res\52204.spr"	; GIU frame
0011   404F             	INCBIN	"res\45874.spr"	; GIU with hero portrait
0012   42A2             
0013   42A2             	SAVEBIN "gui.dat",16384,$-16384
0014   42A2             
0015   42A2             	org #4100
0016   4100             guidat
0017   4100             	incbin "gui.dat"
0018   43A2             	org #4800
0019   4800             	incbin "logo.bin"
0020   5B00             startnew
0021   5B00 31 00 5C    	ld sp,#5c00
0022   5B03             loop
0023   5B03 CD 60 83    	call KBDJOY
0024   5B06 FE 81       	cp %10000001
0025   5B08 20 05       	jr nz,.l1
0026   5B0A 3E C9       	ld a,#c9
0027   5B0C 32 06 91    	ld (cheath),a
0028   5B0F             .l1
0029   5B0F E6 70       	and %01110000
0030   5B11 28 F0       	jr z,loop
0031   5B13 C3 00 60    	jp PROGRUN
0032   5B16             
0033   5B16             GUIFR1	EQU	24576-595-79
0034   5B16             GUIFR2	EQU	GUIFR1+79-23
0035   5B16             GUIFR3	EQU	GUIFR1+79
0036   5B16             
0037   5B16             KK	EQU	#6800
0038   5B16             
0039   5B16             VSCRHI	EQU	#60
0040   5B16             VSCR	EQU	VSCRHI*256
0041   5B16             VSCROFF	EQU	VSCRHI-#40
0042   5B16             VATTR	EQU	VSCR+2048*2
0043   5B16             VATRHI	EQU	VATTR/256
0044   5B16             VATROFF	EQU	VSCROFF-#08
0045   5B16             
0046   5B16             L_UMAP	EQU	#E000	; unpacked map
0047   5B16             
0048   5B16             L_8A00	EQU	VSCR+#0A00
0049   5B16             
0050   5B16             L_9687	EQU	VSCR+#1687
0051   5B16             L_9691	EQU	VSCR+#1691
0052   5B16             L_9697	EQU	VSCR+#1697
0053   5B16             L_9900	EQU	VSCR+#1900
0054   5B16             L_9901	EQU	VSCR+#1901
0055   5B16             
0056   5B16             	ORG	24576
0057   6000             
0058   6000             PROGBEGIN
0059   6000             PROGRUN
0060   6000             
0061   6000             	INCLUDE "Qintro.txt"
0001+  6000 F3          	DI
0002+  6001 21 5D 5D    	LD	HL,GUIFR1-1
0003+  6004 F9          	LD	SP,HL
0004+  6005 21 00 41    	LD	HL,guidat
0005+  6008 11 5E 5D    	LD	DE,GUIFR1
0006+  600B 01 A2 02    	LD	BC,674
0007+  600E ED B0       	LDIR
0008+  6010             
0009+  6010 CD 81 8A    	CALL	CLS
0010+  6013 CD E6 FF    	CALL	SCR_ATTR_SET3
0011+  6016             
0012+  6016             	IF INTRO=1
0013+  6016             ;	CALL	SELECT
0014+  6016             
0015+  6016 21 87 60    	LD	HL,QSTORY1
0016+  6019 11 38 6F    	LD	DE,TXT_INTRO1
0017+  601C CD 40 60    	CALL	SHOW1
0018+  601F             
0019+  601F 21 00 E0    	LD	HL,QSTORY3
0020+  6022 11 BD 6F    	LD	DE,TXT_INTRO3
0021+  6025 CD 40 60    	CALL	SHOW1
0022+  6028             
0023+  6028             ;==	LD	A,25
0024+  6028             ;==	LD	(HLAS+211-3),A
0025+  6028             
0026+  6028 21 AB EB    	LD	HL,QSTORY4
0027+  602B 11 30 70    	LD	DE,TXT_INTRO4
0028+  602E CD 40 60    	CALL	SHOW1
0029+  6031             
0030+  6031             ;==	LD	A,30
0031+  6031             ;==	LD	(HLAS+211-3),A
0032+  6031             
0033+  6031 21 76 F7    	LD	HL,QSTORY5
0034+  6034 11 C8 70    	LD	DE,TXT_INTRO5
0035+  6037 CD 40 60    	CALL	SHOW1
0036+  603A             	ENDIF
0037+  603A             	IF INTRO=0
0038+  603A~            	LD	A,0
0039+  603A~            	LD	(P1CTRLTYPE),A
0040+  603A             	ENDIF
0041+  603A CD 81 8A    	CALL	CLS
0042+  603D C3 56 89    	JP	GAMESTART		; game start
0043+  6040             
0044+  6040 D5          SHOW1	PUSH	DE
0045+  6041 E5          	PUSH	HL
0046+  6042 CD 81 8A    	CALL	CLS
0047+  6045 AF          	XOR	A
0048+  6046 CD B9 A9    	CALL	SCR_ATTR_SET1
0049+  6049 E1          	POP	HL
0050+  604A 11 00 40    	LD	DE,16384
0051+  604D CD F7 FE    	CALL	DEHRUST2
0052+  6050 CD 77 60    	CALL	FADEIN
0053+  6053 CD EE FF    	CALL	SCR_ATTR_SET2
0054+  6056 D1          	POP	DE
0055+  6057 01 00 11    	LD	BC,#1100
0056+  605A CD EB 84    	CALL	PRINT
0057+  605D EB          	EX	DE,HL
0058+  605E 23          	INC	HL
0059+  605F CD 5D 6C    	CALL	HLAS
0060+  6062 CD 5A 83    	CALL	FPRLOO1
0061+  6065 C3 68 60    	JP	FADEOUT
0062+  6068             
0063+  6068 06 06       FADEOUT	LD	B,6
0064+  606A C5          FADE1	PUSH	BC
0065+  606B 78          	LD	A,B
0066+  606C 3D          	DEC	A
0067+  606D CD B9 A9    	CALL	SCR_ATTR_SET1
0068+  6070 CD F9 FF    	CALL	DELAY3
0069+  6073 C1          	POP	BC
0070+  6074 10 F4       	DJNZ	FADE1
0071+  6076 C9          	RET
0072+  6077             
0073+  6077 06 06       FADEIN	LD	B,6
0074+  6079 C5          FADE2	PUSH	BC
0075+  607A 3E 07       	LD	A,7
0076+  607C 90          	SUB	B
0077+  607D CD B9 A9    	CALL	SCR_ATTR_SET1
0078+  6080 CD F9 FF    	CALL	DELAY3
0079+  6083 C1          	POP	BC
0080+  6084 10 F3       	DJNZ	FADE2
0081+  6086 C9          	RET
0082+  6087             
0083+  6087             ;==================================================
0084+  6087             ; SELECT CONTROLS
0085+  6087             ;==================================================
0086+  6087             /*
0087+  6087~            MSELX	LD	A,(KEYCURS+5)
0088+  6087~            	CP	32
0089+  6087~            	JR	Z,MSELX1
0090+  6087~            	LD	A,16
0091+  6087~            	LD	(KEYUSER+4),A
0092+  6087~            	LD	A,32
0093+  6087~            	JR	MSELX0
0094+  6087~            MSELX1	LD	A,32
0095+  6087~            	LD	(KEYUSER+4),A
0096+  6087~            	LD	A,16
0097+  6087~            MSELX0	LD	(KEYCURS+5),A
0098+  6087~            	LD	(KEYUSER+5),A
0099+  6087~            	JR	SELECT1
0100+  6087~            0101+  6087~            MSEL1	XOR	A
0102+  6087~            	JR	MSELSET
0103+  6087~            MSEL2	LD	A,1
0104+  6087~            	JR	MSELSET
0105+  6087~            MSEL3	LD	A,2
0106+  6087~            	JR	MSELSET
0107+  6087~            MSEL4	LD	A,3
0108+  6087~            MSELSET	LD	(P1CTRLTYPE),A
0109+  6087~            	EXA
0110+  6087~            	CALL	SCR_ATTR_SET3
0111+  6087~            	EXA
0112+  6087~            	LD	L,A
0113+  6087~            	LD	H,0
0114+  6087~            	LD	B,6	; *64
0115+  6087~            MULMUL	ADD	HL,HL
0116+  6087~            	DJNZ	MULMUL
0117+  6087~            	LD	DE,#58C8
0118+  6087~            	ADD	HL,DE
0119+  6087~            	LD	D,H
0120+  6087~            	LD	E,L
0121+  6087~            	INC	DE
0122+  6087~            	LD	(HL),2		; or bright (8+7+64)
0123+  6087~            	LD	BC,16
0124+  6087~            	LDIR
0125+  6087~            0126+  6087~            SELECT	LD	A,(P1CTRLTYPE)
0127+  6087~            	INC	A		; cp -1
0128+  6087~            	JR	Z,SELECT3
0129+  6087~            	LD	BC,#0207
0130+  6087~            	LD	DE,TXCTRL0
0131+  6087~            	CALL	PRINT
0132+  6087~            0133+  6087~            SELECT1	LD	HL,CHIK
0134+  6087~            	CALL	HLAS
0135+  6087~            0136+  6087~            SELECT3	LD	BC,#060A
0137+  6087~            	LD	DE,TXCTRL1
0138+  6087~            	CALL	PRINT
0139+  6087~            	LD	BC,#0F0A
0140+  6087~            	LD	DE,TXCTR5A
0141+  6087~            	LD	A,(KEYCURS+5)
0142+  6087~            	CP	32
0143+  6087~            	JR	Z,SELECTA
0144+  6087~            	LD	DE,TXCTR5B
0145+  6087~            SELECTA	CALL	PRINT
0146+  6087~            0147+  6087~            SELECT2	CALL	MENUKEY
0148+  6087~            	JR	NZ,SELECT2
0149+  6087~            0150+  6087~            MAINMENU_LOOP
0151+  6087~            	LD	A,(P1CTRLTYPE)
0152+  6087~            	INC	A		; cp -1 (undefined ctrl?)
0153+  6087~            	CALL	NZ,FIREPRESSED
0154+  6087~            	RET	NZ
0155+  6087~            ;---	CALL	MUSIC_LOOP
0156+  6087~            	CALL	MENUKEY
0157+  6087~            	JR	Z,MAINMENU_LOOP
0158+  6087~            	IF LANGUAG=0
0159+  6087~            	CP	14	; 'F' key?
0160+  6087~            	ENDIF
0161+  6087~            	IF LANGUAG=1
0162+  6087~            	CP	27	; '9' key?
0163+  6087~            	ENDIF
0164+  6087~            	JP	Z,MSELX
0165+  6087~            	CP	36	; '1' key?
0166+  6087~            	JR	Z,MSEL1
0167+  6087~            	CP	28	; '2' key?
0168+  6087~            	JR	Z,MSEL2
0169+  6087~            	CP	20	; '3' key?
0170+  6087~            	JR	Z,MSEL3
0171+  6087~            	CP	12	; '4' key?
0172+  6087~            	JR	Z,MSEL4
0173+  6087~            	JR	MAINMENU_LOOP
0174+  6087~            0175+  6087~            MENUKEY	CALL	654	; keypress.
0176+  6087~            	LD	A,E	; anything pressed should be in e.
0177+  6087~            	CP	255	; for next comparison
0178+  6087~            	RET
0179+  6087~            CHIK	DEFB	"KT",0
0180+  6087             */
0181+  6087             
0182+  6087             ;=====================================
0183+  6087             
0184+  6087             QSTORY1	INCBIN "res\Qstory1.hrx"
0185+  6C5D             
0186+  6C5D             ;=====================================
0187+  6C5D             
0188+  6C5D             HLAS
0189+  6C5D             	INCLUDE "HLAS.ASM"
0001++ 6C5D             ;--- ROUGH DISASSEMBLED! =) ----
0002++ 6C5D             
0003++ 6C5D             ;---	LD	HL,(L_EB36)
0004++ 6C5D             
0005++ 6C5D F3          	DI
0006++ 6C5E CD 63 6C    	CALL	L_EA69
0007++ 6C61 FB          	EI
0008++ 6C62 C9          	RET
0009++ 6C63             ;
0010++ 6C63 06 BB       L_EA69	LD	B,#BB
0011++ 6C65 78          L_EA6B	LD	A,B
0012++ 6C66 48          	LD	C,B
0013++ 6C67 46          	LD	B,(HL)
0014++ 6C68 B7          	OR	A
0015++ 6C69 C8          	RET	Z
0016++ 6C6A 79          	LD	A,C
0017++ 6C6B FE 41       	CP	#41
0018++ 6C6D FA 99 6C    	JP	M,L_EA9B
0019++ 6C70 FE 5B       	CP	#5B
0020++ 6C72 F2 99 6C    	JP	P,L_EA9B
0021++ 6C75 FE 43       	CP	#43
0022++ 6C77 78          	LD	A,B
0023++ 6C78 C2 80 6C    	JP	NZ,L_EA86
0024++ 6C7B FE 48       	CP	#48
0025++ 6C7D CA 86 6C    	JP	Z,L_EA8C
0026++ 6C80 FE 27       L_EA86	CP	#27
0027++ 6C82 79          	LD	A,C
0028++ 6C83 C2 8A 6C    	JP	NZ,L_EA90
0029++ 6C86 C6 1A       L_EA8C	ADD	A,#1A
0030++ 6C88 06 BB       	LD	B,#BB
0031++ 6C8A C5          L_EA90	PUSH	BC
0032++ 6C8B E5          	PUSH	HL
0033++ 6C8C CD C1 6C    	CALL	L_EAC3
0034++ 6C8F E1          	POP	HL
0035++ 6C90 C1          	POP	BC
0036++ 6C91 23          L_EA97	INC	HL
0037++ 6C92 CD 3E 83    	call FIREPRESSED
0038++ 6C95 C0          	ret nz
0039++ 6C96 C3 65 6C    	JP	L_EA6B
0040++ 6C99             ;
0041++ 6C99 11 00 00    L_EA9B	LD	DE,#0000
0042++ 6C9C FE 2E       	CP	#2E
0043++ 6C9E CA B1 6C    	JP	Z,L_EAB3
0044++ 6CA1 11 00 80    	LD	DE,#8000
0045++ 6CA4 FE 2C       	CP	#2C
0046++ 6CA6 CA B1 6C    	JP	Z,L_EAB3
0047++ 6CA9 11 00 40    	LD	DE,#4000
0048++ 6CAC FE 20       	CP	#20
0049++ 6CAE C2 B7 6C    	JP	NZ,L_EAB9
0050++ 6CB1 CD BA 6C    L_EAB3	CALL	L_EABC
0051++ 6CB4 C3 91 6C    	JP	L_EA97
0052++ 6CB7             ;
0053++ 6CB7 C3 91 6C    L_EAB9	JP	L_EA97
0054++ 6CBA             ;
0055++ 6CBA 1B          L_EABC	DEC	DE
0056++ 6CBB 7A          	LD	A,D
0057++ 6CBC B3          	OR	E
0058++ 6CBD C2 BA 6C    	JP	NZ,L_EABC
0059++ 6CC0 C9          	RET
0060++ 6CC1             ;
0061++ 6CC1 01 F5 6C    L_EAC3	LD	BC,L_EAF7
0062++ 6CC4 6F          	LD	L,A
0063++ 6CC5 26 00       	LD	H,#00
0064++ 6CC7 09          	ADD	HL,BC
0065++ 6CC8 01 6A 6D    	LD	BC,L_EB6C
0066++ 6CCB 6E          	LD	L,(HL)
0067++ 6CCC 26 00       	LD	H,#00
0068++ 6CCE 09          	ADD	HL,BC
0069++ 6CCF 7E          L_EAD1	LD	A,(HL)
0070++ 6CD0 E6 0F       	AND	#0F
0071++ 6CD2 4F          	LD	C,A
0072++ 6CD3 23          	INC	HL
0073++ 6CD4 7E          	LD	A,(HL)
0074++ 6CD5 E6 80       	AND	#80
0075++ 6CD7 B1          	OR	C
0076++ 6CD8 4F          	LD	C,A
0077++ 6CD9 2B          	DEC	HL
0078++ 6CDA 7E          L_EADC	LD	A,(HL)
0079++ 6CDB 07          	RLCA
0080++ 6CDC 07          	RLCA
0081++ 6CDD 07          	RLCA
0082++ 6CDE E6 07       	AND	#07
0083++ 6CE0 E5          	PUSH	HL
0084++ 6CE1 CA 19 6D    	JP	Z,L_EB1B
0085++ 6CE4 11 33 6F    	LD	DE,L_ED35
0086++ 6CE7 6F          	LD	L,A
0087++ 6CE8 26 00       	LD	H,#00
0088++ 6CEA 19          	ADD	HL,DE
0089++ 6CEB 46          	LD	B,(HL)
0090++ 6CEC E1          	POP	HL
0091++ 6CED 23          	INC	HL
0092++ 6CEE 7E          	LD	A,(HL)
0093++ 6CEF 2B          	DEC	HL
0094++ 6CF0 E5          	PUSH	HL
0095++ 6CF1 17          	RLA
0096++ 6CF2 11 2C 6E    	LD	DE,L_EC2E
0097++ 6CF5 6F          L_EAF7	LD	L,A
0098++ 6CF6 26 00       	LD	H,#00
0099++ 6CF8 19          	ADD	HL,DE
0100++ 6CF9 3E 80       	LD	A,#80
0101++ 6CFB F5          L_EAFD	PUSH	AF
0102++ 6CFC A6          	AND	(HL)
0103++ 6CFD CA 02 6D    	JP	Z,L_EB04
0104++ 6D00 3E 10       	LD	A,#10
0105++ 6D02 D3 FE       L_EB04	OUT	(#FE),A
0106++ 6D04 3A 31 6D    	LD	A,(L_EB33)
0107++ 6D07 3D          L_EB09	DEC	A
0108++ 6D08 C2 07 6D    	JP	NZ,L_EB09
0109++ 6D0B F1          	POP	AF
0110++ 6D0C 05          	DEC	B
0111++ 6D0D CA 19 6D    	JP	Z,L_EB1B
0112++ 6D10 B7          	OR	A
0113++ 6D11 0F          	RRCA
0114++ 6D12 D2 FB 6C    	JP	NC,L_EAFD
0115++ 6D15 23          	INC	HL
0116++ 6D16 C3 FB 6C    	JP	L_EAFD
0117++ 6D19             ;
0118++ 6D19 2A 32 6D    L_EB1B	LD	HL,(L_EB34)
0119++ 6D1C EB          	EX	DE,HL
0120++ 6D1D AF          	XOR	A
0121++ 6D1E CD BA 6C    	CALL	L_EABC
0122++ 6D21 0D          	DEC	C
0123++ 6D22 79          	LD	A,C
0124++ 6D23 E6 0F       	AND	#0F
0125++ 6D25 E1          	POP	HL
0126++ 6D26 C2 DA 6C    	JP	NZ,L_EADC
0127++ 6D29 79          	LD	A,C
0128++ 6D2A 17          	RLA
0129++ 6D2B D8          	RET	C
0130++ 6D2C 23          	INC	HL
0131++ 6D2D 23          	INC	HL
0132++ 6D2E C3 CF 6C    	JP	L_EAD1
0133++ 6D31             ;
0134++ 6D31 1C          L_EB33	INC	E
0135++ 6D32 00          L_EB34	DB	#00
0136++ 6D33 04          	INC	B
0137++ 6D34 60          L_EB36	LD	H,B
0138++ 6D35 EE 00       	XOR	#00
0139++ 6D37 02          	LD	(BC),A
0140++ 6D38 06 0A       	LD	B,#0A
0141++ 6D3A 0E 10       	LD	C,#10
0142++ 6D3C 12          	LD	(DE),A
0143++ 6D3D 16 1A       	LD	D,#1A
0144++ 6D3F 1C          	INC	E
0145++ 6D40 22 26 2A    	LD	(#2A26),HL
0146++ 6D43 2E 32       	LD	L,#32
0147++ 6D45 34          	INC	(HL)
0148++ 6D46 38 42       	JR	C,L_EB8C
0149++ 6D48 48          	LD	C,B
0150++ 6D49 4A          	LD	C,D
0151++ 6D4A 4E          	LD	C,(HL)
0152++ 6D4B 50          	LD	D,B
0153++ 6D4C 50          	LD	D,B
0154++ 6D4D 56          	LD	D,(HL)
0155++ 6D4E 1A          	LD	A,(DE)
0156++ 6D4F 5C          	LD	E,H
0157++ 6D50 64          	LD	H,H
0158++ 6D51 66          	LD	H,(HL)
0159++ 6D52 70          	LD	(HL),B
0160++ 6D53 74          	LD	(HL),H
0161++ 6D54 7A          	LD	A,D
0162++ 6D55 7C          	LD	A,H
0163++ 6D56 C2 84 86    	JP	NZ,#8684
0164++ 6D59 C2 C2 C2    	JP	NZ,#C2C2
0165++ 6D5C 88          	ADC	A,B
0166++ 6D5D 8C          	ADC	A,H
0167++ 6D5E 92          	SUB	D
0168++ 6D5F 94          	SUB	H
0169++ 6D60 C2 9E A6    	JP	NZ,#A69E
0170++ 6D63 A8          	XOR	B
0171++ 6D64 AE          	XOR	(HL)
0172++ 6D65 B0          	OR	B
0173++ 6D66 C2 C2 86    	JP	NZ,#86C2
0174++ 6D69 BC          	CP	H
0175++ 6D6A 36 81       L_EB6C	LD	(HL),#81
0176++ 6D6C 34          	INC	(HL)
0177++ 6D6D 19          	ADD	HL,DE
0178++ 6D6E 31 AB 18    	LD	SP,#18AB
0179++ 6D71 19          	ADD	HL,DE
0180++ 6D72 91          	SUB	C
0181++ 6D73 C3 34 19    	JP	#1934
0182++ 6D76             ;
0183++ 6D76 31 E0 36    	LD	SP,#36E0
0184++ 6D79 84          	ADD	A,H
0185++ 6D7A 92          	SUB	D
0186++ 6D7B E3          	EX	(SP),HL
0187++ 6D7C 35          	DEC	(HL)
0188++ 6D7D 19          	ADD	HL,DE
0189++ 6D7E 51          	LD	D,C
0190++ 6D7F 9C          	SBC	A,H
0191++ 6D80 31 31 34    	LD	SP,#3431
0192++ 6D83 96          	SUB	(HL)
0193++ 6D84 36 87       	LD	(HL),#87
0194++ 6D86 33          	INC	SP
0195++ 6D87 3A 32 3D    	LD	A,(#3D32)
0196++ 6D8A 32 C0 18    L_EB8C	LD	(#18C0),A
0197++ 6D8D 19          	ADD	HL,DE
0198++ 6D8E 51          	LD	D,C
0199++ 6D8F 9C          	SBC	A,H
0200++ 6D90 33          	INC	SP
0201++ 6D91 22 31 B1    	LD	(#B131),HL
0202++ 6D94 31 31 36    	LD	SP,#3631
0203++ 6D97 A5          	AND	L
0204++ 6D98 31 31 36    	LD	SP,#3631
0205++ 6D9B A8          	XOR	B
0206++ 6D9C 36 8A       	LD	(HL),#8A
0207++ 6D9E 18 19       	JR	L_EBBB
0208++ 6DA0             ;
0209++ 6DA0 31 AB 18    	LD	SP,#18AB
0210++ 6DA3 19          	ADD	HL,DE
0211++ 6DA4 51          	LD	D,C
0212++ 6DA5 1C          	INC	E
0213++ 6DA6 34          	INC	(HL)
0214++ 6DA7 31 32 34    	LD	SP,#3432
0215++ 6DAA 32 B7 22    	LD	(#22B7),A
0216++ 6DAD 10 13       	DJNZ	L_EBC4
0217++ 6DAF 19          	ADD	HL,DE
0218++ 6DB0 21 AE 92    	LD	HL,#92AE
0219++ 6DB3 C3 18 19    	JP	#1918
0220++ 6DB6             ;
0221++ 6DB6 31 E0 36    	LD	SP,#36E0
0222++ 6DB9 8D          L_EBBB	ADC	A,L
0223++ 6DBA 34          	INC	(HL)
0224++ 6DBB 31 32 34    	LD	SP,#3432
0225++ 6DBE 32 B7 18    	LD	(#18B7),A
0226++ 6DC1 19          	ADD	HL,DE
0227++ 6DC2 71          L_EBC4	LD	(HL),C
0228++ 6DC3 1C          	INC	E
0229++ 6DC4 92          	SUB	D
0230++ 6DC5 C3 32 31    	JP	#3132
0231++ 6DC8             ;
0232++ 6DC8 32 43 32    	LD	(#3243),A
0233++ 6DCB 44          	LD	B,H
0234++ 6DCC 32 C5 3F    	LD	(#3FC5),A
0235++ 6DCF 81          	ADD	A,C
0236++ 6DD0 34          	INC	(HL)
0237++ 6DD1 19          	ADD	HL,DE
0238++ 6DD2 31 2B 33    	LD	SP,#332B
0239++ 6DD5 3A 32 3D    	LD	A,(#3D32)
0240++ 6DD8 32 C0 18    	LD	(#18C0),A
0241++ 6DDB 19          	ADD	HL,DE
0242++ 6DDC 91          	SUB	C
0243++ 6DDD D3 33       	OUT	(#33),A
0244++ 6DDF 19          	ADD	HL,DE
0245++ 6DE0 71          	LD	(HL),C
0246++ 6DE1 6D          	LD	L,L
0247++ 6DE2 32 93 3E    	LD	(#3E93),A
0248++ 6DE5 84          	ADD	A,H
0249++ 6DE6 92          	SUB	D
0250++ 6DE7 63          	LD	H,E
0251++ 6DE8 33          	INC	SP
0252++ 6DE9 3A 32 3D    	LD	A,(#3D32)
0253++ 6DEC 32 C0 92    	LD	(#92C0),A
0254++ 6DEF F3          	DI
0255++ 6DF0 3E 87       	LD	A,#87
0256++ 6DF2 31 31 36    	LD	SP,#3631
0257++ 6DF5 25          	DEC	H
0258++ 6DF6 31 31 35    	LD	SP,#3531
0259++ 6DF9 25          	DEC	H
0260++ 6DFA 32 93 3E    	LD	(#3E93),A
0261++ 6DFD 8A          	ADC	A,D
0262++ 6DFE 18 19       	JR	L_EC1B
0263++ 6E00             ;
0264++ 6E00 31 2B 33    	LD	SP,#332B
0265++ 6E03 3A 32 3D    	LD	A,(#3D32)
0266++ 6E06 32 C0 13    	LD	(#13C0),A
0267++ 6E09 19          	ADD	HL,DE
0268++ 6E0A 32 60 13    	LD	(#1360),A
0269++ 6E0D 19          	ADD	HL,DE
0270++ 6E0E 71          	LD	(HL),C
0271++ 6E0F DD          	DB	#DD	;*IX
0272++ 6E10 92          	SUB	D
0273++ 6E11 D3 18       	OUT	(#18),A
0274++ 6E13 19          	ADD	HL,DE
0275++ 6E14 71          	LD	(HL),C
0276++ 6E15 6D          	LD	L,L
0277++ 6E16 32 93 3E    	LD	(#3E93),A
0278++ 6E19 8D          L_EC1B	ADC	A,L
0279++ 6E1A 34          	INC	(HL)
0280++ 6E1B 31 32 34    	LD	SP,#3432
0281++ 6E1E 32 37 33    	LD	(#3337),A
0282++ 6E21 3A 32 3D    	LD	A,(#3D32)
0283++ 6E24 32 C0 32    	LD	(#32C0),A
0284++ 6E27 53          	LD	D,E
0285++ 6E28 32 54 32    	LD	(#3254),A
0286++ 6E2B D5          	PUSH	DE
0287++ 6E2C 1A          L_EC2E	LD	A,(DE)
0288++ 6E2D 99          	SBC	A,C
0289++ 6E2E E1          	POP	HL
0290++ 6E2F C3 E1 C7    	JP	#C7E1
0291++ 6E32             ;
0292++ 6E32 8F          	ADC	A,A
0293++ 6E33 0F          	RRCA
0294++ 6E34 F8          	RET	M
0295++ 6E35 03          	INC	BC
0296++ 6E36 0F          	RRCA
0297++ 6E37 07          	RLCA
0298++ 6E38 C1          	POP	BC
0299++ 6E39 E3          	EX	(SP),HL
0300++ 6E3A FF          	RST	#38
0301++ 6E3B 40          	LD	B,B
0302++ 6E3C 17          	RLA
0303++ 6E3D FF          	RST	#38
0304++ 6E3E 00          	DB	#00
0305++ 6E3F 03          	INC	BC
0306++ 6E40 F8          	RET	M
0307++ 6E41 7C          	LD	A,H
0308++ 6E42 C1          	POP	BC
0309++ 6E43 F1          	POP	AF
0310++ 6E44 F8          	RET	M
0311++ 6E45 03          	INC	BC
0312++ 6E46 FE 00       	CP	#00
0313++ 6E48 7F          	LD	A,A
0314++ 6E49 FC 00 03    	CALL	M,#0300
0315++ 6E4C F8          	RET	M
0316++ 6E4D 0F          	RRCA
0317++ 6E4E 09          	ADD	HL,BC
0318++ 6E4F F1          	POP	AF
0319++ 6E50 FE 03       	CP	#03
0320++ 6E52 EF          	RST	#28	;*calc
0321++ 6E53 40          	LD	B,B
0322++ 6E54 17          	RLA
0323++ 6E55 FF          	RST	#38
0324++ 6E56 00          	DB	#00
0325++ 6E57 03          	INC	BC
0326++ 6E58 E1          	POP	HL
0327++ 6E59 5C          	LD	E,H
0328++ 6E5A 35          	DEC	(HL)
0329++ 6E5B C5          	PUSH	BC
0330++ 6E5C AA          	XOR	D
0331++ 6E5D 35          	DEC	(HL)
0332++ 6E5E 00          	DB	#00
0333++ 6E5F 00          	DB	#00
0334++ 6E60 00          	DB	#00
0335++ 6E61 00          	DB	#00
0336++ 6E62 00          	DB	#00
0337++ 6E63 00          	DB	#00
0338++ 6E64 3E 8E       	LD	A,#8E
0339++ 6E66 38 73       	JR	C,L_ECDD
0340++ 6E68 CF          	RST	#08
0341++ 6E69 F8          	RET	M
0342++ 6E6A 78          	LD	A,B
0343++ 6E6B C3 DF 1C    	JP	#1CDF
0344++ 6E6E             ;
0345++ 6E6E F1          	POP	AF
0346++ 6E6F C7          	RST	#00		;!RESET!
0347++ 6E70             ;
0348++ 6E70 FE 03       	CP	#03
0349++ 6E72 C0          	RET	NZ
0350++ 6E73 FF          	RST	#38
0351++ 6E74 00          	DB	#00
0352++ 6E75 00          	DB	#00
0353++ 6E76 FF          	RST	#38
0354++ 6E77 F8          	RET	M
0355++ 6E78 00          	DB	#00
0356++ 6E79 7F          	LD	A,A
0357++ 6E7A F8          	RET	M
0358++ 6E7B 03          	INC	BC
0359++ 6E7C FF          	RST	#38
0360++ 6E7D F0          	RET	P
0361++ 6E7E 01 FF E0    	LD	BC,#E0FF
0362++ 6E81 03          	INC	BC
0363++ 6E82 AA          	XOR	D
0364++ 6E83 CA 5A D5    	JP	Z,#D55A
0365++ 6E86 21 3D FE    	LD	HL,#FE3D
0366++ 6E89 1F          	RRA
0367++ 6E8A F8          	RET	M
0368++ 6E8B 00          	DB	#00
0369++ 6E8C 00          	DB	#00
0370++ 6E8D 1F          	RRA
0371++ 6E8E FF          	RST	#38
0372++ 6E8F FC 20 00    	CALL	M,#0020
0373++ 6E92 00          	DB	#00
0374++ 6E93 03          	INC	BC
0375++ 6E94 FF          	RST	#38
0376++ 6E95 FF          	RST	#38
0377++ 6E96 08          	EX	AF,AF'
0378++ 6E97 79          	LD	A,C
0379++ 6E98 00          	DB	#00
0380++ 6E99 02          	LD	(BC),A
0381++ 6E9A FF          	RST	#38
0382++ 6E9B E1          	POP	HL
0383++ 6E9C C7          	RST	#00		;!RESET!
0384++ 6E9D             ;
0385++ 6E9D 1F          	RRA
0386++ 6E9E E0          	RET	PO
0387++ 6E9F 03          	INC	BC
0388++ 6EA0 FF          	RST	#38
0389++ 6EA1 D0          	RET	NC
0390++ 6EA2 01 FF F0    	LD	BC,#F0FF
0391++ 6EA5 03          	INC	BC
0392++ 6EA6 7F          	LD	A,A
0393++ 6EA7 01 FA 5F    	LD	BC,#5FFA
0394++ 6EAA C0          	RET	NZ
0395++ 6EAB 07          	RLCA
0396++ 6EAC F8          	RET	M
0397++ 6EAD 0F          	RRCA
0398++ 6EAE C0          	RET	NZ
0399++ 6EAF FF          	RST	#38
0400++ 6EB0 00          	DB	#00
0401++ 6EB1 42          	LD	B,D
0402++ 6EB2 AA          	XOR	D
0403++ 6EB3 A5          	AND	L
0404++ 6EB4 55          	LD	D,L
0405++ 6EB5 5A          	LD	E,D
0406++ 6EB6 AA          	XOR	D
0407++ 6EB7 AA          	XOR	D
0408++ 6EB8 5A          	LD	E,D
0409++ 6EB9 A5          	AND	L
0410++ 6EBA 5A          	LD	E,D
0411++ 6EBB AA          	XOR	D
0412++ 6EBC 55          	LD	D,L
0413++ 6EBD 55          	LD	D,L
0414++ 6EBE AA          	XOR	D
0415++ 6EBF AA          	XOR	D
0416++ 6EC0 A5          	AND	L
0417++ 6EC1 55          	LD	D,L
0418++ 6EC2 AA          	XOR	D
0419++ 6EC3 5A          	LD	E,D
0420++ 6EC4 AA          	XOR	D
0421++ 6EC5 A5          	AND	L
0422++ 6EC6 55          	LD	D,L
0423++ 6EC7 AA          	XOR	D
0424++ 6EC8 AA          	XOR	D
0425++ 6EC9 A5          	AND	L
0426++ 6ECA 55          	LD	D,L
0427++ 6ECB AA          	XOR	D
0428++ 6ECC AA          	XOR	D
0429++ 6ECD 55          	LD	D,L
0430++ 6ECE A5          	AND	L
0431++ 6ECF A5          	AND	L
0432++ 6ED0 AA          	XOR	D
0433++ 6ED1 A5          	AND	L
0434++ 6ED2 B7          	OR	A
0435++ 6ED3 66          	LD	H,(HL)
0436++ 6ED4 6C          	LD	L,H
0437++ 6ED5 D8          	RET	C
0438++ 6ED6 F9          	LD	SP,HL
0439++ 6ED7 B3          	OR	E
0440++ 6ED8 6C          	LD	L,H
0441++ 6ED9 AD          	XOR	L
0442++ 6EDA 37          	SCF
0443++ 6EDB 37          L_ECDD	SCF
0444++ 6EDC 66          	LD	H,(HL)
0445++ 6EDD FC 9B 87    	CALL	M,#879B
0446++ 6EE0 F6 C0       	OR	#C0
0447++ 6EE2 D3 B6       	OUT	(#B6),A
0448++ 6EE4 60          	LD	H,B
0449++ 6EE5 F7          	RST	#30
0450++ 6EE6 F7          	RST	#30
0451++ 6EE7 3E 4D       	LD	A,#4D
0452++ 6EE9 FB          	EI
0453++ 6EEA FE 5D       	CP	#5D
0454++ 6EEC B7          	OR	A
0455++ 6EED DE 46       	SBC	A,#46
0456++ 6EEF F6 96       	OR	#96
0457++ 6EF1 B4          	OR	H
0458++ 6EF2 4F          	LD	C,A
0459++ 6EF3 AA          	XOR	D
0460++ 6EF4 A9          	XOR	C
0461++ 6EF5 55          	LD	D,L
0462++ 6EF6 AA          	XOR	D
0463++ 6EF7 AA          	XOR	D
0464++ 6EF8 A5          	AND	L
0465++ 6EF9 69          	LD	L,C
0466++ 6EFA 59          	LD	E,C
0467++ 6EFB 9A          	SBC	A,D
0468++ 6EFC 6A          	LD	L,D
0469++ 6EFD 95          	SUB	L
0470++ 6EFE 55          	LD	D,L
0471++ 6EFF 95          	SUB	L
0472++ 6F00 55          	LD	D,L
0473++ 6F01 6A          	LD	L,D
0474++ 6F02 A5          	AND	L
0475++ 6F03 55          	LD	D,L
0476++ 6F04 A9          	XOR	C
0477++ 6F05 4D          	LD	C,L
0478++ 6F06 66          	LD	H,(HL)
0479++ 6F07 6A          	LD	L,D
0480++ 6F08 92          	SUB	D
0481++ 6F09 EC A5 55    	CALL	PE,#55A5
0482++ 6F0C D2 96 55    	JP	NC,#5596
0483++ 6F0F A2          	AND	D
0484++ 6F10 BA          	CP	D
0485++ 6F11 CD 00 66    	CALL	#6600
0486++ 6F14 99          	SBC	A,C
0487++ 6F15 CC 67 31    	CALL	Z,#3167
0488++ 6F18 8E          	ADC	A,(HL)
0489++ 6F19 66          	LD	H,(HL)
0490++ 6F1A 39          	ADD	HL,SP
0491++ 6F1B A6          	AND	(HL)
0492++ 6F1C 6B          	LD	L,E
0493++ 6F1D 19          	ADD	HL,DE
0494++ 6F1E 66          	LD	H,(HL)
0495++ 6F1F 59          	LD	E,C
0496++ 6F20 C6 71       	ADD	A,#71
0497++ 6F22 09          	ADD	HL,BC
0498++ 6F23 67          	LD	H,A
0499++ 6F24 19          	ADD	HL,DE
0500++ 6F25 CB 01       	RLC	C
0501++ 6F27 71          	LD	(HL),C
0502++ 6F28 CC 73 19    	CALL	Z,#1973
0503++ 6F2B 99          	SBC	A,C
0504++ 6F2C CC C6 67    	CALL	Z,#67C6
0505++ 6F2F 19          	ADD	HL,DE
0506++ 6F30 9A          	SBC	A,D
0507++ 6F31 C6 59       	ADD	A,#59
0508++ 6F33 00          L_ED35	DB	#00
0509++ 6F34 2E 5A       	LD	L,#5A
0510++ 6F36 5E          	LD	E,(HL)
0511++ 6F37 FE          	DB	#FE
0512++ 6F38             
0513++ 6F38             /*	DB	#4A
0514++ 6F38~            	LD	D,E
0515++ 6F38~            	LD	B,L
0516++ 6F38~            	LD	C,L
0517++ 6F38~            	JR	NZ,#ED88
0518++ 6F38~            	LD	C,H
0519++ 6F38~            	LD	B,C
0520++ 6F38~            	LD	D,E
0521++ 6F38~            	JR	NZ,#ED9B
0522++ 6F38~            	LD	B,C
0523++ 6F38~            	LD	D,E
0524++ 6F38~            	DAA
0525++ 6F38~            	LD	B,L
0526++ 6F38~            	LD	C,B
0527++ 6F38~            	LD	C,A
0528++ 6F38~            	JR	NZ,#ED9D
0529++ 6F38~            	LD	C,A
0530++ 6F38~            	LD	B,E
0531++ 6F38~            	DAA
0532++ 6F38~            	LD	C,C
0533++ 6F38~            	DAA
0534++ 6F38~            	LD	D,H
0535++ 6F38~            	LD	B,C
0536++ 6F38~            	LD	B,E
0537++ 6F38~            	DAA
0538++ 6F38~            	LD	B,L
0539++ 6F38~            	JR	NZ,#EDAC
0540++ 6F38~            	LD	D,B
0541++ 6F38~            	LD	B,L
0542++ 6F38~            	LD	C,E
0543++ 6F38~            	LD	D,H
0544++ 6F38~            	LD	D,D
0545++ 6F38~            	LD	D,L
0546++ 6F38~            	LD	C,L
0547++ 6F38~            	JR	NZ,#ED82
0548++ 6F38~            	DB	#00
0549++ 6F38~            	DB	#00
0550++ 6F38~            	LD	A,(HL)
0551++ 6F38~            	CP	#42
0552++ 6F38~            	JP	Z,#3368
0553++ 6F38~            	CP	#4F
0554++ 6F38~            	JP	Z,#336F
0555++ 6F38~            	DB	#00
0556++ 6F38~            	CP	#48
0557++ 6F38~            	JP	Z,#3376
0558++ 6F38~            	CP	#44
0559++ 6F38~            	JP	Z,#3320
0560++ 6F38~            	CP	#22
0561++ 6F38~            	JP	Z,#33D0
0562++ 6F38~            	DEC	HL
0563++ 6F38~            	LD	D,#00
0564++ 6F38~            ;#ED82
0565++ 6F38~            ;
0566++ 6F38             */
0190+  6F38             
0191+  6F38             ;=====================================
0192+  6F38             
0193+  6F38             	IF LANGUAG=0
0194+  6F38~            	INCLUDE "Qtxin_en.txt"
0195+  6F38             	ENDIF
0196+  6F38             	IF LANGUAG=1
0197+  6F38             	INCLUDE "Qtxin_ru.txt"
0001++ 6F38             TXT_INTRO1
0002++ 6F38             ;--		"################################"	
0003++ 6F38             
0004++ 6F38             	DB	"MNOGO=LET=NAZAD=ARMIY=TEMN",92,"X=SIL",14
0004++ 6F38 4D4E4F474F3D4C45543D4E415A41443D41524D49593D54454D4E5C583D53494C
0004++ 6F58 0E
0005++ 6F59             	DB	"PERESEKLA=GRANICU=STRAN",92,"=VETROV",0
0005++ 6F59 5045524553454B4C413D4752414E4943553D535452414E5C3D564554524F5600
0006++ 6F79             
0007++ 6F79             	DB	"MNOGOLETNAZA'D  ARMIYA T'OMNYHSIYL  "
0007++ 6F79 4D4E4F474F4C45544E415A412744202041524D4959412054274F4D4E59485349
0007++ 6F99 594C2020
0008++ 6F9D             	DB	"PERESEKLA GRANICU STRANYVITRO'V",0
0008++ 6F9D 5045524553454B4C41204752414E49435520535452414E59564954524F275600
0009++ 6FBD             
0010++ 6FBD             TXT_INTRO3
0011++ 6FBD             ;--		"################################"	
0012++ 6FBD             
0013++ 6FBD             	DB	"BOL]QINSTVO=JITELE_=POGIBLI;",14
0013++ 6FBD 424F4C5D51494E5354564F3D4A4954454C455F3D504F4749424C493B0E
0014++ 6FDA             	DB	"OSTAVQIESY=BEJALI=NA=SEVER",0
0014++ 6FDA 4F5354415651494553593D42454A414C493D4E413D534556455200
0015++ 6FF5             
0016++ 6FF5             	DB	"BOLSHINSTVOZHI'TELEIPAGI'BLI. ASTAVSHI'ISYABIZHALI NASEVER",0
0016++ 6FF5 424F4C5348494E5354564F5A48492754454C45495041474927424C492E204153
0016++ 7015 544156534849274953594142495A48414C49204E41534556455200
0017++ 7030             
0018++ 7030             TXT_INTRO4
0019++ 7030             ;--		"################################"	
0020++ 7030             
0021++ 7030             	DB	"SREDI=NIX=B",92,"LA=DEVUQKA=PO=IMENI",14
0021++ 7030 53524544493D4E49583D425C4C413D44455655514B413D504F3D494D454E490E
0022++ 7050             	DB	"DJE_N:=VSKORE=U=NEE=RODILSY=S",92,"N",14
0022++ 7050 444A455F4E3A3D56534B4F52453D553D4E45453D524F44494C53593D535C4E0E
0023++ 7070             	DB	"ALEKSANDR",0
0023++ 7070 414C454B53414E445200
0024++ 707A             
0025++ 707A             	DB	"SRIDINIH BOYLA'DIEVUSHKA PAI'MINIDZHEIN. "
0025++ 707A 53524944494E494820424F594C4127444945565553484B4120504149274D494E
0025++ 709A 49445A4845494E2E20
0026++ 70A3             	DB	"VSKORI UNIIYORADILSYA SYN, ALEKSANDR",0
0026++ 70A3 56534B4F524920554E4949594F524144494C5359412053594E2C20414C454B53
0026++ 70C3 414E445200
0027++ 70C8             
0028++ 70C8             TXT_INTRO5
0029++ 70C8             ;--		"################################"	
0030++ 70C8             
0031++ 70C8             	DB	"DJE_N=RASSKAZALA=EMU=@TU=PEHAL]>",14
0031++ 70C8 444A455F4E3D524153534B415A414C413D454D553D4054553D504548414C5D3E
0031++ 70E8 0E
0032++ 70E9             	DB	"NU^=ISTORI^:=I=KOGDA=ON=V",92,"ROS;",14
0032++ 70E9 4E555E3D4953544F52495E3A3D493D4B4F4744413D4F4E3D565C524F533B0E
0033++ 7108             	DB	"TO=OTPRAVILSY=V=RODN",92,"E=KRAY;",14
0033++ 7108 544F3D4F5450524156494C53593D563D524F444E5C453D4B5241593B0E
0034++ 7125             	DB	"HTOB",92,"=OSVOBODIT]=SVO^=STRANU",0
0034++ 7125 48544F425C3D4F53564F424F4449545D3D53564F5E3D535452414E5500
0035++ 7142             
0036++ 7142             	DB	"DZHEIN RASKAZALAIEMU ETU PITSIALNUIUISTORIYU.  "
0036++ 7142 445A4845494E205241534B415A414C4149454D5520455455205049545349414C
0036++ 7162 4E5549554953544F524959552E2020
0037++ 7171             	DB	"IKAGDAONWOYRAS, TOATPRAVILSYAVRADNOYIEKRAIYA, "
0037++ 7171 494B414744414F4E574F595241532C20544F415450524156494C535941565241
0037++ 7191 444E4F5949454B52414959412C20
0038++ 719F             	DB	"SHTOBOYASVABADIT'SVAIYUSTRANU",0
0038++ 719F 5348544F424F5941535641424144495427535641495955535452414E5500
0039++ 71BD             
0040++ 71BD             TXCTRL1	DB	"1:=KLAVIATURA",14
0040++ 71BD 313A3D4B4C41564941545552410E
0041++ 71CB             	DB	"2:=SINKLER",14
0041++ 71CB 323A3D53494E4B4C45520E
0042++ 71D6             	DB	"3:=KEMPSTON",14
0042++ 71D6 333A3D4B454D5053544F4E0E
0043++ 71E2             	DB	"4:=KURSOR",0
0043++ 71E2 343A3D4B5552534F5200
0044++ 71EC             TXCTR5A	DB	"9:=M>OGON]=====",14
0044++ 71EC 393A3D4D3E4F474F4E5D3D3D3D3D3D0E
0045++ 71FC             	DB	"===PROBEL>KARTA",0
0045++ 71FC 3D3D3D50524F42454C3E4B4152544100
0046++ 720C             TXCTR5B	DB	"9:=PROBEL>OGON]",14
0046++ 720C 393A3D50524F42454C3E4F474F4E5D0E
0047++ 721C             	DB	"===M>KARTA=====",0
0047++ 721C 3D3D3D4D3E4B415254413D3D3D3D3D00
0048++ 722C             TXCTRL0	DB	"===NAJMITE=OGON]",0
0048++ 722C 3D3D3D4E414A4D4954453D4F474F4E5D00
0049++ 723D             
0198+  723D             	ENDIF
0199+  723D             
0200+  723D             
0062   723D             	display $
0063   723D             	ORG	29440
0064   7300             	display $
0065   7300             
0066   7300             MIRTAB	INCBIN "res\mirtab.dat"
0067   7400             
0068   7400             WALEL1	INCBIN "res\walel1.dat"
0069   7480             WALEL2	INCBIN "res\walel2.dat"
0070   74C0             
0071   74C0             	INCLUDE	"Qmapdata.txt"
0001+  74C0             MAP6	INCBIN "res\map6.dat"	; village
0002+  75E9             
0003+  75E9             MAP5	INCBIN "res\map5.dat"	; bridge
0004+  76ED             
0005+  76ED             MAP4	INCBIN "res\map4.dat"	; sanctum/nest
0006+  7850             
0007+  7850             MAP3	INCBIN "res\map3.dat"	; corridors/inferno
0008+  795C             
0009+  795C             MAP2	INCBIN "res\map2.dat"	; avenue
0010+  79F3             
0011+  79F3             MAP1	INCBIN "res\map1.dat"	; maze/limit
0012+  7B47             
0013+  7B47 65          MAP0	DEFB	#65
0014+  7B48 0A          	DEFB	10
0015+  7B49 64 E0       	DEFW	L_UMAP+100
0016+  7B4B 0A          	DEFB	10
0017+  7B4C 64 F4       	DEFW	L_UMAP+100+256*20
0018+  7B4E 0A          	DEFB	10
0019+  7B4F 6D E0       	DEFW	L_UMAP+109
0020+  7B51 0A          	DEFB	10
0021+  7B52 6D F4       	DEFW	L_UMAP+109+256*20
0022+  7B54             ;==	DEFB	22
0023+  7B54             ;==	DEFW	L_UMAP+129+256*4
0024+  7B54 06          	DEFB	6
0025+  7B55 46 EC       	DEFW	L_UMAP+70+256*12
0026+  7B57             
0027+  7B57 FF          	DEFB	255
0028+  7B58             
0029+  7B58 66          	DEFB	#66
0030+  7B59 0B          	DEFB	11
0031+  7B5A 64 E0       	DEFW	L_UMAP+100
0032+  7B5C 0B          	DEFB	11
0033+  7B5D 64 FC       	DEFW	L_UMAP+100+256*28
0034+  7B5F 20          	DEFB	32
0035+  7B60 46 EA       	DEFW	L_UMAP+70+256*10
0036+  7B62 20          	DEFB	32
0037+  7B63 46 F2       	DEFW	L_UMAP+70+256*18
0038+  7B65 10          	DEFB	16
0039+  7B66 6D EA       	DEFW	L_UMAP+109+256*10
0040+  7B68 10          	DEFB	16
0041+  7B69 6D F2       	DEFW	L_UMAP+109+256*18
0042+  7B6B             
0043+  7B6B FF          	DEFB	255
0044+  7B6C             
0045+  7B6C 9B          	DEFB	155
0046+  7B6D 69 FB       	DEFW	L_UMAP+105+256*27
0047+  7B6F 9B          	DEFB	155
0048+  7B70 69 E2       	DEFW	L_UMAP+105+256*2
0049+  7B72 6A          	DEFB	106
0050+  7B73 73 EC       	DEFW	L_UMAP+115+256*12
0051+  7B75 62          	DEFB	98
0052+  7B76 79 EC       	DEFW	L_UMAP+121+256*12
0053+  7B78             
0054+  7B78 FF          	DEFB	255
0055+  7B79             
0072   7B79             
0073   7B79             ;---ORG	31488
0074   7B79             
0075   7B79             QTABS
0076   7B79             	INCLUDE	"Qtabs.ASM"		; <--- labels here
0001+  7B79 02          L_65A8	DB	#02
0002+  7B7A FF          	DB	#FF
0003+  7B7B 01          	DB	#01
0004+  7B7C FF          	DB	#FF
0005+  7B7D 00          	DB	#00
0006+  7B7E FF          	DB	#FF
0007+  7B7F FF          	DB	#FF
0008+  7B80 FF          	DB	#FF
0009+  7B81 FE          	DB	#FE
0010+  7B82 FF          	DB	#FF
0011+  7B83 03          	DB	#03
0012+  7B84 FE          	DB	#FE
0013+  7B85 02          	DB	#02
0014+  7B86 FE          	DB	#FE
0015+  7B87 01          	DB	#01
0016+  7B88 FE          	DB	#FE
0017+  7B89 00          	DB	#00
0018+  7B8A FE          	DB	#FE
0019+  7B8B FF          	DB	#FF
0020+  7B8C FE          	DB	#FE
0021+  7B8D FE          	DB	#FE
0022+  7B8E FE          	DB	#FE
0023+  7B8F FD          	DB	#FD
0024+  7B90 FE          	DB	#FE
0025+  7B91 04          	DB	#04
0026+  7B92 FD          	DB	#FD
0027+  7B93 03          	DB	#03
0028+  7B94 FD          	DB	#FD
0029+  7B95 02          	DB	#02
0030+  7B96 FD          	DB	#FD
0031+  7B97 01          	DB	#01
0032+  7B98 FD          	DB	#FD
0033+  7B99 00          	DB	#00
0034+  7B9A FD          	DB	#FD
0035+  7B9B FF          	DB	#FF
0036+  7B9C FD          	DB	#FD
0037+  7B9D FE          	DB	#FE
0038+  7B9E FD          	DB	#FD
0039+  7B9F FD          	DB	#FD
0040+  7BA0 FD          	DB	#FD
0041+  7BA1 FC          	DB	#FC
0042+  7BA2 FD          	DB	#FD
0043+  7BA3 05          	DB	#05
0044+  7BA4 FC          	DB	#FC
0045+  7BA5 04          	DB	#04
0046+  7BA6 FC          	DB	#FC
0047+  7BA7 03          	DB	#03
0048+  7BA8 FC          	DB	#FC
0049+  7BA9 02          	DB	#02
0050+  7BAA FC          	DB	#FC
0051+  7BAB 01          	DB	#01
0052+  7BAC FC          	DB	#FC
0053+  7BAD 00          	DB	#00
0054+  7BAE FC          	DB	#FC
0055+  7BAF FF          	DB	#FF
0056+  7BB0 FC          	DB	#FC
0057+  7BB1 FE          	DB	#FE
0058+  7BB2 FC          	DB	#FC
0059+  7BB3 FD          	DB	#FD
0060+  7BB4 FC          	DB	#FC
0061+  7BB5 FC          	DB	#FC
0062+  7BB6 FC          	DB	#FC
0063+  7BB7 FB          	DB	#FB
0064+  7BB8 FC          	DB	#FC
0065+  7BB9 06          	DB	#06
0066+  7BBA FB          	DB	#FB
0067+  7BBB 05          	DB	#05
0068+  7BBC FB          	DB	#FB
0069+  7BBD 04          	DB	#04
0070+  7BBE FB          	DB	#FB
0071+  7BBF 03          	DB	#03
0072+  7BC0 FB          	DB	#FB
0073+  7BC1 02          	DB	#02
0074+  7BC2 FB          	DB	#FB
0075+  7BC3 01          	DB	#01
0076+  7BC4 FB          	DB	#FB
0077+  7BC5 00          	DB	#00
0078+  7BC6 FB          	DB	#FB
0079+  7BC7 FF          	DB	#FF
0080+  7BC8 FB          	DB	#FB
0081+  7BC9 FE          	DB	#FE
0082+  7BCA FB          	DB	#FB
0083+  7BCB FD          	DB	#FD
0084+  7BCC FB          	DB	#FB
0085+  7BCD FC          	DB	#FC
0086+  7BCE FB          	DB	#FB
0087+  7BCF FB          	DB	#FB
0088+  7BD0 FB          	DB	#FB
0089+  7BD1 FA          	DB	#FA
0090+  7BD2 FB          	DB	#FB
0091+  7BD3 07          	DB	#07
0092+  7BD4 FA          	DB	#FA
0093+  7BD5 06          	DB	#06
0094+  7BD6 FA          	DB	#FA
0095+  7BD7 05          	DB	#05
0096+  7BD8 FA          	DB	#FA
0097+  7BD9 04          	DB	#04
0098+  7BDA FA          	DB	#FA
0099+  7BDB 03          	DB	#03
0100+  7BDC FA          	DB	#FA
0101+  7BDD 02          	DB	#02
0102+  7BDE FA          	DB	#FA
0103+  7BDF 01          	DB	#01
0104+  7BE0 FA          	DB	#FA
0105+  7BE1 00          	DB	#00
0106+  7BE2 FA          	DB	#FA
0107+  7BE3 FF          	DB	#FF
0108+  7BE4 FA          	DB	#FA
0109+  7BE5 FE          	DB	#FE
0110+  7BE6 FA          	DB	#FA
0111+  7BE7 FD          	DB	#FD
0112+  7BE8 FA          	DB	#FA
0113+  7BE9 FC          	DB	#FC
0114+  7BEA FA          	DB	#FA
0115+  7BEB FB          	DB	#FB
0116+  7BEC FA          	DB	#FA
0117+  7BED FA          	DB	#FA
0118+  7BEE FA          	DB	#FA
0119+  7BEF F9          	DB	#F9
0120+  7BF0 FA          	DB	#FA
0121+  7BF1 08          	DB	#08
0122+  7BF2 F9          	DB	#F9
0123+  7BF3 07          	DB	#07
0124+  7BF4 F9          	DB	#F9
0125+  7BF5 06          	DB	#06
0126+  7BF6 F9          	DB	#F9
0127+  7BF7 05          	DB	#05
0128+  7BF8 F9          	DB	#F9
0129+  7BF9 04          	DB	#04
0130+  7BFA F9          	DB	#F9
0131+  7BFB 03          	DB	#03
0132+  7BFC F9          	DB	#F9
0133+  7BFD 02          	DB	#02
0134+  7BFE F9          	DB	#F9
0135+  7BFF 01          	DB	#01
0136+  7C00 F9          	DB	#F9
0137+  7C01 00          	DB	#00
0138+  7C02 F9          	DB	#F9
0139+  7C03 FF          	DB	#FF
0140+  7C04 F9          	DB	#F9
0141+  7C05 FE          	DB	#FE
0142+  7C06 F9          	DB	#F9
0143+  7C07 FD          	DB	#FD
0144+  7C08 F9          	DB	#F9
0145+  7C09 FC          	DB	#FC
0146+  7C0A F9          	DB	#F9
0147+  7C0B FB          	DB	#FB
0148+  7C0C F9          	DB	#F9
0149+  7C0D FA          	DB	#FA
0150+  7C0E F9          	DB	#F9
0151+  7C0F F9          	DB	#F9
0152+  7C10 F9          	DB	#F9
0153+  7C11 F8          	DB	#F8
0154+  7C12 F9          	DB	#F9
0155+  7C13 09          	DB	#09
0156+  7C14 F8          	DB	#F8
0157+  7C15 08          	DB	#08
0158+  7C16 F8          	DB	#F8
0159+  7C17 07          	DB	#07
0160+  7C18 F8          	DB	#F8
0161+  7C19 06          	DB	#06
0162+  7C1A F8          	DB	#F8
0163+  7C1B 05          	DB	#05
0164+  7C1C F8          	DB	#F8
0165+  7C1D 04          	DB	#04
0166+  7C1E F8          	DB	#F8
0167+  7C1F 03          	DB	#03
0168+  7C20 F8          	DB	#F8
0169+  7C21 02          	DB	#02
0170+  7C22 F8          	DB	#F8
0171+  7C23 01          	DB	#01
0172+  7C24 F8          	DB	#F8
0173+  7C25 00          	DB	#00
0174+  7C26 F8          	DB	#F8
0175+  7C27 FF          	DB	#FF
0176+  7C28 F8          	DB	#F8
0177+  7C29 FE          	DB	#FE
0178+  7C2A F8          	DB	#F8
0179+  7C2B FD          	DB	#FD
0180+  7C2C F8          	DB	#F8
0181+  7C2D FC          	DB	#FC
0182+  7C2E F8          	DB	#F8
0183+  7C2F FB          	DB	#FB
0184+  7C30 F8          	DB	#F8
0185+  7C31 FA          	DB	#FA
0186+  7C32 F8          	DB	#F8
0187+  7C33 F9          	DB	#F9
0188+  7C34 F8          	DB	#F8
0189+  7C35 F8          	DB	#F8
0190+  7C36 F8          	DB	#F8
0191+  7C37 F7          	DB	#F7
0192+  7C38 F8          	DB	#F8
0193+  7C39 0A          	DB	#0A
0194+  7C3A F7          	DB	#F7
0195+  7C3B 09          	DB	#09
0196+  7C3C F7          	DB	#F7
0197+  7C3D 08          	DB	#08
0198+  7C3E F7          	DB	#F7
0199+  7C3F 07          	DB	#07
0200+  7C40 F7          	DB	#F7
0201+  7C41 06          	DB	#06
0202+  7C42 F7          	DB	#F7
0203+  7C43 05          	DB	#05
0204+  7C44 F7          	DB	#F7
0205+  7C45 04          	DB	#04
0206+  7C46 F7          	DB	#F7
0207+  7C47 03          	DB	#03
0208+  7C48 F7          	DB	#F7
0209+  7C49 02          	DB	#02
0210+  7C4A F7          	DB	#F7
0211+  7C4B 01          	DB	#01
0212+  7C4C F7          	DB	#F7
0213+  7C4D 00          	DB	#00
0214+  7C4E F7          	DB	#F7
0215+  7C4F FF          	DB	#FF
0216+  7C50 F7          	DB	#F7
0217+  7C51 FE          	DB	#FE
0218+  7C52 F7          	DB	#F7
0219+  7C53 FD          	DB	#FD
0220+  7C54 F7          	DB	#F7
0221+  7C55 FC          	DB	#FC
0222+  7C56 F7          	DB	#F7
0223+  7C57 FB          	DB	#FB
0224+  7C58 F7          	DB	#F7
0225+  7C59 FA          	DB	#FA
0226+  7C5A F7          	DB	#F7
0227+  7C5B F9          	DB	#F9
0228+  7C5C F7          	DB	#F7
0229+  7C5D F8          	DB	#F8
0230+  7C5E F7          	DB	#F7
0231+  7C5F F7          	DB	#F7
0232+  7C60 F7          	DB	#F7
0233+  7C61 F6          	DB	#F6
0234+  7C62 F7          	DB	#F7
0235+  7C63 0B          	DB	#0B
0236+  7C64 F6          	DB	#F6
0237+  7C65 0A          	DB	#0A
0238+  7C66 F6          	DB	#F6
0239+  7C67 09          	DB	#09
0240+  7C68 F6          	DB	#F6
0241+  7C69 08          	DB	#08
0242+  7C6A F6          	DB	#F6
0243+  7C6B 07          	DB	#07
0244+  7C6C F6          	DB	#F6
0245+  7C6D 06          	DB	#06
0246+  7C6E F6          	DB	#F6
0247+  7C6F 05          	DB	#05
0248+  7C70 F6          	DB	#F6
0249+  7C71 04          	DB	#04
0250+  7C72 F6          	DB	#F6
0251+  7C73 03          	DB	#03
0252+  7C74 F6          	DB	#F6
0253+  7C75 02          	DB	#02
0254+  7C76 F6          	DB	#F6
0255+  7C77 01          	DB	#01
0256+  7C78 F6          	DB	#F6
0257+  7C79 00          	DB	#00
0258+  7C7A F6          	DB	#F6
0259+  7C7B FF          	DB	#FF
0260+  7C7C F6          	DB	#F6
0261+  7C7D FE          	DB	#FE
0262+  7C7E F6          	DB	#F6
0263+  7C7F FD          	DB	#FD
0264+  7C80 F6          	DB	#F6
0265+  7C81 FC          	DB	#FC
0266+  7C82 F6          	DB	#F6
0267+  7C83 FB          	DB	#FB
0268+  7C84 F6          	DB	#F6
0269+  7C85 FA          	DB	#FA
0270+  7C86 F6          	DB	#F6
0271+  7C87 F9          	DB	#F9
0272+  7C88 F6          	DB	#F6
0273+  7C89 F8          	DB	#F8
0274+  7C8A F6          	DB	#F6
0275+  7C8B F7          	DB	#F7
0276+  7C8C F6          	DB	#F6
0277+  7C8D F6          	DB	#F6
0278+  7C8E F6          	DB	#F6
0279+  7C8F F5          	DB	#F5
0280+  7C90 F6          	DB	#F6
0281+  7C91 0C          	DB	#0C
0282+  7C92 F5          	DB	#F5
0283+  7C93 0B          	DB	#0B
0284+  7C94 F5          	DB	#F5
0285+  7C95 0A          	DB	#0A
0286+  7C96 F5          	DB	#F5
0287+  7C97 09          	DB	#09
0288+  7C98 F5          	DB	#F5
0289+  7C99 08          	DB	#08
0290+  7C9A F5          	DB	#F5
0291+  7C9B 07          	DB	#07
0292+  7C9C F5          	DB	#F5
0293+  7C9D 06          	DB	#06
0294+  7C9E F5          	DB	#F5
0295+  7C9F 05          	DB	#05
0296+  7CA0 F5          	DB	#F5
0297+  7CA1 04          	DB	#04
0298+  7CA2 F5          	DB	#F5
0299+  7CA3 03          	DB	#03
0300+  7CA4 F5          	DB	#F5
0301+  7CA5 02          	DB	#02
0302+  7CA6 F5          	DB	#F5
0303+  7CA7 01          	DB	#01
0304+  7CA8 F5          	DB	#F5
0305+  7CA9 00          	DB	#00
0306+  7CAA F5          	DB	#F5
0307+  7CAB FF          	DB	#FF
0308+  7CAC F5          	DB	#F5
0309+  7CAD FE          	DB	#FE
0310+  7CAE F5          	DB	#F5
0311+  7CAF FD          	DB	#FD
0312+  7CB0 F5          	DB	#F5
0313+  7CB1 FC          	DB	#FC
0314+  7CB2 F5          	DB	#F5
0315+  7CB3 FB          	DB	#FB
0316+  7CB4 F5          	DB	#F5
0317+  7CB5 FA          	DB	#FA
0318+  7CB6 F5          	DB	#F5
0319+  7CB7 F9          	DB	#F9
0320+  7CB8 F5          	DB	#F5
0321+  7CB9 F8          	DB	#F8
0322+  7CBA F5          	DB	#F5
0323+  7CBB F7          	DB	#F7
0324+  7CBC F5          	DB	#F5
0325+  7CBD F6          	DB	#F6
0326+  7CBE F5          	DB	#F5
0327+  7CBF F5          	DB	#F5
0328+  7CC0 F5          	DB	#F5
0329+  7CC1 F4          	DB	#F4
0330+  7CC2 F5          	DB	#F5
0331+  7CC3 0D          	DB	#0D
0332+  7CC4 F4          	DB	#F4
0333+  7CC5 0C          	DB	#0C
0334+  7CC6 F4          	DB	#F4
0335+  7CC7 0B          	DB	#0B
0336+  7CC8 F4          	DB	#F4
0337+  7CC9 0A          	DB	#0A
0338+  7CCA F4          	DB	#F4
0339+  7CCB 09          	DB	#09
0340+  7CCC F4          	DB	#F4
0341+  7CCD 08          	DB	#08
0342+  7CCE F4          	DB	#F4
0343+  7CCF 07          	DB	#07
0344+  7CD0 F4          	DB	#F4
0345+  7CD1 06          	DB	#06
0346+  7CD2 F4          	DB	#F4
0347+  7CD3 05          	DB	#05
0348+  7CD4 F4          	DB	#F4
0349+  7CD5 04          	DB	#04
0350+  7CD6 F4          	DB	#F4
0351+  7CD7 03          	DB	#03
0352+  7CD8 F4          	DB	#F4
0353+  7CD9 02          	DB	#02
0354+  7CDA F4          	DB	#F4
0355+  7CDB 01          	DB	#01
0356+  7CDC F4          	DB	#F4
0357+  7CDD 00          	DB	#00
0358+  7CDE F4          	DB	#F4
0359+  7CDF FF          	DB	#FF
0360+  7CE0 F4          	DB	#F4
0361+  7CE1 FE          	DB	#FE
0362+  7CE2 F4          	DB	#F4
0363+  7CE3 FD          	DB	#FD
0364+  7CE4 F4          	DB	#F4
0365+  7CE5 FC          	DB	#FC
0366+  7CE6 F4          	DB	#F4
0367+  7CE7 FB          	DB	#FB
0368+  7CE8 F4          	DB	#F4
0369+  7CE9 FA          	DB	#FA
0370+  7CEA F4          	DB	#F4
0371+  7CEB F9          	DB	#F9
0372+  7CEC F4          	DB	#F4
0373+  7CED F8          	DB	#F8
0374+  7CEE F4          	DB	#F4
0375+  7CEF F7          	DB	#F7
0376+  7CF0 F4          	DB	#F4
0377+  7CF1 F6          	DB	#F6
0378+  7CF2 F4          	DB	#F4
0379+  7CF3 F5          	DB	#F5
0380+  7CF4 F4          	DB	#F4
0381+  7CF5 F4          	DB	#F4
0382+  7CF6 F4          	DB	#F4
0383+  7CF7 F3          	DB	#F3
0384+  7CF8 F4          	DB	#F4
0385+  7CF9 0E          	DB	#0E
0386+  7CFA F3          	DB	#F3
0387+  7CFB 0D          	DB	#0D
0388+  7CFC F3          	DB	#F3
0389+  7CFD 0C          	DB	#0C
0390+  7CFE F3          	DB	#F3
0391+  7CFF 0B          	DB	#0B
0392+  7D00 F3          	DB	#F3
0393+  7D01 0A          	DB	#0A
0394+  7D02 F3          	DB	#F3
0395+  7D03 09          	DB	#09
0396+  7D04 F3          	DB	#F3
0397+  7D05 08          	DB	#08
0398+  7D06 F3          	DB	#F3
0399+  7D07 07          	DB	#07
0400+  7D08 F3          	DB	#F3
0401+  7D09 06          	DB	#06
0402+  7D0A F3          	DB	#F3
0403+  7D0B 05          	DB	#05
0404+  7D0C F3          	DB	#F3
0405+  7D0D 04          	DB	#04
0406+  7D0E F3          	DB	#F3
0407+  7D0F 03          	DB	#03
0408+  7D10 F3          	DB	#F3
0409+  7D11 02          	DB	#02
0410+  7D12 F3          	DB	#F3
0411+  7D13 01          	DB	#01
0412+  7D14 F3          	DB	#F3
0413+  7D15 00          	DB	#00
0414+  7D16 F3          	DB	#F3
0415+  7D17 FF          	DB	#FF
0416+  7D18 F3          	DB	#F3
0417+  7D19 FE          	DB	#FE
0418+  7D1A F3          	DB	#F3
0419+  7D1B FD          	DB	#FD
0420+  7D1C F3          	DB	#F3
0421+  7D1D FC          	DB	#FC
0422+  7D1E F3          	DB	#F3
0423+  7D1F FB          	DB	#FB
0424+  7D20 F3          	DB	#F3
0425+  7D21 FA          	DB	#FA
0426+  7D22 F3          	DB	#F3
0427+  7D23 F9          	DB	#F9
0428+  7D24 F3          	DB	#F3
0429+  7D25 F8          	DB	#F8
0430+  7D26 F3          	DB	#F3
0431+  7D27 F7          	DB	#F7
0432+  7D28 F3          	DB	#F3
0433+  7D29 F6          	DB	#F6
0434+  7D2A F3          	DB	#F3
0435+  7D2B F5          	DB	#F5
0436+  7D2C F3          	DB	#F3
0437+  7D2D F4          	DB	#F4
0438+  7D2E F3          	DB	#F3
0439+  7D2F F3          	DB	#F3
0440+  7D30 F3          	DB	#F3
0441+  7D31 F2          	DB	#F2
0442+  7D32 F3          	DB	#F3
0443+  7D33 01          L_6762	DB	#01
0444+  7D34 FE          	DB	#FE
0445+  7D35 00          	DB	#00
0446+  7D36 FF          	DB	#FF
0447+  7D37 FF          	DB	#FF
0448+  7D38 FF          	DB	#FF
0449+  7D39 FF          	DB	#FF
0450+  7D3A 00          	DB	#00
0451+  7D3B FE          	DB	#FE
0452+  7D3C 00          	DB	#00
0453+  7D3D 00          	DB	#00
0454+  7D3E FD          	DB	#FD
0455+  7D3F FF          	DB	#FF
0456+  7D40 FD          	DB	#FD
0457+  7D41 FF          	DB	#FF
0458+  7D42 FE          	DB	#FE
0459+  7D43 FE          	DB	#FE
0460+  7D44 FE          	DB	#FE
0461+  7D45 FE          	DB	#FE
0462+  7D46 FF          	DB	#FF
0463+  7D47 FD          	DB	#FD
0464+  7D48 FF          	DB	#FF
0465+  7D49 FD          	DB	#FD
0466+  7D4A 00          	DB	#00
0467+  7D4B 00          	DB	#00
0468+  7D4C FB          	DB	#FB
0469+  7D4D 00          	DB	#00
0470+  7D4E FC          	DB	#FC
0471+  7D4F FF          	DB	#FF
0472+  7D50 FC          	DB	#FC
0473+  7D51 FE          	DB	#FE
0474+  7D52 FD          	DB	#FD
0475+  7D53 FE          	DB	#FE
0476+  7D54 FE          	DB	#FE
0477+  7D55 FD          	DB	#FD
0478+  7D56 FE          	DB	#FE
0479+  7D57 FC          	DB	#FC
0480+  7D58 FF          	DB	#FF
0481+  7D59 FC          	DB	#FC
0482+  7D5A 00          	DB	#00
0483+  7D5B FB          	DB	#FB
0484+  7D5C 00          	DB	#00
0485+  7D5D 00          	DB	#00
0486+  7D5E FA          	DB	#FA
0487+  7D5F FF          	DB	#FF
0488+  7D60 FB          	DB	#FB
0489+  7D61 FE          	DB	#FE
0490+  7D62 FB          	DB	#FB
0491+  7D63 FE          	DB	#FE
0492+  7D64 FC          	DB	#FC
0493+  7D65 FD          	DB	#FD
0494+  7D66 FC          	DB	#FC
0495+  7D67 FD          	DB	#FD
0496+  7D68 FD          	DB	#FD
0497+  7D69 FC          	DB	#FC
0498+  7D6A FD          	DB	#FD
0499+  7D6B FC          	DB	#FC
0500+  7D6C FE          	DB	#FE
0501+  7D6D FB          	DB	#FB
0502+  7D6E FE          	DB	#FE
0503+  7D6F FB          	DB	#FB
0504+  7D70 FF          	DB	#FF
0505+  7D71 FA          	DB	#FA
0506+  7D72 00          	DB	#00
0507+  7D73 00          	DB	#00
0508+  7D74 F8          	DB	#F8
0509+  7D75 00          	DB	#00
0510+  7D76 F9          	DB	#F9
0511+  7D77 FF          	DB	#FF
0512+  7D78 F9          	DB	#F9
0513+  7D79 FF          	DB	#FF
0514+  7D7A FA          	DB	#FA
0515+  7D7B FE          	DB	#FE
0516+  7D7C FA          	DB	#FA
0517+  7D7D FD          	DB	#FD
0518+  7D7E FB          	DB	#FB
0519+  7D7F FC          	DB	#FC
0520+  7D80 FC          	DB	#FC
0521+  7D81 FB          	DB	#FB
0522+  7D82 FD          	DB	#FD
0523+  7D83 FA          	DB	#FA
0524+  7D84 FE          	DB	#FE
0525+  7D85 FA          	DB	#FA
0526+  7D86 FF          	DB	#FF
0527+  7D87 F9          	DB	#F9
0528+  7D88 FF          	DB	#FF
0529+  7D89 F9          	DB	#F9
0530+  7D8A 00          	DB	#00
0531+  7D8B F8          	DB	#F8
0532+  7D8C 00          	DB	#00
0533+  7D8D 00          	DB	#00
0534+  7D8E F7          	DB	#F7
0535+  7D8F FF          	DB	#FF
0536+  7D90 F8          	DB	#F8
0537+  7D91 FE          	DB	#FE
0538+  7D92 F9          	DB	#F9
0539+  7D93 FD          	DB	#FD
0540+  7D94 F9          	DB	#F9
0541+  7D95 FD          	DB	#FD
0542+  7D96 FA          	DB	#FA
0543+  7D97 FC          	DB	#FC
0544+  7D98 FA          	DB	#FA
0545+  7D99 FC          	DB	#FC
0546+  7D9A FB          	DB	#FB
0547+  7D9B FB          	DB	#FB
0548+  7D9C FB          	DB	#FB
0549+  7D9D FB          	DB	#FB
0550+  7D9E FC          	DB	#FC
0551+  7D9F FA          	DB	#FA
0552+  7DA0 FC          	DB	#FC
0553+  7DA1 FA          	DB	#FA
0554+  7DA2 FD          	DB	#FD
0555+  7DA3 F9          	DB	#F9
0556+  7DA4 FD          	DB	#FD
0557+  7DA5 F9          	DB	#F9
0558+  7DA6 FE          	DB	#FE
0559+  7DA7 F8          	DB	#F8
0560+  7DA8 FF          	DB	#FF
0561+  7DA9 F7          	DB	#F7
0562+  7DAA 00          	DB	#00
0563+  7DAB 00          	DB	#00
0564+  7DAC F5          	DB	#F5
0565+  7DAD 00          	DB	#00
0566+  7DAE F6          	DB	#F6
0567+  7DAF FF          	DB	#FF
0568+  7DB0 F6          	DB	#F6
0569+  7DB1 FF          	DB	#FF
0570+  7DB2 F7          	DB	#F7
0571+  7DB3 FE          	DB	#FE
0572+  7DB4 F7          	DB	#F7
0573+  7DB5 FE          	DB	#FE
0574+  7DB6 F8          	DB	#F8
0575+  7DB7 FD          	DB	#FD
0576+  7DB8 F8          	DB	#F8
0577+  7DB9 FC          	DB	#FC
0578+  7DBA F9          	DB	#F9
0579+  7DBB FB          	DB	#FB
0580+  7DBC FA          	DB	#FA
0581+  7DBD FA          	DB	#FA
0582+  7DBE FB          	DB	#FB
0583+  7DBF F9          	DB	#F9
0584+  7DC0 FC          	DB	#FC
0585+  7DC1 F8          	DB	#F8
0586+  7DC2 FD          	DB	#FD
0587+  7DC3 F8          	DB	#F8
0588+  7DC4 FE          	DB	#FE
0589+  7DC5 F7          	DB	#F7
0590+  7DC6 FE          	DB	#FE
0591+  7DC7 F7          	DB	#F7
0592+  7DC8 FF          	DB	#FF
0593+  7DC9 F6          	DB	#F6
0594+  7DCA FF          	DB	#FF
0595+  7DCB F6          	DB	#F6
0596+  7DCC 00          	DB	#00
0597+  7DCD 00          	DB	#00
0598+  7DCE F4          	DB	#F4
0599+  7DCF FF          	DB	#FF
0600+  7DD0 F5          	DB	#F5
0601+  7DD1 FE          	DB	#FE
0602+  7DD2 F6          	DB	#F6
0603+  7DD3 FD          	DB	#FD
0604+  7DD4 F7          	DB	#F7
0605+  7DD5 FC          	DB	#FC
0606+  7DD6 F7          	DB	#F7
0607+  7DD7 FC          	DB	#FC
0608+  7DD8 F8          	DB	#F8
0609+  7DD9 FB          	DB	#FB
0610+  7DDA F8          	DB	#F8
0611+  7DDB FB          	DB	#FB
0612+  7DDC F9          	DB	#F9
0613+  7DDD FA          	DB	#FA
0614+  7DDE F9          	DB	#F9
0615+  7DDF FA          	DB	#FA
0616+  7DE0 FA          	DB	#FA
0617+  7DE1 F9          	DB	#F9
0618+  7DE2 FA          	DB	#FA
0619+  7DE3 F9          	DB	#F9
0620+  7DE4 FB          	DB	#FB
0621+  7DE5 F8          	DB	#F8
0622+  7DE6 FB          	DB	#FB
0623+  7DE7 F8          	DB	#F8
0624+  7DE8 FC          	DB	#FC
0625+  7DE9 F7          	DB	#F7
0626+  7DEA FD          	DB	#FD
0627+  7DEB F6          	DB	#F6
0628+  7DEC FE          	DB	#FE
0629+  7DED F5          	DB	#F5
0630+  7DEE FF          	DB	#FF
0631+  7DEF F5          	DB	#F5
0632+  7DF0 00          	DB	#00
0633+  7DF1 F4          	DB	#F4
0634+  7DF2 00          	DB	#00
0635+  7DF3 00          	DB	#00
0636+  7DF4 F3          	DB	#F3
0637+  7DF5 FF          	DB	#FF
0638+  7DF6 F3          	DB	#F3
0639+  7DF7 FF          	DB	#FF
0640+  7DF8 F4          	DB	#F4
0641+  7DF9 FE          	DB	#FE
0642+  7DFA F4          	DB	#F4
0643+  7DFB FE          	DB	#FE
0644+  7DFC F5          	DB	#F5
0645+  7DFD FD          	DB	#FD
0646+  7DFE F5          	DB	#F5
0647+  7DFF FD          	DB	#FD
0648+  7E00 F6          	DB	#F6
0649+  7E01 FC          	DB	#FC
0650+  7E02 F6          	DB	#F6
0651+  7E03 FB          	DB	#FB
0652+  7E04 F7          	DB	#F7
0653+  7E05 FA          	DB	#FA
0654+  7E06 F8          	DB	#F8
0655+  7E07 F9          	DB	#F9
0656+  7E08 F9          	DB	#F9
0657+  7E09 F8          	DB	#F8
0658+  7E0A FA          	DB	#FA
0659+  7E0B F7          	DB	#F7
0660+  7E0C FB          	DB	#FB
0661+  7E0D F7          	DB	#F7
0662+  7E0E FC          	DB	#FC
0663+  7E0F F6          	DB	#F6
0664+  7E10 FC          	DB	#FC
0665+  7E11 F6          	DB	#F6
0666+  7E12 FD          	DB	#FD
0667+  7E13 F5          	DB	#F5
0668+  7E14 FD          	DB	#FD
0669+  7E15 F5          	DB	#F5
0670+  7E16 FE          	DB	#FE
0671+  7E17 F4          	DB	#F4
0672+  7E18 FE          	DB	#FE
0673+  7E19 F4          	DB	#F4
0674+  7E1A FF          	DB	#FF
0675+  7E1B F3          	DB	#F3
0676+  7E1C 00          	DB	#00
0677+  7E1D 00          	DB	#00
0678+  7E1E F1          	DB	#F1
0679+  7E1F 00          	DB	#00
0680+  7E20 F2          	DB	#F2
0681+  7E21 FF          	DB	#FF
0682+  7E22 F2          	DB	#F2
0683+  7E23 FE          	DB	#FE
0684+  7E24 F3          	DB	#F3
0685+  7E25 FD          	DB	#FD
0686+  7E26 F4          	DB	#F4
0687+  7E27 FC          	DB	#FC
0688+  7E28 F5          	DB	#F5
0689+  7E29 FB          	DB	#FB
0690+  7E2A F6          	DB	#F6
0691+  7E2B FA          	DB	#FA
0692+  7E2C F7          	DB	#F7
0693+  7E2D F9          	DB	#F9
0694+  7E2E F7          	DB	#F7
0695+  7E2F F9          	DB	#F9
0696+  7E30 F8          	DB	#F8
0697+  7E31 F8          	DB	#F8
0698+  7E32 F8          	DB	#F8
0699+  7E33 F8          	DB	#F8
0700+  7E34 F9          	DB	#F9
0701+  7E35 F7          	DB	#F7
0702+  7E36 F9          	DB	#F9
0703+  7E37 F7          	DB	#F7
0704+  7E38 FA          	DB	#FA
0705+  7E39 F6          	DB	#F6
0706+  7E3A FA          	DB	#FA
0707+  7E3B F6          	DB	#F6
0708+  7E3C FB          	DB	#FB
0709+  7E3D F5          	DB	#F5
0710+  7E3E FC          	DB	#FC
0711+  7E3F F4          	DB	#F4
0712+  7E40 FD          	DB	#FD
0713+  7E41 F3          	DB	#F3
0714+  7E42 FE          	DB	#FE
0715+  7E43 F3          	DB	#F3
0716+  7E44 FF          	DB	#FF
0717+  7E45 F2          	DB	#F2
0718+  7E46 FF          	DB	#FF
0719+  7E47 F2          	DB	#F2
0720+  7E48 00          	DB	#00
0721+  7E49 F1          	DB	#F1
0722+  7E4A 00          	DB	#00
0723+  7E4B 00          	DB	#00
0724+  7E4C F0          	DB	#F0
0725+  7E4D FF          	DB	#FF
0726+  7E4E F1          	DB	#F1
0727+  7E4F FE          	DB	#FE
0728+  7E50 F2          	DB	#F2
0729+  7E51 F2          	DB	#F2
0730+  7E52 F2          	DB	#F2
0731+  7E53 FD          	DB	#FD
0732+  7E54 F3          	DB	#F3
0733+  7E55 FC          	DB	#FC
0734+  7E56 F3          	DB	#F3
0735+  7E57 FC          	DB	#FC
0736+  7E58 F4          	DB	#F4
0737+  7E59 FB          	DB	#FB
0738+  7E5A F4          	DB	#F4
0739+  7E5B FB          	DB	#FB
0740+  7E5C F5          	DB	#F5
0741+  7E5D FA          	DB	#FA
0742+  7E5E F5          	DB	#F5
0743+  7E5F FA          	DB	#FA
0744+  7E60 F6          	DB	#F6
0745+  7E61 F9          	DB	#F9
0746+  7E62 F6          	DB	#F6
0747+  7E63 F8          	DB	#F8
0748+  7E64 F7          	DB	#F7
0749+  7E65 F7          	DB	#F7
0750+  7E66 F8          	DB	#F8
0751+  7E67 F6          	DB	#F6
0752+  7E68 F9          	DB	#F9
0753+  7E69 F5          	DB	#F5
0754+  7E6A FA          	DB	#FA
0755+  7E6B F5          	DB	#F5
0756+  7E6C FB          	DB	#FB
0757+  7E6D F4          	DB	#F4
0758+  7E6E FB          	DB	#FB
0759+  7E6F F4          	DB	#F4
0760+  7E70 FC          	DB	#FC
0761+  7E71 F3          	DB	#F3
0762+  7E72 FC          	DB	#FC
0763+  7E73 F3          	DB	#F3
0764+  7E74 FD          	DB	#FD
0765+  7E75 F2          	DB	#F2
0766+  7E76 FD          	DB	#FD
0767+  7E77 F2          	DB	#F2
0768+  7E78 FE          	DB	#FE
0769+  7E79 F1          	DB	#F1
0770+  7E7A FF          	DB	#FF
0771+  7E7B F0          	DB	#F0
0772+  7E7C 00          	DB	#00
0773+  7E7D 00          	DB	#00
0774+  7E7E EE          	DB	#EE
0775+  7E7F 00          	DB	#00
0776+  7E80 EF          	DB	#EF
0777+  7E81 FF          	DB	#FF
0778+  7E82 EF          	DB	#EF
0779+  7E83 FF          	DB	#FF
0780+  7E84 F0          	DB	#F0
0781+  7E85 FE          	DB	#FE
0782+  7E86 F0          	DB	#F0
0783+  7E87 FE          	DB	#FE
0784+  7E88 F1          	DB	#F1
0785+  7E89 FD          	DB	#FD
0786+  7E8A F1          	DB	#F1
0787+  7E8B FC          	DB	#FC
0788+  7E8C F2          	DB	#F2
0789+  7E8D FB          	DB	#FB
0790+  7E8E F3          	DB	#F3
0791+  7E8F FA          	DB	#FA
0792+  7E90 F4          	DB	#F4
0793+  7E91 F9          	DB	#F9
0794+  7E92 F5          	DB	#F5
0795+  7E93 F8          	DB	#F8
0796+  7E94 F6          	DB	#F6
0797+  7E95 F7          	DB	#F7
0798+  7E96 F6          	DB	#F6
0799+  7E97 F7          	DB	#F7
0800+  7E98 F7          	DB	#F7
0801+  7E99 F6          	DB	#F6
0802+  7E9A F7          	DB	#F7
0803+  7E9B F6          	DB	#F6
0804+  7E9C F8          	DB	#F8
0805+  7E9D F5          	DB	#F5
0806+  7E9E F9          	DB	#F9
0807+  7E9F F4          	DB	#F4
0808+  7EA0 FA          	DB	#FA
0809+  7EA1 F3          	DB	#F3
0810+  7EA2 FB          	DB	#FB
0811+  7EA3 F2          	DB	#F2
0812+  7EA4 FC          	DB	#FC
0813+  7EA5 F1          	DB	#F1
0814+  7EA6 FD          	DB	#FD
0815+  7EA7 F1          	DB	#F1
0816+  7EA8 FE          	DB	#FE
0817+  7EA9 F0          	DB	#F0
0818+  7EAA FE          	DB	#FE
0819+  7EAB F0          	DB	#F0
0820+  7EAC FF          	DB	#FF
0821+  7EAD EF          	DB	#EF
0822+  7EAE FF          	DB	#FF
0823+  7EAF EF          	DB	#EF
0824+  7EB0 00          	DB	#00
0825+  7EB1 EE          	DB	#EE
0826+  7EB2 00          	DB	#00
0827+  7EB3 00          	DB	#00
0828+  7EB4 ED          	DB	#ED
0829+  7EB5 FF          	DB	#FF
0830+  7EB6 EE          	DB	#EE
0831+  7EB7 FE          	DB	#FE
0832+  7EB8 EF          	DB	#EF
0833+  7EB9 FD          	DB	#FD
0834+  7EBA F0          	DB	#F0
0835+  7EBB FC          	DB	#FC
0836+  7EBC F1          	DB	#F1
0837+  7EBD FB          	DB	#FB
0838+  7EBE F1          	DB	#F1
0839+  7EBF FB          	DB	#FB
0840+  7EC0 F2          	DB	#F2
0841+  7EC1 FA          	DB	#FA
0842+  7EC2 F2          	DB	#F2
0843+  7EC3 FA          	DB	#FA
0844+  7EC4 F3          	DB	#F3
0845+  7EC5 F9          	DB	#F9
0846+  7EC6 F3          	DB	#F3
0847+  7EC7 F9          	DB	#F9
0848+  7EC8 F4          	DB	#F4
0849+  7EC9 F8          	DB	#F8
0850+  7ECA F4          	DB	#F4
0851+  7ECB F8          	DB	#F8
0852+  7ECC F5          	DB	#F5
0853+  7ECD F7          	DB	#F7
0854+  7ECE F5          	DB	#F5
0855+  7ECF F6          	DB	#F6
0856+  7ED0 F6          	DB	#F6
0857+  7ED1 F5          	DB	#F5
0858+  7ED2 F7          	DB	#F7
0859+  7ED3 F5          	DB	#F5
0860+  7ED4 F8          	DB	#F8
0861+  7ED5 F4          	DB	#F4
0862+  7ED6 F8          	DB	#F8
0863+  7ED7 F4          	DB	#F4
0864+  7ED8 F9          	DB	#F9
0865+  7ED9 F3          	DB	#F3
0866+  7EDA F9          	DB	#F9
0867+  7EDB F3          	DB	#F3
0868+  7EDC FA          	DB	#FA
0869+  7EDD F2          	DB	#F2
0870+  7EDE FA          	DB	#FA
0871+  7EDF F2          	DB	#F2
0872+  7EE0 FB          	DB	#FB
0873+  7EE1 F1          	DB	#F1
0874+  7EE2 FB          	DB	#FB
0875+  7EE3 F1          	DB	#F1
0876+  7EE4 FC          	DB	#FC
0877+  7EE5 F0          	DB	#F0
0878+  7EE6 FD          	DB	#FD
0879+  7EE7 EF          	DB	#EF
0880+  7EE8 FE          	DB	#FE
0881+  7EE9 EE          	DB	#EE
0882+  7EEA FF          	DB	#FF
0883+  7EEB FD          	DB	#FD
0884+  7EEC 00          	DB	#00
0885+  7EED 01          L_691C	DB	#01
0886+  7EEE FE          	DB	#FE
0887+  7EEF 00          	DB	#00
0888+  7EF0 FF          	DB	#FF
0889+  7EF1 FF          	DB	#FF
0890+  7EF2 FF          	DB	#FF
0891+  7EF3 FE          	DB	#FE
0892+  7EF4 FF          	DB	#FF
0893+  7EF5 FE          	DB	#FE
0894+  7EF6 00          	DB	#00
0895+  7EF7 02          	DB	#02
0896+  7EF8 FD          	DB	#FD
0897+  7EF9 01          	DB	#01
0898+  7EFA FD          	DB	#FD
0899+  7EFB 00          	DB	#00
0900+  7EFC FE          	DB	#FE
0901+  7EFD FF          	DB	#FF
0902+  7EFE FE          	DB	#FE
0903+  7EFF FE          	DB	#FE
0904+  7F00 FE          	DB	#FE
0905+  7F01 FD          	DB	#FD
0906+  7F02 FF          	DB	#FF
0907+  7F03 FC          	DB	#FC
0908+  7F04 FF          	DB	#FF
0909+  7F05 02          	DB	#02
0910+  7F06 FC          	DB	#FC
0911+  7F07 01          	DB	#01
0912+  7F08 FC          	DB	#FC
0913+  7F09 00          	DB	#00
0914+  7F0A FC          	DB	#FC
0915+  7F0B 00          	DB	#00
0916+  7F0C FD          	DB	#FD
0917+  7F0D FF          	DB	#FF
0918+  7F0E FD          	DB	#FD
0919+  7F0F FE          	DB	#FE
0920+  7F10 FD          	DB	#FD
0921+  7F11 FD          	DB	#FD
0922+  7F12 FE          	DB	#FE
0923+  7F13 FC          	DB	#FC
0924+  7F14 FE          	DB	#FE
0925+  7F15 FB          	DB	#FB
0926+  7F16 FE          	DB	#FE
0927+  7F17 03          	DB	#03
0928+  7F18 FA          	DB	#FA
0929+  7F19 02          	DB	#02
0930+  7F1A FB          	DB	#FB
0931+  7F1B 01          	DB	#01
0932+  7F1C FB          	DB	#FB
0933+  7F1D 00          	DB	#00
0934+  7F1E FB          	DB	#FB
0935+  7F1F FF          	DB	#FF
0936+  7F20 FC          	DB	#FC
0937+  7F21 FE          	DB	#FE
0938+  7F22 FC          	DB	#FC
0939+  7F23 FD          	DB	#FD
0940+  7F24 FC          	DB	#FC
0941+  7F25 FD          	DB	#FD
0942+  7F26 FD          	DB	#FD
0943+  7F27 FC          	DB	#FC
0944+  7F28 FD          	DB	#FD
0945+  7F29 FB          	DB	#FB
0946+  7F2A FD          	DB	#FD
0947+  7F2B FA          	DB	#FA
0948+  7F2C FD          	DB	#FD
0949+  7F2D 04          	DB	#04
0950+  7F2E F9          	DB	#F9
0951+  7F2F 03          	DB	#03
0952+  7F30 F9          	DB	#F9
0953+  7F31 02          	DB	#02
0954+  7F32 FA          	DB	#FA
0955+  7F33 01          	DB	#01
0956+  7F34 FA          	DB	#FA
0957+  7F35 00          	DB	#00
0958+  7F36 FA          	DB	#FA
0959+  7F37 FF          	DB	#FF
0960+  7F38 FB          	DB	#FB
0961+  7F39 FE          	DB	#FE
0962+  7F3A FB          	DB	#FB
0963+  7F3B FD          	DB	#FD
0964+  7F3C FB          	DB	#FB
0965+  7F3D FC          	DB	#FC
0966+  7F3E FC          	DB	#FC
0967+  7F3F FB          	DB	#FB
0968+  7F40 FC          	DB	#FC
0969+  7F41 FA          	DB	#FA
0970+  7F42 FC          	DB	#FC
0971+  7F43 F9          	DB	#F9
0972+  7F44 FD          	DB	#FD
0973+  7F45 F8          	DB	#F8
0974+  7F46 FD          	DB	#FD
0975+  7F47 04          	DB	#04
0976+  7F48 F8          	DB	#F8
0977+  7F49 03          	DB	#03
0978+  7F4A F8          	DB	#F8
0979+  7F4B 02          	DB	#02
0980+  7F4C F9          	DB	#F9
0981+  7F4D 01          	DB	#01
0982+  7F4E F9          	DB	#F9
0983+  7F4F 00          	DB	#00
0984+  7F50 F9          	DB	#F9
0985+  7F51 FF          	DB	#FF
0986+  7F52 F9          	DB	#F9
0987+  7F53 FF          	DB	#FF
0988+  7F54 FA          	DB	#FA
0989+  7F55 FE          	DB	#FE
0990+  7F56 FA          	DB	#FA
0991+  7F57 FD          	DB	#FD
0992+  7F58 FA          	DB	#FA
0993+  7F59 FC          	DB	#FC
0994+  7F5A FA          	DB	#FA
0995+  7F5B FC          	DB	#FC
0996+  7F5C FB          	DB	#FB
0997+  7F5D FB          	DB	#FB
0998+  7F5E FB          	DB	#FB
0999+  7F5F FA          	DB	#FA
1000+  7F60 FB          	DB	#FB
1001+  7F61 F9          	DB	#F9
1002+  7F62 FC          	DB	#FC
1003+  7F63 F8          	DB	#F8
1004+  7F64 FC          	DB	#FC
1005+  7F65 04          	DB	#04
1006+  7F66 F7          	DB	#F7
1007+  7F67 03          	DB	#03
1008+  7F68 F7          	DB	#F7
1009+  7F69 02          	DB	#02
1010+  7F6A F7          	DB	#F7
1011+  7F6B 02          	DB	#02
1012+  7F6C F8          	DB	#F8
1013+  7F6D 01          	DB	#01
1014+  7F6E F8          	DB	#F8
1015+  7F6F 00          	DB	#00
1016+  7F70 F8          	DB	#F8
1017+  7F71 FF          	DB	#FF
1018+  7F72 F8          	DB	#F8
1019+  7F73 FE          	DB	#FE
1020+  7F74 F9          	DB	#F9
1021+  7F75 FD          	DB	#FD
1022+  7F76 F9          	DB	#F9
1023+  7F77 FC          	DB	#FC
1024+  7F78 F9          	DB	#F9
1025+  7F79 FB          	DB	#FB
1026+  7F7A FA          	DB	#FA
1027+  7F7B FA          	DB	#FA
1028+  7F7C FA          	DB	#FA
1029+  7F7D F9          	DB	#F9
1030+  7F7E FA          	DB	#FA
1031+  7F7F F9          	DB	#F9
1032+  7F80 FB          	DB	#FB
1033+  7F81 F9          	DB	#F9
1034+  7F82 FB          	DB	#FB
1035+  7F83 F7          	DB	#F7
1036+  7F84 FB          	DB	#FB
1037+  7F85 F6          	DB	#F6
1038+  7F86 FB          	DB	#FB
1039+  7F87 06          	DB	#06
1040+  7F88 F5          	DB	#F5
1041+  7F89 05          	DB	#05
1042+  7F8A F5          	DB	#F5
1043+  7F8B 04          	DB	#04
1044+  7F8C F6          	DB	#F6
1045+  7F8D 03          	DB	#03
1046+  7F8E F6          	DB	#F6
1047+  7F8F 02          	DB	#02
1048+  7F90 F6          	DB	#F6
1049+  7F91 01          	DB	#01
1050+  7F92 F7          	DB	#F7
1051+  7F93 00          	DB	#00
1052+  7F94 F7          	DB	#F7
1053+  7F95 FF          	DB	#FF
1054+  7F96 F7          	DB	#F7
1055+  7F97 FE          	DB	#FE
1056+  7F98 F8          	DB	#F8
1057+  7F99 FD          	DB	#FD
1058+  7F9A F8          	DB	#F8
1059+  7F9B FC          	DB	#FC
1060+  7F9C F8          	DB	#F8
1061+  7F9D FB          	DB	#FB
1062+  7F9E F9          	DB	#F9
1063+  7F9F FA          	DB	#FA
1064+  7FA0 F9          	DB	#F9
1065+  7FA1 F9          	DB	#F9
1066+  7FA2 F9          	DB	#F9
1067+  7FA3 F8          	DB	#F8
1068+  7FA4 FA          	DB	#FA
1069+  7FA5 F7          	DB	#F7
1070+  7FA6 FA          	DB	#FA
1071+  7FA7 F6          	DB	#F6
1072+  7FA8 FA          	DB	#FA
1073+  7FA9 F5          	DB	#F5
1074+  7FAA FB          	DB	#FB
1075+  7FAB F4          	DB	#F4
1076+  7FAC FB          	DB	#FB
1077+  7FAD 06          	DB	#06
1078+  7FAE F4          	DB	#F4
1079+  7FAF 05          	DB	#05
1080+  7FB0 F4          	DB	#F4
1081+  7FB1 04          	DB	#04
1082+  7FB2 F5          	DB	#F5
1083+  7FB3 03          	DB	#03
1084+  7FB4 F5          	DB	#F5
1085+  7FB5 02          	DB	#02
1086+  7FB6 F5          	DB	#F5
1087+  7FB7 01          	DB	#01
1088+  7FB8 F6          	DB	#F6
1089+  7FB9 00          	DB	#00
1090+  7FBA F6          	DB	#F6
1091+  7FBB FF          	DB	#FF
1092+  7FBC F6          	DB	#F6
1093+  7FBD FE          	DB	#FE
1094+  7FBE F6          	DB	#F6
1095+  7FBF FE          	DB	#FE
1096+  7FC0 F7          	DB	#F7
1097+  7FC1 FD          	DB	#FD
1098+  7FC2 F7          	DB	#F7
1099+  7FC3 FC          	DB	#FC
1100+  7FC4 F7          	DB	#F7
1101+  7FC5 FB          	DB	#FB
1102+  7FC6 F7          	DB	#F7
1103+  7FC7 FB          	DB	#FB
1104+  7FC8 F8          	DB	#F8
1105+  7FC9 FA          	DB	#FA
1106+  7FCA F8          	DB	#F8
1107+  7FCB F9          	DB	#F9
1108+  7FCC F8          	DB	#F8
1109+  7FCD F8          	DB	#F8
1110+  7FCE F9          	DB	#F9
1111+  7FCF F7          	DB	#F7
1112+  7FD0 F9          	DB	#F9
1113+  7FD1 F6          	DB	#F6
1114+  7FD2 F9          	DB	#F9
1115+  7FD3 F5          	DB	#F5
1116+  7FD4 FA          	DB	#FA
1117+  7FD5 F4          	DB	#F4
1118+  7FD6 FA          	DB	#FA
1119+  7FD7 06          	DB	#06
1120+  7FD8 F3          	DB	#F3
1121+  7FD9 05          	DB	#05
1122+  7FDA F3          	DB	#F3
1123+  7FDB 04          	DB	#04
1124+  7FDC F3          	DB	#F3
1125+  7FDD 03          	DB	#03
1126+  7FDE F4          	DB	#F4
1127+  7FDF 02          	DB	#02
1128+  7FE0 F4          	DB	#F4
1129+  7FE1 01          	DB	#01
1130+  7FE2 F4          	DB	#F4
1131+  7FE3 01          	DB	#01
1132+  7FE4 F5          	DB	#F5
1133+  7FE5 00          	DB	#00
1134+  7FE6 F5          	DB	#F5
1135+  7FE7 FF          	DB	#FF
1136+  7FE8 F5          	DB	#F5
1137+  7FE9 FE          	DB	#FE
1138+  7FEA F5          	DB	#F5
1139+  7FEB FD          	DB	#FD
1140+  7FEC F6          	DB	#F6
1141+  7FED FC          	DB	#FC
1142+  7FEE F6          	DB	#F6
1143+  7FEF FB          	DB	#FB
1144+  7FF0 F6          	DB	#F6
1145+  7FF1 FA          	DB	#FA
1146+  7FF2 F7          	DB	#F7
1147+  7FF3 F9          	DB	#F9
1148+  7FF4 F7          	DB	#F7
1149+  7FF5 F8          	DB	#F8
1150+  7FF6 F7          	DB	#F7
1151+  7FF7 F8          	DB	#F8
1152+  7FF8 F8          	DB	#F8
1153+  7FF9 F7          	DB	#F7
1154+  7FFA F8          	DB	#F8
1155+  7FFB F6          	DB	#F6
1156+  7FFC F8          	DB	#F8
1157+  7FFD F5          	DB	#F5
1158+  7FFE F8          	DB	#F8
1159+  7FFF F4          	DB	#F4
1160+  8000 F9          	DB	#F9
1161+  8001 F3          	DB	#F3
1162+  8002 F9          	DB	#F9
1163+  8003 F2          	DB	#F2
1164+  8004 F9          	DB	#F9
1165+  8005 08          	DB	#08
1166+  8006 F1          	DB	#F1
1167+  8007 07          	DB	#07
1168+  8008 F1          	DB	#F1
1169+  8009 06          	DB	#06
1170+  800A F2          	DB	#F2
1171+  800B 05          	DB	#05
1172+  800C F2          	DB	#F2
1173+  800D 04          	DB	#04
1174+  800E F2          	DB	#F2
1175+  800F 03          	DB	#03
1176+  8010 F3          	DB	#F3
1177+  8011 02          	DB	#02
1178+  8012 F3          	DB	#F3
1179+  8013 01          	DB	#01
1180+  8014 F3          	DB	#F3
1181+  8015 00          	DB	#00
1182+  8016 F4          	DB	#F4
1183+  8017 FF          	DB	#FF
1184+  8018 F4          	DB	#F4
1185+  8019 FE          	DB	#FE
1186+  801A F4          	DB	#F4
1187+  801B FD          	DB	#FD
1188+  801C F5          	DB	#F5
1189+  801D FC          	DB	#FC
1190+  801E F5          	DB	#F5
1191+  801F FB          	DB	#FB
1192+  8020 F5          	DB	#F5
1193+  8021 FA          	DB	#FA
1194+  8022 F6          	DB	#F6
1195+  8023 F9          	DB	#F9
1196+  8024 F6          	DB	#F6
1197+  8025 F8          	DB	#F8
1198+  8026 F6          	DB	#F6
1199+  8027 F7          	DB	#F7
1200+  8028 F7          	DB	#F7
1201+  8029 F6          	DB	#F6
1202+  802A F7          	DB	#F7
1203+  802B F5          	DB	#F5
1204+  802C F7          	DB	#F7
1205+  802D F4          	DB	#F4
1206+  802E F8          	DB	#F8
1207+  802F F3          	DB	#F3
1208+  8030 F8          	DB	#F8
1209+  8031 F2          	DB	#F2
1210+  8032 F8          	DB	#F8
1211+  8033 F1          	DB	#F1
1212+  8034 F9          	DB	#F9
1213+  8035 F0          	DB	#F0
1214+  8036 F9          	DB	#F9
1215+  8037 09          	DB	#09
1216+  8038 F0          	DB	#F0
1217+  8039 08          	DB	#08
1218+  803A F0          	DB	#F0
1219+  803B 07          	DB	#07
1220+  803C F0          	DB	#F0
1221+  803D 06          	DB	#06
1222+  803E F1          	DB	#F1
1223+  803F 05          	DB	#05
1224+  8040 F1          	DB	#F1
1225+  8041 04          	DB	#04
1226+  8042 F1          	DB	#F1
1227+  8043 03          	DB	#03
1228+  8044 F2          	DB	#F2
1229+  8045 02          	DB	#02
1230+  8046 F2          	DB	#F2
1231+  8047 01          	DB	#01
1232+  8048 F2          	DB	#F2
1233+  8049 00          	DB	#00
1234+  804A F3          	DB	#F3
1235+  804B FF          	DB	#FF
1236+  804C F3          	DB	#F3
1237+  804D FE          	DB	#FE
1238+  804E F3          	DB	#F3
1239+  804F FD          	DB	#FD
1240+  8050 F4          	DB	#F4
1241+  8051 FC          	DB	#FC
1242+  8052 F4          	DB	#F4
1243+  8053 FB          	DB	#FB
1244+  8054 F4          	DB	#F4
1245+  8055 FA          	DB	#FA
1246+  8056 F5          	DB	#F5
1247+  8057 F9          	DB	#F9
1248+  8058 F5          	DB	#F5
1249+  8059 F8          	DB	#F8
1250+  805A F5          	DB	#F5
1251+  805B F7          	DB	#F7
1252+  805C F6          	DB	#F6
1253+  805D F6          	DB	#F6
1254+  805E F6          	DB	#F6
1255+  805F F5          	DB	#F5
1256+  8060 F6          	DB	#F6
1257+  8061 F4          	DB	#F4
1258+  8062 F7          	DB	#F7
1259+  8063 F3          	DB	#F3
1260+  8064 F7          	DB	#F7
1261+  8065 F2          	DB	#F2
1262+  8066 F7          	DB	#F7
1263+  8067 F1          	DB	#F1
1264+  8068 F8          	DB	#F8
1265+  8069 F0          	DB	#F0
1266+  806A F8          	DB	#F8
1267+  806B EF          	DB	#EF
1268+  806C F8          	DB	#F8
1269+  806D 0A          	DB	#0A
1270+  806E EF          	DB	#EF
1271+  806F 09          	DB	#09
1272+  8070 EF          	DB	#EF
1273+  8071 08          	DB	#08
1274+  8072 EF          	DB	#EF
1275+  8073 07          	DB	#07
1276+  8074 EF          	DB	#EF
1277+  8075 06          	DB	#06
1278+  8076 F0          	DB	#F0
1279+  8077 05          	DB	#05
1280+  8078 F0          	DB	#F0
1281+  8079 04          	DB	#04
1282+  807A F0          	DB	#F0
1283+  807B 03          	DB	#03
1284+  807C F1          	DB	#F1
1285+  807D 02          	DB	#02
1286+  807E F1          	DB	#F1
1287+  807F 01          	DB	#01
1288+  8080 F1          	DB	#F1
1289+  8081 00          	DB	#00
1290+  8082 F2          	DB	#F2
1291+  8083 FF          	DB	#FF
1292+  8084 F2          	DB	#F2
1293+  8085 FE          	DB	#FE
1294+  8086 F2          	DB	#F2
1295+  8087 FD          	DB	#FD
1296+  8088 F3          	DB	#F3
1297+  8089 FC          	DB	#FC
1298+  808A F3          	DB	#F3
1299+  808B FB          	DB	#FB
1300+  808C F3          	DB	#F3
1301+  808D FA          	DB	#FA
1302+  808E F4          	DB	#F4
1303+  808F F9          	DB	#F9
1304+  8090 F4          	DB	#F4
1305+  8091 F8          	DB	#F8
1306+  8092 F4          	DB	#F4
1307+  8093 F7          	DB	#F7
1308+  8094 F5          	DB	#F5
1309+  8095 F6          	DB	#F6
1310+  8096 F5          	DB	#F5
1311+  8097 F5          	DB	#F5
1312+  8098 F5          	DB	#F5
1313+  8099 F4          	DB	#F4
1314+  809A F6          	DB	#F6
1315+  809B F3          	DB	#F3
1316+  809C F6          	DB	#F6
1317+  809D F2          	DB	#F2
1318+  809E F6          	DB	#F6
1319+  809F F1          	DB	#F1
1320+  80A0 F7          	DB	#F7
1321+  80A1 F0          	DB	#F0
1322+  80A2 F7          	DB	#F7
1323+  80A3 EF          	DB	#EF
1324+  80A4 F7          	DB	#F7
1325+  80A5 EE          	DB	#EE
1326+  80A6 F8          	DB	#F8
1327+  80A7 00          L_6AD6	DB	#00
1328+  80A8 FE          	DB	#FE
1329+  80A9 FF          	DB	#FF
1330+  80AA FE          	DB	#FE
1331+  80AB FF          	DB	#FF
1332+  80AC FF          	DB	#FF
1333+  80AD FF          	DB	#FF
1334+  80AE 00          	DB	#00
1335+  80AF FE          	DB	#FE
1336+  80B0 01          	DB	#01
1337+  80B1 FF          	DB	#FF
1338+  80B2 FC          	DB	#FC
1339+  80B3 FF          	DB	#FF
1340+  80B4 FD          	DB	#FD
1341+  80B5 FE          	DB	#FE
1342+  80B6 FE          	DB	#FE
1343+  80B7 FE          	DB	#FE
1344+  80B8 FF          	DB	#FF
1345+  80B9 FE          	DB	#FE
1346+  80BA 00          	DB	#00
1347+  80BB FD          	DB	#FD
1348+  80BC 01          	DB	#01
1349+  80BD FD          	DB	#FD
1350+  80BE 02          	DB	#02
1351+  80BF FE          	DB	#FE
1352+  80C0 FB          	DB	#FB
1353+  80C1 FE          	DB	#FE
1354+  80C2 FC          	DB	#FC
1355+  80C3 FE          	DB	#FE
1356+  80C4 FD          	DB	#FD
1357+  80C5 FD          	DB	#FD
1358+  80C6 FE          	DB	#FE
1359+  80C7 FD          	DB	#FD
1360+  80C8 FF          	DB	#FF
1361+  80C9 FD          	DB	#FD
1362+  80CA 00          	DB	#00
1363+  80CB FC          	DB	#FC
1364+  80CC 00          	DB	#00
1365+  80CD FC          	DB	#FC
1366+  80CE 01          	DB	#01
1367+  80CF FC          	DB	#FC
1368+  80D0 02          	DB	#02
1369+  80D1 FD          	DB	#FD
1370+  80D2 FA          	DB	#FA
1371+  80D3 FD          	DB	#FD
1372+  80D4 FB          	DB	#FB
1373+  80D5 FD          	DB	#FD
1374+  80D6 FC          	DB	#FC
1375+  80D7 FD          	DB	#FD
1376+  80D8 FD          	DB	#FD
1377+  80D9 FC          	DB	#FC
1378+  80DA FD          	DB	#FD
1379+  80DB FC          	DB	#FC
1380+  80DC FE          	DB	#FE
1381+  80DD FC          	DB	#FC
1382+  80DE FF          	DB	#FF
1383+  80DF FB          	DB	#FB
1384+  80E0 00          	DB	#00
1385+  80E1 FB          	DB	#FB
1386+  80E2 01          	DB	#01
1387+  80E3 FB          	DB	#FB
1388+  80E4 02          	DB	#02
1389+  80E5 FA          	DB	#FA
1390+  80E6 03          	DB	#03
1391+  80E7 FD          	DB	#FD
1392+  80E8 F8          	DB	#F8
1393+  80E9 FD          	DB	#FD
1394+  80EA F9          	DB	#F9
1395+  80EB FC          	DB	#FC
1396+  80EC FA          	DB	#FA
1397+  80ED FC          	DB	#FC
1398+  80EE FB          	DB	#FB
1399+  80EF FC          	DB	#FC
1400+  80F0 FC          	DB	#FC
1401+  80F1 FB          	DB	#FB
1402+  80F2 FD          	DB	#FD
1403+  80F3 FB          	DB	#FB
1404+  80F4 FE          	DB	#FE
1405+  80F5 FB          	DB	#FB
1406+  80F6 FF          	DB	#FF
1407+  80F7 FA          	DB	#FA
1408+  80F8 00          	DB	#00
1409+  80F9 FA          	DB	#FA
1410+  80FA 01          	DB	#01
1411+  80FB FA          	DB	#FA
1412+  80FC 02          	DB	#02
1413+  80FD F9          	DB	#F9
1414+  80FE 03          	DB	#03
1415+  80FF F9          	DB	#F9
1416+  8100 04          	DB	#04
1417+  8101 FC          	DB	#FC
1418+  8102 F8          	DB	#F8
1419+  8103 FC          	DB	#FC
1420+  8104 F9          	DB	#F9
1421+  8105 FB          	DB	#FB
1422+  8106 FA          	DB	#FA
1423+  8107 FB          	DB	#FB
1424+  8108 FB          	DB	#FB
1425+  8109 FB          	DB	#FB
1426+  810A FC          	DB	#FC
1427+  810B FA          	DB	#FA
1428+  810C FC          	DB	#FC
1429+  810D FA          	DB	#FA
1430+  810E FD          	DB	#FD
1431+  810F FA          	DB	#FA
1432+  8110 FE          	DB	#FE
1433+  8111 FA          	DB	#FA
1434+  8112 FF          	DB	#FF
1435+  8113 F9          	DB	#F9
1436+  8114 FF          	DB	#FF
1437+  8115 F9          	DB	#F9
1438+  8116 00          	DB	#00
1439+  8117 F9          	DB	#F9
1440+  8118 01          	DB	#01
1441+  8119 F9          	DB	#F9
1442+  811A 02          	DB	#02
1443+  811B F8          	DB	#F8
1444+  811C 03          	DB	#03
1445+  811D F8          	DB	#F8
1446+  811E 04          	DB	#04
1447+  811F FB          	DB	#FB
1448+  8120 F6          	DB	#F6
1449+  8121 FB          	DB	#FB
1450+  8122 F7          	DB	#F7
1451+  8123 FB          	DB	#FB
1452+  8124 F8          	DB	#F8
1453+  8125 FB          	DB	#FB
1454+  8126 F9          	DB	#F9
1455+  8127 FA          	DB	#FA
1456+  8128 F9          	DB	#F9
1457+  8129 FA          	DB	#FA
1458+  812A FA          	DB	#FA
1459+  812B FA          	DB	#FA
1460+  812C FB          	DB	#FB
1461+  812D F9          	DB	#F9
1462+  812E FC          	DB	#FC
1463+  812F F9          	DB	#F9
1464+  8130 FD          	DB	#FD
1465+  8131 F9          	DB	#F9
1466+  8132 FE          	DB	#FE
1467+  8133 F8          	DB	#F8
1468+  8134 FF          	DB	#FF
1469+  8135 F8          	DB	#F8
1470+  8136 00          	DB	#00
1471+  8137 F8          	DB	#F8
1472+  8138 01          	DB	#01
1473+  8139 F7          	DB	#F7
1474+  813A 02          	DB	#02
1475+  813B F7          	DB	#F7
1476+  813C 03          	DB	#03
1477+  813D F7          	DB	#F7
1478+  813E 04          	DB	#04
1479+  813F F6          	DB	#F6
1480+  8140 05          	DB	#05
1481+  8141 FB          	DB	#FB
1482+  8142 F4          	DB	#F4
1483+  8143 FB          	DB	#FB
1484+  8144 F5          	DB	#F5
1485+  8145 FA          	DB	#FA
1486+  8146 F6          	DB	#F6
1487+  8147 FA          	DB	#FA
1488+  8148 F7          	DB	#F7
1489+  8149 FA          	DB	#FA
1490+  814A F8          	DB	#F8
1491+  814B F9          	DB	#F9
1492+  814C F9          	DB	#F9
1493+  814D F9          	DB	#F9
1494+  814E FA          	DB	#FA
1495+  814F F9          	DB	#F9
1496+  8150 FB          	DB	#FB
1497+  8151 F8          	DB	#F8
1498+  8152 FC          	DB	#FC
1499+  8153 F8          	DB	#F8
1500+  8154 FD          	DB	#FD
1501+  8155 F8          	DB	#F8
1502+  8156 FE          	DB	#FE
1503+  8157 F7          	DB	#F7
1504+  8158 FF          	DB	#FF
1505+  8159 F7          	DB	#F7
1506+  815A 00          	DB	#00
1507+  815B F7          	DB	#F7
1508+  815C 01          	DB	#01
1509+  815D F6          	DB	#F6
1510+  815E 02          	DB	#02
1511+  815F F6          	DB	#F6
1512+  8160 03          	DB	#03
1513+  8161 F6          	DB	#F6
1514+  8162 04          	DB	#04
1515+  8163 F5          	DB	#F5
1516+  8164 05          	DB	#05
1517+  8165 F5          	DB	#F5
1518+  8166 06          	DB	#06
1519+  8167 FA          	DB	#FA
1520+  8168 F3          	DB	#F3
1521+  8169 FA          	DB	#FA
1522+  816A F4          	DB	#F4
1523+  816B FA          	DB	#FA
1524+  816C F5          	DB	#F5
1525+  816D F9          	DB	#F9
1526+  816E F6          	DB	#F6
1527+  816F F9          	DB	#F9
1528+  8170 F7          	DB	#F7
1529+  8171 F9          	DB	#F9
1530+  8172 F8          	DB	#F8
1531+  8173 F8          	DB	#F8
1532+  8174 F9          	DB	#F9
1533+  8175 F8          	DB	#F8
1534+  8176 FA          	DB	#FA
1535+  8177 F8          	DB	#F8
1536+  8178 FB          	DB	#FB
1537+  8179 F7          	DB	#F7
1538+  817A FC          	DB	#FC
1539+  817B F7          	DB	#F7
1540+  817C FD          	DB	#FD
1541+  817D F7          	DB	#F7
1542+  817E FE          	DB	#FE
1543+  817F F6          	DB	#F6
1544+  8180 FF          	DB	#FF
1545+  8181 F6          	DB	#F6
1546+  8182 00          	DB	#00
1547+  8183 F6          	DB	#F6
1548+  8184 01          	DB	#01
1549+  8185 F5          	DB	#F5
1550+  8186 02          	DB	#02
1551+  8187 F5          	DB	#F5
1552+  8188 03          	DB	#03
1553+  8189 F5          	DB	#F5
1554+  818A 04          	DB	#04
1555+  818B F4          	DB	#F4
1556+  818C 05          	DB	#05
1557+  818D F4          	DB	#F4
1558+  818E 06          	DB	#06
1559+  818F F4          	DB	#F4
1560+  8190 07          	DB	#07
1561+  8191 F9          	DB	#F9
1562+  8192 F2          	DB	#F2
1563+  8193 F9          	DB	#F9
1564+  8194 F3          	DB	#F3
1565+  8195 F9          	DB	#F9
1566+  8196 F4          	DB	#F4
1567+  8197 F8          	DB	#F8
1568+  8198 F5          	DB	#F5
1569+  8199 F8          	DB	#F8
1570+  819A F6          	DB	#F6
1571+  819B F8          	DB	#F8
1572+  819C F7          	DB	#F7
1573+  819D F8          	DB	#F8
1574+  819E F8          	DB	#F8
1575+  819F F7          	DB	#F7
1576+  81A0 F8          	DB	#F8
1577+  81A1 F7          	DB	#F7
1578+  81A2 F9          	DB	#F9
1579+  81A3 F7          	DB	#F7
1580+  81A4 FA          	DB	#FA
1581+  81A5 F6          	DB	#F6
1582+  81A6 FB          	DB	#FB
1583+  81A7 F6          	DB	#F6
1584+  81A8 FC          	DB	#FC
1585+  81A9 F6          	DB	#F6
1586+  81AA FD          	DB	#FD
1587+  81AB F5          	DB	#F5
1588+  81AC FE          	DB	#FE
1589+  81AD F5          	DB	#F5
1590+  81AE FF          	DB	#FF
1591+  81AF F5          	DB	#F5
1592+  81B0 00          	DB	#00
1593+  81B1 F5          	DB	#F5
1594+  81B2 01          	DB	#01
1595+  81B3 F4          	DB	#F4
1596+  81B4 01          	DB	#01
1597+  81B5 F4          	DB	#F4
1598+  81B6 02          	DB	#02
1599+  81B7 F4          	DB	#F4
1600+  81B8 03          	DB	#03
1601+  81B9 F3          	DB	#F3
1602+  81BA 04          	DB	#04
1603+  81BB F3          	DB	#F3
1604+  81BC 05          	DB	#05
1605+  81BD F3          	DB	#F3
1606+  81BE 06          	DB	#06
1607+  81BF F9          	DB	#F9
1608+  81C0 F0          	DB	#F0
1609+  81C1 F9          	DB	#F9
1610+  81C2 F1          	DB	#F1
1611+  81C3 F8          	DB	#F8
1612+  81C4 F2          	DB	#F2
1613+  81C5 F8          	DB	#F8
1614+  81C6 F3          	DB	#F3
1615+  81C7 F8          	DB	#F8
1616+  81C8 F4          	DB	#F4
1617+  81C9 F7          	DB	#F7
1618+  81CA F5          	DB	#F5
1619+  81CB F7          	DB	#F7
1620+  81CC F6          	DB	#F6
1621+  81CD F7          	DB	#F7
1622+  81CE F7          	DB	#F7
1623+  81CF F6          	DB	#F6
1624+  81D0 F8          	DB	#F8
1625+  81D1 F6          	DB	#F6
1626+  81D2 F9          	DB	#F9
1627+  81D3 F6          	DB	#F6
1628+  81D4 FA          	DB	#FA
1629+  81D5 F5          	DB	#F5
1630+  81D6 FB          	DB	#FB
1631+  81D7 F5          	DB	#F5
1632+  81D8 FC          	DB	#FC
1633+  81D9 F5          	DB	#F5
1634+  81DA FD          	DB	#FD
1635+  81DB F4          	DB	#F4
1636+  81DC FE          	DB	#FE
1637+  81DD F4          	DB	#F4
1638+  81DE FF          	DB	#FF
1639+  81DF F4          	DB	#F4
1640+  81E0 00          	DB	#00
1641+  81E1 F3          	DB	#F3
1642+  81E2 01          	DB	#01
1643+  81E3 F3          	DB	#F3
1644+  81E4 02          	DB	#02
1645+  81E5 F3          	DB	#F3
1646+  81E6 03          	DB	#03
1647+  81E7 F2          	DB	#F2
1648+  81E8 04          	DB	#04
1649+  81E9 F2          	DB	#F2
1650+  81EA 05          	DB	#05
1651+  81EB F2          	DB	#F2
1652+  81EC 06          	DB	#06
1653+  81ED F1          	DB	#F1
1654+  81EE 07          	DB	#07
1655+  81EF F1          	DB	#F1
1656+  81F0 08          	DB	#08
1657+  81F1 F8          	DB	#F8
1658+  81F2 EF          	DB	#EF
1659+  81F3 F8          	DB	#F8
1660+  81F4 F0          	DB	#F0
1661+  81F5 F8          	DB	#F8
1662+  81F6 F1          	DB	#F1
1663+  81F7 F7          	DB	#F7
1664+  81F8 F2          	DB	#F2
1665+  81F9 F7          	DB	#F7
1666+  81FA F3          	DB	#F3
1667+  81FB F7          	DB	#F7
1668+  81FC F4          	DB	#F4
1669+  81FD F6          	DB	#F6
1670+  81FE F5          	DB	#F5
1671+  81FF F6          	DB	#F6
1672+  8200 F6          	DB	#F6
1673+  8201 F6          	DB	#F6
1674+  8202 F7          	DB	#F7
1675+  8203 F5          	DB	#F5
1676+  8204 F8          	DB	#F8
1677+  8205 F5          	DB	#F5
1678+  8206 F9          	DB	#F9
1679+  8207 F5          	DB	#F5
1680+  8208 FA          	DB	#FA
1681+  8209 F4          	DB	#F4
1682+  820A FB          	DB	#FB
1683+  820B F4          	DB	#F4
1684+  820C FC          	DB	#FC
1685+  820D F4          	DB	#F4
1686+  820E FD          	DB	#FD
1687+  820F F3          	DB	#F3
1688+  8210 FE          	DB	#FE
1689+  8211 F3          	DB	#F3
1690+  8212 FF          	DB	#FF
1691+  8213 F3          	DB	#F3
1692+  8214 00          	DB	#00
1693+  8215 F2          	DB	#F2
1694+  8216 01          	DB	#01
1695+  8217 F2          	DB	#F2
1696+  8218 02          	DB	#02
1697+  8219 F2          	DB	#F2
1698+  821A 03          	DB	#03
1699+  821B F1          	DB	#F1
1700+  821C 04          	DB	#04
1701+  821D F1          	DB	#F1
1702+  821E 05          	DB	#05
1703+  821F F1          	DB	#F1
1704+  8220 06          	DB	#06
1705+  8221 F0          	DB	#F0
1706+  8222 07          	DB	#07
1707+  8223 F0          	DB	#F0
1708+  8224 08          	DB	#08
1709+  8225 F0          	DB	#F0
1710+  8226 09          	DB	#09
1711+  8227 F8          	DB	#F8
1712+  8228 EE          	DB	#EE
1713+  8229 F7          	DB	#F7
1714+  822A EF          	DB	#EF
1715+  822B F7          	DB	#F7
1716+  822C F0          	DB	#F0
1717+  822D F7          	DB	#F7
1718+  822E F1          	DB	#F1
1719+  822F F6          	DB	#F6
1720+  8230 F2          	DB	#F2
1721+  8231 F6          	DB	#F6
1722+  8232 F3          	DB	#F3
1723+  8233 F6          	DB	#F6
1724+  8234 F4          	DB	#F4
1725+  8235 F5          	DB	#F5
1726+  8236 F5          	DB	#F5
1727+  8237 F5          	DB	#F5
1728+  8238 F6          	DB	#F6
1729+  8239 F5          	DB	#F5
1730+  823A F7          	DB	#F7
1731+  823B F4          	DB	#F4
1732+  823C F8          	DB	#F8
1733+  823D F4          	DB	#F4
1734+  823E F9          	DB	#F9
1735+  823F F4          	DB	#F4
1736+  8240 FA          	DB	#FA
1737+  8241 F3          	DB	#F3
1738+  8242 FB          	DB	#FB
1739+  8243 F3          	DB	#F3
1740+  8244 FC          	DB	#FC
1741+  8245 F3          	DB	#F3
1742+  8246 FD          	DB	#FD
1743+  8247 F2          	DB	#F2
1744+  8248 FE          	DB	#FE
1745+  8249 F2          	DB	#F2
1746+  824A FF          	DB	#FF
1747+  824B F2          	DB	#F2
1748+  824C 00          	DB	#00
1749+  824D F1          	DB	#F1
1750+  824E 01          	DB	#01
1751+  824F F1          	DB	#F1
1752+  8250 02          	DB	#02
1753+  8251 F1          	DB	#F1
1754+  8252 03          	DB	#03
1755+  8253 F0          	DB	#F0
1756+  8254 04          	DB	#04
1757+  8255 F0          	DB	#F0
1758+  8256 05          	DB	#05
1759+  8257 F0          	DB	#F0
1760+  8258 06          	DB	#06
1761+  8259 EF          	DB	#EF
1762+  825A 07          	DB	#07
1763+  825B EF          	DB	#EF
1764+  825C 08          	DB	#08
1765+  825D EF          	DB	#EF
1766+  825E 09          	DB	#09
1767+  825F EF          	DB	#EF
1768+  8260 0A          	DB	#0A
1769+  8261 06          L_6C90	DB	#06
1770+  8262 06          	DB	#06
1771+  8263 05          	DB	#05
1772+  8264 06          	DB	#06
1773+  8265 06          	DB	#06
1774+  8266 04          	DB	#04
1775+  8267 04          	DB	#04
1776+  8268 04          	DB	#04
1777+  8269 04          	DB	#04
1778+  826A 04          	DB	#04
1779+  826B 05          	DB	#05
1780+  826C 04          	DB	#04
1781+  826D 03          	DB	#03
1782+  826E 03          	DB	#03
1783+  826F 04          	DB	#04
1784+  8270 03          	DB	#03
1785+  8271 03          	DB	#03
1786+  8272 03          	DB	#03
1787+  8273 04          	DB	#04
1788+  8274 03          	DB	#03
1789+  8275 03          	DB	#03
1790+  8276 03          	DB	#03
1791+  8277 03          	DB	#03
1792+  8278 02          	DB	#02
1793+  8279 03          	DB	#03
1794+  827A 02          	DB	#02
1795+  827B 03          	DB	#03
1796+  827C 02          	DB	#02
1797+  827D 03          	DB	#03
1798+  827E 02          	DB	#02
1799+  827F 03          	DB	#03
1800+  8280 03          	DB	#03
1801+  8281 02          	DB	#02
1802+  8282 02          	DB	#02
1803+  8283 02          	DB	#02
1804+  8284 02          	DB	#02
1805+  8285 03          	DB	#03
1806+  8286 02          	DB	#02
1807+  8287 02          	DB	#02
1808+  8288 02          	DB	#02
1809+  8289 03          	DB	#03
1810+  828A 02          	DB	#02
1811+  828B 02          	DB	#02
1812+  828C 03          	DB	#03
1813+  828D 02          	DB	#02
1814+  828E 02          	DB	#02
1815+  828F 02          	DB	#02
1816+  8290 02          	DB	#02
1817+  8291 02          	DB	#02
1818+  8292 02          	DB	#02
1819+  8293 02          	DB	#02
1820+  8294 02          	DB	#02
1821+  8295 02          	DB	#02
1822+  8296 02          	DB	#02
1823+  8297 02          	DB	#02
1824+  8298 02          	DB	#02
1825+  8299 01          	DB	#01
1826+  829A 02          	DB	#02
1827+  829B 02          	DB	#02
1828+  829C 02          	DB	#02
1829+  829D 02          	DB	#02
1830+  829E 02          	DB	#02
1831+  829F 02          	DB	#02
1832+  82A0 01          	DB	#01
1833+  82A1 02          	DB	#02
1834+  82A2 02          	DB	#02
1835+  82A3 01          	DB	#01
1836+  82A4 02          	DB	#02
1837+  82A5 02          	DB	#02
1838+  82A6 02          	DB	#02
1839+  82A7 01          	DB	#01
1840+  82A8 02          	DB	#02
1841+  82A9 02          	DB	#02
1842+  82AA 01          	DB	#01
1843+  82AB 02          	DB	#02
1844+  82AC 02          	DB	#02
1845+  82AD 01          	DB	#01
1846+  82AE 02          	DB	#02
1847+  82AF 02          	DB	#02
1848+  82B0 01          	DB	#01
1849+  82B1 02          	DB	#02
1850+  82B2 01          	DB	#01
1851+  82B3 01          	DB	#01
1852+  82B4 02          	DB	#02
1853+  82B5 01          	DB	#01
1854+  82B6 02          	DB	#02
1855+  82B7 02          	DB	#02
1856+  82B8 02          	DB	#02
1857+  82B9 01          	DB	#01
1858+  82BA 02          	DB	#02
1859+  82BB 01          	DB	#01
1860+  82BC 01          	DB	#01
1861+  82BD 02          	DB	#02
1862+  82BE 01          	DB	#01
1863+  82BF 02          	DB	#02
1864+  82C0 01          	DB	#01
1865+  82C1 01          	DB	#01
1866+  82C2 01          	DB	#01
1867+  82C3 02          	DB	#02
1868+  82C4 01          	DB	#01
1869+  82C5 02          	DB	#02
1870+  82C6 01          	DB	#01
1871+  82C7 01          	DB	#01
1872+  82C8 02          	DB	#02
1873+  82C9 01          	DB	#01
1874+  82CA 02          	DB	#02
1875+  82CB 01          	DB	#01
1876+  82CC 02          	DB	#02
1877+  82CD 01          	DB	#01
1878+  82CE 02          	DB	#02
1879+  82CF 01          	DB	#01
1880+  82D0 01          	DB	#01
1881+  82D1 02          	DB	#02
1882+  82D2 01          	DB	#01
1883+  82D3 02          	DB	#02
1884+  82D4 01          	DB	#01
1885+  82D5 01          	DB	#01
1886+  82D6 02          	DB	#02
1887+  82D7 01          	DB	#01
1888+  82D8 01          	DB	#01
1889+  82D9 01          	DB	#01
1890+  82DA 01          	DB	#01
1891+  82DB 02          	DB	#02
1892+  82DC 01          	DB	#01
1893+  82DD 01          	DB	#01
1894+  82DE 02          	DB	#02
1895+  82DF 01          	DB	#01
1896+  82E0 01          	DB	#01
1897+  82E1 01          	DB	#01
1898+  82E2 01          	DB	#01
1899+  82E3 01          	DB	#01
1900+  82E4 02          	DB	#02
1901+  82E5 01          	DB	#01
1902+  82E6 01          	DB	#01
1903+  82E7 02          	DB	#02
1904+  82E8 01          	DB	#01
1905+  82E9 01          	DB	#01
1906+  82EA 01          	DB	#01
1907+  82EB 01          	DB	#01
1908+  82EC 02          	DB	#02
1909+  82ED 01          	DB	#01
1910+  82EE 02          	DB	#02
1911+  82EF 01          	DB	#01
1912+  82F0 01          	DB	#01
1913+  82F1 01          	DB	#01
1914+  82F2 01          	DB	#01
1915+  82F3 02          	DB	#02
1916+  82F4 01          	DB	#01
1917+  82F5 01          	DB	#01
1918+  82F6 01          	DB	#01
1919+  82F7 01          	DB	#01
1920+  82F8 01          	DB	#01
1921+  82F9 01          	DB	#01
1922+  82FA 01          	DB	#01
1923+  82FB 01          	DB	#01
1924+  82FC 01          	DB	#01
1925+  82FD 01          	DB	#01
1926+  82FE 01          	DB	#01
1927+  82FF 02          	DB	#02
1928+  8300 01          	DB	#01
1929+  8301 01          	DB	#01
1930+  8302 01          	DB	#01
1931+  8303 01          	DB	#01
1932+  8304 02          	DB	#02
1933+  8305 01          	DB	#01
1934+  8306 01          	DB	#01
1935+  8307 01          	DB	#01
1936+  8308 02          	DB	#02
1937+  8309 01          	DB	#01
1938+  830A 01          	DB	#01
1939+  830B 01          	DB	#01
1940+  830C 01          	DB	#01
1941+  830D 01          	DB	#01
1942+  830E 01          	DB	#01
1943+  830F 01          	DB	#01
1944+  8310 01          	DB	#01
1945+  8311 01          	DB	#01
1946+  8312 01          	DB	#01
1947+  8313 01          	DB	#01
1948+  8314 01          	DB	#01
1949+  8315 01          	DB	#01
1950+  8316 01          	DB	#01
1951+  8317 01          	DB	#01
1952+  8318 01          	DB	#01
1953+  8319 01          	DB	#01
1954+  831A 01          	DB	#01
1955+  831B 01          	DB	#01
1956+  831C 01          	DB	#01
1957+  831D 01          	DB	#01
1958+  831E 02          	DB	#02
1959+  831F 01          	DB	#01
1960+  8320 01          	DB	#01
1961+  8321 01          	DB	#01
1962+  8322 01          	DB	#01
1963+  8323 01          	DB	#01
1964+  8324 01          	DB	#01
1965+  8325 01          	DB	#01
1966+  8326 01          	DB	#01
1967+  8327 01          	DB	#01
1968+  8328 01          	DB	#01
1969+  8329 01          	DB	#01
1970+  832A 01          	DB	#01
1971+  832B 01          	DB	#01
1972+  832C 01          	DB	#01
1973+  832D 01          	DB	#01
1974+  832E 01          	DB	#01
1975+  832F 01          	DB	#01
1976+  8330 01          	DB	#01
1977+  8331 01          	DB	#01
1978+  8332 01          	DB	#01
1979+  8333 01          	DB	#01
1980+  8334 01          	DB	#01
1981+  8335 01          	DB	#01
1982+  8336 01          	DB	#01
1983+  8337 01          	DB	#01
1984+  8338 01          	DB	#01
1985+  8339 01          	DB	#01
1986+  833A 01          	DB	#01
1987+  833B 01          	DB	#01
1988+  833C 01          	DB	#01
1989+  833D 01          	DB	#01
1990+  833E             
0077   833E             	ORG	QTABS
0078   7B79             	INCBIN	"res\raytab.dat"	; but real table here
0079   833E             
0080   833E             	INCLUDE "Qkbjoy.txt"
0001+  833E             ;-------------------------------------
0002+  833E             ; Test for FIRE pressed
0003+  833E             ;-------------------------------------
0004+  833E             
0005+  833E             FIREPRESSED
0006+  833E CD 60 83    	CALL	KBDJOY
0007+  8341 CB 67       	BIT	4,A	; NZ = fire 
0008+  8343 C9          	RET
0009+  8344             
0010+  8344             ;-------------------------------------
0011+  8344             ; Test for FIRE release
0012+  8344             ;-------------------------------------
0013+  8344             
0014+  8344             FIRERELEASE
0015+  8344 FB          	EI			; HALT with disabled INT = crash
0016+  8345 CD 51 83    	CALL	FIRERELEASE1
0017+  8348 76          	HALT
0018+  8349 CD 51 83    	CALL	FIRERELEASE1	; for keyboard anti-bounce
0019+  834C 76          	HALT
0020+  834D CD 51 83    	CALL	FIRERELEASE1	; for keyboard anti-bounce
0021+  8350 C9          	RET
0022+  8351             FIRERELEASE1
0023+  8351 CD 3E 83    	CALL	FIREPRESSED
0024+  8354 20 FB       	JR	NZ,FIRERELEASE1
0025+  8356 C9          	RET
0026+  8357             
0027+  8357             ;-------------------------------------
0028+  8357             ; Wait for FIRE pressed in loop.
0029+  8357             ; (nd first, wait for Fire released
0030+  8357             ; if already pressed.)
0031+  8357             ;-------------------------------------
0032+  8357             
0033+  8357             FIREPRESSLOOP
0034+  8357 CD 44 83    	CALL	FIRERELEASE	; first, wait for fire relese
0035+  835A CD 3E 83    FPRLOO1	CALL	FIREPRESSED
0036+  835D 28 FB       	JR	Z,FPRLOO1	; if not fire pressed
0037+  835F C9          	RET
0038+  8360             
0039+  8360             KBDJOY	
0040+  8360 DB 1F       	in a,(#1f)
0041+  8362 EE A0       	xor #a0
0042+  8364 32 68 83    	LD	(P1CTRL),A
0043+  8367 C9          	ret
0044+  8368 00          P1CTRL	DEFB 0
0045+  8369             ;-------------------------------------
0046+  8369             ; Key test routine
0047+  8369             ;-------------------------------------
0048+  8369             /*
0049+  8369~            KTEST	LD	C,A	; key to test in C
0050+  8369~            	AND	7	; mask bits 0..2 for row
0051+  8369~            	INC	A	; in range 1..8
0052+  8369~            	LD	B,A	; place in B
0053+  8369~            	SRL	C	; C div 8 (find pos within row)
0054+  8369~            	SRL	C
0055+  8369~            	SRL	C
0056+  8369~            	LD	A,5	; only 5 keys per row
0057+  8369~            	SUB	C	; subtract pos
0058+  8369~            	LD	C,A	; put in C
0059+  8369~            	LD	A,254	; high byte of port to read
0060+  8369~            KTEST2	RRCA		; rotate into position
0061+  8369~            	DJNZ	KTEST2	; repeat until found relevant row
0062+  8369~            	IN	A,(254)	; read port (A=high, 254=low)
0063+  8369~            KTEST1	RRA		; rotate bit out of result
0064+  8369~            	DEC	C	; loop counter, repeat
0065+  8369~            	JP   NZ,KTEST1	; until bit for position in carry
0066+  8369~            	RET
0067+  8369~            0068+  8369~            0069+  8369~            ; Joystick and keyboard reading routines.
0070+  8369~            0071+  8369~            KBDJOY	LD	A,(P1CTRLTYPE)	; control type for Player 1
0072+  8369~            	CALL	KJREAD		; read kbd/joy for Player 1
0073+  8369~            	LD	(P1CTRL),A	; store
0074+  8369~            	RET
0075+  8369~            0076+  8369~            KJREAD	LD	IX,KEYCURS	; data for cursor/extra key
0077+  8369~            	CP	2
0078+  8369~            	JR	Z,JOYKEMP
0079+  8369~            	CP	1
0080+  8369~            	JR	Z,JOYSIN1
0081+  8369~            	CP	3
0082+  8369~            	JR	Z,GETKEYS	; cursor
0083+  8369~            0084+  8369~            ; keyboard / key-joystick controls
0085+  8369~            0086+  8369~            	LD	IX,KEYUSER	; keyboard
0087+  8369~            GETKEYS	LD	E,0
0088+  8369~            	LD	A,(IX+4); fire key.
0089+  8369~            	CALL	KTEST
0090+  8369~            	CCF		; complement the carry
0091+  8369~            	RL	E	; rotate into E
0092+  8369~            	LD	A,(IX)	; up key
0093+  8369~            	CALL	KTEST
0094+  8369~            	CCF		; complement the carry
0095+  8369~            	RL	E	; rotate into E
0096+  8369~            	LD	A,(IX+1); down key.
0097+  8369~            	CALL	KTEST
0098+  8369~            	CCF		; complement the carry
0099+  8369~            	RL	E	; rotate into E
0100+  8369~            	LD	A,(IX+2); left key
0101+  8369~            	CALL	KTEST
0102+  8369~            	CCF		; complement the carry
0103+  8369~            	RL	E	; rotate into bit 0 of E
0104+  8369~            	LD	A,(IX+3); right key
0105+  8369~            	CALL	KTEST
0106+  8369~            	CCF		; complement the carry
0107+  8369~            	RL	E	; destined for bit 1 of E
0108+  8369~            	LD	A,E	; place result in accumulator
0109+  8369~            0110+  8369~            READPAUSEKEY
0111+  8369~            	LD	E,A	; just store A
0112+  8369~            	LD	A,(IX+5); pause key
0113+  8369~            	CALL	KTEST
0114+  8369~            	LD	A,E	; restore
0115+  8369~            	RET	C
0116+  8369~            	SET	5,A
0117+  8369~            	RET
0118+  8369~            0119+  8369~            ; Kempston joystick controls.
0120+  8369~            0121+  8369~            JOYKEMP	LD	BC,31	; port for Kempston joystick
0122+  8369~            	IN	A,(C)
0123+  8369~            	JR	READPAUSEKEY
0124+  8369~            0125+  8369~            ; Sinclair joystick controls.
0126+  8369~            0127+  8369~            ; 61438 (#EFFE) is port for Sinclair Interface 2 joystick 1 (Right)
0128+  8369~            ; 63486 (#F7FE) is port for Sinclair Interface 2 joystick 2 (Left)
0129+  8369~            ;   - ()    ,
0130+  8369~            ;       
0131+  8369~            0132+  8369~            ;-- JOYSIN2 LD	BC,63486	; port for Sinclair Left
0133+  8369~            ;--	LD	HL,SINCL2TABLE
0134+  8369~            ;--	JR	JOYSIN
0135+  8369~            0136+  8369~            JOYSIN1	LD	BC,61438	; port for Sinclair Right
0137+  8369~            JOYSIN	IN	A,(C)	; read joystick
0138+  8369~            	LD	D,A	; clear values
0139+  8369~            	XOR	A	; clear accumulator
0140+  8369~            	LD	E,16
0141+  8369~            	BIT	0,D	; Fire(S1)/Left(S2)?
0142+  8369~            	CALL	Z,JOYS0	; add bit
0143+  8369~            	LD	E,8
0144+  8369~            	BIT	1,D	; Up(S1)/Right(S2)?
0145+  8369~            	CALL	Z,JOYS0	; add bit
0146+  8369~            	LD	E,4
0147+  8369~            	BIT	2,D	; Down(S1 and S2)?
0148+  8369~            	CALL	Z,JOYS0	; add bit
0149+  8369~            	LD	E,1
0150+  8369~            	BIT	3,D	; Right(S1)/Up(S2)?
0151+  8369~            	CALL	Z,JOYS0	; add bit
0152+  8369~            	LD	E,2
0153+  8369~            	BIT	4,D	; Left(S1)/Fire(S2)?
0154+  8369~            	CALL	Z,JOYS0	; add bit
0155+  8369~            	JR	READPAUSEKEY
0156+  8369~            0157+  8369~            JOYS0	ADD	A,E	; add bit value.
0158+  8369~            	RET
0159+  8369~            0160+  8369~            ; control type (keyboard/joysticks) for player 1 / player 2
0161+  8369~            0162+  8369~            P1CTRLTYPE	DEFB -1
0163+  8369~            0164+  8369~            ; 0 = KEYBOARD
0165+  8369~            ; 1 = SINCLAIR 1 (RIGHT)
0166+  8369~            ; 2 = KEMPSTON
0167+  8369~            ; 3 = CURSOR
0168+  8369~            0169+  8369~            ; keyboard/joystick curent value(s) for player 1 / player 2
0170+  8369~            0171+  8369~            P1CTRL	DEFB 0
0172+  8369~            0173+  8369~            ; Keys: up, down, left, right, fire, then additional keys.
0174+  8369~            0175+  8369~            KEYCURS	DEFB 11,03,04,19,35, 32	; cursor keys+Map
0176+  8369~            KEYUSER	DEFB 37,38,26,34,16, 32	; user keys (default is QAOPM+Sp)
0177+  8369~            0178+  8369~            ; Keypress codes
0179+  8369~            ; -----------------------------
0180+  8369~            ;  1  2  3  4  5  6  7  8  9  0
0181+  8369~            ; 36 28 20 12 04 03 11 19 27 35
0182+  8369~            ; -----------------------------
0183+  8369~            ;  Q  W  E  R  T  Y  U  I  O  P
0184+  8369~            ; 37 29 21 13 05 02 10 18 26 34
0185+  8369~            ; -----------------------------
0186+  8369~            ;  A  S  D  F  G  H  J  K  L en
0187+  8369~            ; 38 30 22 14 06 01 09 17 25 33
0188+  8369~            ; -----------------------------
0189+  8369~            ; cs  Z  X  C  V  B  N  M ss bs
0190+  8369~            ; 39 31 23 15 07 00 08 16 24 32
0191+  8369~            ; -----------------------------
0192+  8369             */
0081   8369             	INCLUDE "Qprint.txt"
0001+  8369             QFONT
0002+  8369             	IF LANGUAG=0
0003+  8369~            	INCBIN "res\qfont.dat"
0004+  8369             	ENDIF
0005+  8369             	IF LANGUAG=1
0006+  8369             	INCBIN "res\qfont_ru.dat"
0007+  84E9             	ENDIF
0008+  84E9             
0009+  84E9 E9 81       FONT	DEFW	QFONT-256-8*16
0010+  84EB             
0011+  84EB             ;---------------------------------------------------------------
0012+  84EB             ;	 .  
0013+  84EB             ;	LD    DE,TXT1	;   ,  #0
0014+  84EB             ;	LD    BC,#0702	;  YX (, )
0015+  84EB             ;	CALL  TPRINT
0016+  84EB             ;
0017+  84EB             ;	:
0018+  84EB             ;	-   (13),   
0019+  84EB             ;	-    (14),  
0020+  84EB             ;	-  (22,ROW,COL)
0021+  84EB             ;	-   (15)
0022+  84EB             ;---------------------------------------------------------------
0023+  84EB             
0024+  84EB 3E FF       PRINT	LD	A,#FF
0025+  84ED 32 58 85    PRINTA	LD	(TXATTR+1),A	; clear/set attr
0026+  84F0 79          	LD	A,C
0027+  84F1 32 1A 85    	LD	(TXTTAB+1),A	;   
0028+  84F4             
0029+  84F4 1A          TXPR1	LD	A,(DE)
0030+  84F5 A7          	AND	A		; CP 0
0031+  84F6 C8          	RET	Z
0032+  84F7 FE 0F       	CP	15
0033+  84F9 28 14       	JR	Z,TXATTRSET
0034+  84FB FE 0E       	CP	14
0035+  84FD 28 18       	JR	Z,TX2ENT
0036+  84FF FE 0D       	CP	13
0037+  8501 28 15       	JR	Z,TXENTR
0038+  8503 FE 16       	CP	22
0039+  8505 28 18       	JR	Z,TXAT
0040+  8507 D5          	PUSH	DE
0041+  8508 CD 28 85    	CALL	PRINTCHAR
0042+  850B D1          	POP	DE
0043+  850C 13          	INC	DE
0044+  850D 18 E5       	JR	TXPR1
0045+  850F             
0046+  850F             TXATTRSET
0047+  850F 13          	INC	DE
0048+  8510 1A          	LD	A,(DE)
0049+  8511 13          	INC	DE
0050+  8512 32 58 85    	LD	(TXATTR+1),A
0051+  8515 18 DD       	JR	TXPR1
0052+  8517             
0053+  8517 04          TX2ENT	INC	B		;  
0054+  8518 04          TXENTR	INC	B		;  
0055+  8519 3E 01       TXTTAB	LD	A,1
0056+  851B 4F          	LD	C,A		;   
0057+  851C 13          	INC	DE
0058+  851D 18 D5       	JR	TXPR1
0059+  851F             
0060+  851F 13          TXAT	INC	DE
0061+  8520 1A          	LD	A,(DE)
0062+  8521 47          	LD	B,A
0063+  8522 13          	INC	DE
0064+  8523 1A          	LD	A,(DE)
0065+  8524 4F          	LD	C,A
0066+  8525 13          	INC	DE
0067+  8526 18 CC       	JR	TXPR1
0068+  8528             
0069+  8528             PRINTCHAR
0070+  8528 08          	EXA
0071+  8529 78          	LD	A,B
0072+  852A CD 9E 0E    	CALL	3742
0073+  852D 79          	LD	A,C
0074+  852E 85          	ADD	A,L
0075+  852F 6F          	LD	L,A
0076+  8530 0C          	INC	C
0077+  8531 C5          	PUSH	BC
0078+  8532 54          	LD	D,H
0079+  8533 5D          	LD	E,L
0080+  8534 08          	EXA	
0081+  8535 6F          	LD	L,A
0082+  8536 26 00       	LD	H,0
0083+  8538 29          	ADD	HL,HL
0084+  8539 29          	ADD	HL,HL
0085+  853A 29          	ADD	HL,HL
0086+  853B ED 4B E9 84 	LD	BC,(FONT)
0087+  853F 09          	ADD	HL,BC
0088+  8540 CD 5B 85    PRCHR	CALL	CHAR_NORMAL	; self-mod
0089+  8543 C1          	POP	BC
0090+  8544             
0091+  8544 3A 58 85    	LD	A,(TXATTR+1)	; current attr
0092+  8547 FE FF       	CP	#FF
0093+  8549 C8          	RET	Z
0094+  854A             
0095+  854A 15          	DEC	D
0096+  854B 7A          	LD	A,D
0097+  854C E6 18       	AND	#18
0098+  854E CB 2F       	SRA	A
0099+  8550 CB 2F       	SRA	A
0100+  8552 CB 2F       	SRA	A
0101+  8554 C6 58       	ADD	A,#58	; attr hi
0102+  8556 57          	LD	D,A
0103+  8557 3E 02       TXATTR	LD	A,2	; (var)
0104+  8559 12          	LD	(DE),A
0105+  855A C9          	RET
0106+  855B             
0107+  855B             CHAR_NORMAL
0108+  855B 06 08       	LD	B,8
0109+  855D 7E          PRCHR1	LD	A,(HL)
0110+  855E 12          	LD	(DE),A
0111+  855F 14          	INC	D
0112+  8560 23          	INC	HL
0113+  8561 10 FA       	DJNZ	PRCHR1
0114+  8563 C9          	RET
0115+  8564             
0116+  8564 C5          PRINTX	PUSH	BC
0117+  8565 D5          	PUSH	DE
0118+  8566 CD EB 84    	CALL	PRINT
0119+  8569 D1          	POP	DE
0120+  856A C1          	POP	BC
0121+  856B C9          	RET
0082   856C             	INCLUDE "Qworld.txt"
0001+  856C             WORLD_NEW
0002+  856C             
0003+  856C             	IFN STLEVEL=0
0004+  856C~            	XOR	A
0005+  856C~            	LD	(STLVSET+1),A
0006+  856C             	ENDIF
0007+  856C             
0008+  856C CD C9 A5    	CALL	CLEARGAMEWIN
0009+  856F CD 90 8C    	CALL	CLEARKEY4
0010+  8572             
0011+  8572 11 E7 DD    	LD	DE,TX6498+3
0012+  8575             	IF LANGUAG=0
0013+  8575~            	LD	BC,#0008
0014+  8575             	ENDIF
0015+  8575             	IF LANGUAG=1
0016+  8575 01 0A 00    	LD	BC,#000A
0017+  8578             	ENDIF
0018+  8578 CD EB 84    	CALL	PRINT
0019+  857B 11 07 DE    	LD	DE,TXEND
0020+  857E CD EB 84    	CALL	PRINT
0021+  8581             
0022+  8581 CD DF 86    	CALL	WORLD_SHARED
0023+  8584 11 CA 87    	LD	DE,WORLDDATA_RD2
0024+  8587 01 0D 06    	LD	BC,#060D
0025+  858A CD ED 84    	CALL	PRINTA
0026+  858D             
0027+  858D 11 E3 87    	LD	DE,WORLDDATA_TREE
0028+  8590 01 07 07    	LD	BC,#0707
0029+  8593 CD 64 85    	CALL	PRINTX
0030+  8596 01 09 06    	LD	BC,#0609
0031+  8599 CD 64 85    	CALL	PRINTX
0032+  859C 01 19 08    	LD	BC,#0819
0033+  859F CD 64 85    	CALL	PRINTX
0034+  85A2 01 12 09    	LD	BC,#0912
0035+  85A5 CD 64 85    	CALL	PRINTX
0036+  85A8             
0037+  85A8 FB          	EI
0038+  85A9 06 04       	LD	B,4
0039+  85AB C5          PIKPIK	PUSH	BC
0040+  85AC CD F1 A8    	CALL	FXCLICK
0041+  85AF 06 19       	LD	B,25
0042+  85B1 76          DELAYH	HALT
0043+  85B2 10 FD       	DJNZ	DELAYH
0044+  85B4 C1          	POP	BC
0045+  85B5 10 F4       	DJNZ	PIKPIK
0046+  85B7             
0047+  85B7 DD 21 FB 85 	LD	IX,DOMA
0048+  85BB 06 0D       	LD	B,13
0049+  85BD C5          PRDOMA	PUSH	BC
0050+  85BE DD 4E 00    	LD	C,(IX)
0051+  85C1 DD 46 01    	LD	B,(IX+1)
0052+  85C4 DD 23       	INC	IX
0053+  85C6 DD 23       	INC	IX
0054+  85C8 11 09 88    	LD	DE,WORLDDATA_HOUSE
0055+  85CB CD 64 85    	CALL	PRINTX
0056+  85CE CB 21       	SLA	C
0057+  85D0 CB 21       	SLA	C
0058+  85D2 06 88       	LD	B,#88
0059+  85D4 CD 06 A9    	CALL	FXBEEP
0060+  85D7 CD F1 A8    	CALL	FXCLICK
0061+  85DA C1          	POP	BC
0062+  85DB 10 E0       	DJNZ	PRDOMA
0063+  85DD             
0064+  85DD 06 58       	LD	B,88
0065+  85DF C5          PIKPIK2	PUSH	BC
0066+  85E0 48          	LD	C,B
0067+  85E1 06 16       	LD	B,22
0068+  85E3 CD 06 A9    	CALL	FXBEEP
0069+  85E6 C1          	POP	BC
0070+  85E7 10 F6       	DJNZ	PIKPIK2
0071+  85E9             
0072+  85E9 21 E9 81    	LD	HL,QFONT-256-8*16
0073+  85EC 22 E9 84    	LD	(FONT),HL
0074+  85EF CD 57 83    	CALL	FIREPRESSLOOP
0075+  85F2             
0076+  85F2 11 71 DE    	LD	DE,TXCLEAR+3
0077+  85F5 01 00 02    	LD	BC,#0200
0078+  85F8 C3 EB 84    	JP	PRINT
0079+  85FB             
0080+  85FB 1A 03       DOMA	DEFW	#031A
0081+  85FD 03 03       	DEFW	#0303
0082+  85FF 0A 08       	DEFW	#080A
0083+  8601 02 05       	DEFW	#0502
0084+  8603 07 0C       	DEFW	#0C07
0085+  8605 1A 06       	DEFW	#061A
0086+  8607 14 08       	DEFW	#0814
0087+  8609 03 08       	DEFW	#0803
0088+  860B 05 0E       	DEFW	#0E05
0089+  860D 06 09       	DEFW	#0906
0090+  860F 0E 06       	DEFW	#060E
0091+  8611 1A 0A       	DEFW	#0A1A
0092+  8613 0F 09       	DEFW	#090F
0093+  8615             
0094+  8615 CD C9 A5    WORLD	CALL	CLEARGAMEWIN
0095+  8618             
0096+  8618 3A FA A9    	LD	A,(LEVEL)
0097+  861B A7          	AND	A
0098+  861C C8          	RET	Z
0099+  861D             
0100+  861D 3A FA A9    	LD	A,(LEVEL)
0101+  8620 01 09 00    	LD	BC,#0009
0102+  8623 CD C1 A5    	CALL	PRINTNUM
0103+  8626             	IF LANGUAG=0
0104+  8626~            	LD	BC,#0003
0105+  8626             	ENDIF
0106+  8626             	IF LANGUAG=1
0107+  8626 01 01 00    	LD	BC,#0001
0108+  8629             	ENDIF
0109+  8629 11 92 DE    	LD	DE,TXLEVEL
0110+  862C CD 64 85    	CALL	PRINTX
0111+  862F 3A FA A9    	LD	A,(LEVEL)
0112+  8632 47          	LD	B,A
0113+  8633 1A          PLVNAM2	LD	A,(DE)
0114+  8634 13          	INC	DE
0115+  8635 A7          	AND	A
0116+  8636 28 02       	JR	Z,PLVNAM1
0117+  8638 18 F9       	JR	PLVNAM2
0118+  863A 10 F7       PLVNAM1	DJNZ	PLVNAM2
0119+  863C 01 0E 00    	LD	BC,#000E
0120+  863F CD EB 84    	CALL	PRINT
0121+  8642 01 0C 00    	LD	BC,#000C
0122+  8645 11 A6 87    	LD	DE,WDEFIS
0123+  8648 CD EB 84    	CALL	PRINT
0124+  864B             
0125+  864B CD DF 86    	CALL	WORLD_SHARED
0126+  864E             	
0127+  864E 11 13 88    	LD	DE,WORLDDATA_MAZE
0128+  8651 01 04 0A    	LD	BC,#0A04
0129+  8654 CD 64 85    	CALL	PRINTX
0130+  8657 01 0C 06    	LD	BC,#060C
0131+  865A 13          	INC	DE
0132+  865B 13          	INC	DE
0133+  865C 3E 43       	LD	A,3+64
0134+  865E CD ED 84    	CALL	PRINTA
0135+  8661 11 15 88    	LD	DE,WORLDDATA_MAZE+2
0136+  8664 01 17 08    	LD	BC,#0817
0137+  8667 3E 02       	LD	A,2
0138+  8669 CD ED 84    	CALL	PRINTA
0139+  866C             
0140+  866C 11 F3 87    	LD	DE,WORLDDATA_ALLEY
0141+  866F 01 07 06    	LD	BC,#0607
0142+  8672 CD 64 85    	CALL	PRINTX
0143+  8675 01 07 03    	LD	BC,#0307
0144+  8678 CD 64 85    	CALL	PRINTX
0145+  867B             
0146+  867B 11 34 88    	LD	DE,WORLDDATA_NEST
0147+  867E 01 1B 02    	LD	BC,#021B
0148+  8681 3E 05       	LD	A,5
0149+  8683 CD ED 84    	CALL	PRINTA
0150+  8686 11 37 88    	LD	DE,WORLDDATA_NEST+3
0151+  8689 01 19 03    	LD	BC,#0319
0152+  868C 3E 05       	LD	A,5
0153+  868E CD ED 84    	CALL	PRINTA
0154+  8691 11 3C 88    	LD	DE,WORLDDATA_NEST+8
0155+  8694 01 18 04    	LD	BC,#0418
0156+  8697 3E 05       	LD	A,5
0157+  8699 CD ED 84    	CALL	PRINTA
0158+  869C             
0159+  869C CD 44 83    	CALL	FIRERELEASE
0160+  869F             
0161+  869F 11 44 89    	LD	DE,ARROWLEVPOS
0162+  86A2 3A FA A9    	LD	A,(LEVEL)
0163+  86A5 3D          	DEC	A
0164+  86A6 87          	ADD	A,A
0165+  86A7 26 00       	LD	H,0
0166+  86A9 6F          	LD	L,A
0167+  86AA 19          	ADD	HL,DE
0168+  86AB 4E          	LD	C,(HL)
0169+  86AC 23          	INC	HL
0170+  86AD 46          	LD	B,(HL)
0171+  86AE             
0172+  86AE 21 9F 87    	LD	HL,WARROWCOLORSEQ
0173+  86B1 FB          	EI
0174+  86B2 C5          WARROW	PUSH	BC
0175+  86B3 23          	INC	HL
0176+  86B4 7E          	LD	A,(HL)
0177+  86B5 A7          	AND	A
0178+  86B6 20 03       	JR	NZ,WARROW1
0179+  86B8 21 9F 87    	LD	HL,WARROWCOLORSEQ
0180+  86BB E5          WARROW1	PUSH	HL
0181+  86BC 11 42 88    	LD	DE,WORLDDATA_ARROW
0182+  86BF CD ED 84    	CALL	PRINTA
0183+  86C2 CD 3E 83    	CALL	FIREPRESSED
0184+  86C5 20 07       	JR	NZ,WRLDEND
0185+  86C7 76          > HALT
0185+  86C8 76          > HALT
0185+  86C9 76          > HALT
0186+  86CA E1          	POP	HL
0187+  86CB C1          	POP	BC
0188+  86CC 18 E4       	JR	WARROW
0189+  86CE             
0190+  86CE E1          WRLDEND	POP	HL
0191+  86CF C1          	POP	BC
0192+  86D0 21 E9 81    	LD	HL,QFONT-256-8*16
0193+  86D3 22 E9 84    	LD	(FONT),HL
0194+  86D6             
0195+  86D6 CD F1 A8    	CALL	FXCLICK
0196+  86D9             
0197+  86D9 CD 44 83    	CALL	FIRERELEASE
0198+  86DC C3 8E A4    	JP	CLEARLINE
0199+  86DF             
0200+  86DF             
0201+  86DF             WORLD_SHARED
0202+  86DF 21 44 87    	LD	HL,WFONT-256
0203+  86E2 22 E9 84    	LD	(FONT),HL
0204+  86E5             
0205+  86E5 11 01 88    	LD	DE,WORLDDATA_GROUND
0206+  86E8 01 02 04    	LD	BC,#0402
0207+  86EB CD A8 87    	CALL	DRWRLDG
0208+  86EE 01 02 08    	LD	BC,#0802
0209+  86F1 CD A8 87    	CALL	DRWRLDG
0210+  86F4 01 02 0C    	LD	BC,#0C02
0211+  86F7 CD A8 87    	CALL	DRWRLDG
0212+  86FA             
0213+  86FA AF          	XOR	A
0214+  86FB DD 21 80 58 	LD	IX,#5800+64*2
0215+  86FF 06 0C       	LD	B,12
0216+  8701 11 20 00    MBLKSID	LD	DE,32
0217+  8704 DD 77 01    	LD	(IX+1),A
0218+  8707 DD 77 1D    	LD	(IX+29),A
0219+  870A DD 19       	ADD	IX,DE
0220+  870C 10 F3       	DJNZ	MBLKSID
0221+  870E             
0222+  870E 11 DE 87    	LD	DE,WORLDDATA_RIVER
0223+  8711 01 11 04    	LD	BC,#0411
0224+  8714 3E 06       	LD	A,6
0225+  8716 F5          WRIV1	PUSH	AF
0226+  8717 CD 64 85    	CALL	PRINTX
0227+  871A 04          	INC	B
0228+  871B 04          	INC	B
0229+  871C F1          	POP	AF
0230+  871D 3D          	DEC	A
0231+  871E 20 F6       	JR	NZ,WRIV1
0232+  8720             
0233+  8720 11 1F 88    	LD	DE,WORLDDATA_SANCTUM
0234+  8723 01 0A 0B    	LD	BC,#0B0A
0235+  8726 CD 64 85    	CALL	PRINTX
0236+  8729 01 13 05    	LD	BC,#0513
0237+  872C CD 64 85    	CALL	PRINTX
0238+  872F             
0239+  872F 11 CA 87    	LD	DE,WORLDDATA_RD2
0240+  8732 01 05 0A    	LD	BC,#0A05
0241+  8735 CD 64 85    	CALL	PRINTX
0242+  8738 01 05 06    	LD	BC,#0605
0243+  873B CD 64 85    	CALL	PRINTX
0244+  873E 01 0D 07    	LD	BC,#070D
0245+  8741 CD 64 85    	CALL	PRINTX
0246+  8744 01 18 08    	LD	BC,#0818
0247+  8747 CD 64 85    	CALL	PRINTX
0248+  874A 11 C5 87    	LD	DE,WORLDDATA_RD1+7
0249+  874D 01 02 0D    	LD	BC,#0D02
0250+  8750 3E 06       	LD	A,6
0251+  8752 CD ED 84    	CALL	PRINTA
0252+  8755 11 C2 87    	LD	DE,WORLDDATA_RD1+4
0253+  8758 01 14 05    	LD	BC,#0514
0254+  875B 3E 06       	LD	A,6
0255+  875D CD ED 84    	CALL	PRINTA
0256+  8760 11 D4 87    	LD	DE,WORLDDATA_RD3
0257+  8763 01 05 05    	LD	BC,#0505
0258+  8766 3E 06       	LD	A,6
0259+  8768 CD ED 84    	CALL	PRINTA
0260+  876B 11 BE 87    	LD	DE,WORLDDATA_RD1
0261+  876E 01 0E 0C    	LD	BC,#0C0E
0262+  8771 3E 06       	LD	A,6
0263+  8773 CD ED 84    	CALL	PRINTA
0264+  8776 11 D8 87    	LD	DE,WORLDDATA_RD3+4
0265+  8779 01 14 07    	LD	BC,#0714
0266+  877C 3E 06       	LD	A,6
0267+  877E CD ED 84    	CALL	PRINTA
0268+  8781             
0269+  8781 11 EB 87    	LD	DE,WORLDDATA_BRIDGE
0270+  8784 01 0F 0D    	LD	BC,#0D0F
0271+  8787 CD 64 85    	CALL	PRINTX
0272+  878A             
0273+  878A 11 09 88    	LD	DE,WORLDDATA_HOUSE
0274+  878D 01 17 0D    	LD	BC,#0D17
0275+  8790 CD 64 85    	CALL	PRINTX
0276+  8793 01 19 0C    	LD	BC,#0C19
0277+  8796 CD 64 85    	CALL	PRINTX
0278+  8799 01 15 0A    	LD	BC,#0A15
0279+  879C C3 64 85    	JP	PRINTX
0280+  879F             
0281+  879F             WARROWCOLORSEQ
0282+  879F             	DEFB	1,2,4,6+64,4,2,0
0282+  879F 01020446040200
0283+  87A6             
0284+  87A6 3E 00       WDEFIS	DB	">",0
0285+  87A8             
0286+  87A8 3E 0E       DRWRLDG	LD	A,14
0287+  87AA F5          DRWRLD1	PUSH	AF
0288+  87AB CD 64 85    	CALL	PRINTX
0289+  87AE 04          	INC	B
0290+  87AF 04          	INC	B
0291+  87B0 0D          	DEC	C
0292+  87B1 CD 64 85    	CALL	PRINTX
0293+  87B4 05          	DEC	B
0294+  87B5 05          	DEC	B
0295+  87B6 0C          	INC	C
0296+  87B7 0C          	INC	C
0297+  87B8 0C          	INC	C
0298+  87B9 F1          	POP	AF
0299+  87BA 3D          	DEC	A
0300+  87BB 20 ED       	JR	NZ,DRWRLD1
0301+  87BD C9          	RET
0302+  87BE             
0303+  87BE             WORLDDATA_RD1
0304+  87BE             	DB	40,55,55,55,55,55,55,55,55,55,57,0
0304+  87BE 283737373737373737373900
0305+  87CA             WORLDDATA_RD2
0306+  87CA             	DB	15,6,39,13,39,13,39,13,39,0
0306+  87CA 0F06270D270D270D2700
0307+  87D4             WORLDDATA_RD3
0308+  87D4             	DB	40,55,55,55,55,55,55,55,41,0
0308+  87D4 28373737373737372900
0309+  87DE             WORLDDATA_RIVER
0310+  87DE 2A0D3A0D00  	DB	42,13,58,13,0
0311+  87E3             
0312+  87E3             WORLDDATA_TREE
0313+  87E3             	DB	15,4,38,13,15,7,54,0
0313+  87E3 0F04260D0F073600
0314+  87EB             WORLDDATA_BRIDGE
0315+  87EB             	DB	15,3,59,60,60,60,43,0
0315+  87EB 0F033B3C3C3C2B00
0316+  87F3             WORLDDATA_ALLEY
0317+  87F3             	DB	15,4,38,38,38,38,13,15,7,54,54,54,54,0
0317+  87F3 0F04262626260D0F073636363600
0318+  8801             WORLDDATA_GROUND
0319+  8801             	DB	15,1,32,33,13,48,49,0
0319+  8801 0F0120210D303100
0320+  8809             WORLDDATA_HOUSE
0321+  8809             	DB	15,2,45,46,13,15,7,61,62,0
0321+  8809 0F022D2E0D0F073D3E00
0322+  8813             WORLDDATA_MAZE
0323+  8813             	DB	15,5,34,35,36,37,13,50,51,52,53,0
0323+  8813 0F05222324250D3233343500
0324+  881F             WORLDDATA_SANCTUM
0325+  881F             	DB	15,6,40,55,55,57,13,39,15,4+64,61,62,13,15,6,56,55,55,55,57,0
0325+  881F 0F06283737390D270F443D3E0D0F06383737373900
0326+  8834             WORLDDATA_NEST
0327+  8834             	DB	47,63,0,47,63,63,63,0,47,63,60,63,63,0
0327+  8834 2F3F002F3F3F3F002F3F3C3F3F00
0328+  8842             WORLDDATA_ARROW
0329+  8842 2C 00       	DB	44,0
0330+  8844             
0331+  8844             WFONT
0332+  8844             	INCBIN	"res\world.dat"
0333+  8944             
0334+  8944             ARROWLEVPOS
0335+  8944 06 0C       	DEFW	#0C06	; LEVEL 01
0336+  8946 07 08       	DEFW	#0807	; LEVEL 02
0337+  8948 0E 08       	DEFW	#080E	; LEVEL 03
0338+  894A 0B 0E       	DEFW	#0E0B	; LEVEL 04
0339+  894C 10 0E       	DEFW	#0E10	; LEVEL 05
0340+  894E 17 0F       	DEFW	#0F17	; LEVEL 06
0341+  8950 19 0A       	DEFW	#0A19	; LEVEL 07
0342+  8952 14 08       	DEFW	#0814	; LEVEL 08
0343+  8954 1B 06       	DEFW	#061B	; LEVEL 09
0344+  8956             
0345+  8956             /*
0346+  8956~            0346+  8956~            LEVEL 00
0347+  8956~              (PROLOGUE)
0347+  8956~            LEVEL 01
0348+  8956~              DARK MAZE
0348+  8956~            LEVEL 02
0349+  8956~              DEATH AVENUE
0349+  8956~            LEVEL 03
0350+  8956~              CORRIDORS OF FEAR
0350+  8956~            LEVEL 04
0351+  8956~              SANCTUM
0351+  8956~            LEVEL 05
0352+  8956~              BRIDGE OF DOOM
0352+  8956~            LEVEL 06
0353+  8956~              LOST VILLAGE
0353+  8956~            LEVEL 07
0354+  8956~              INFERNO
0354+  8956~            LEVEL 08
0355+  8956~              OBSERVATORY
0355+  8956~            LEVEL 09
0356+  8956~              EVIL NEST
0357+  8956~            0358+  8956~            DARK MAZE
0359+  8956~            DEATH AVENUE
0360+  8956~            CORRIDORS OF FEAR
0361+  8956~            SANCTUM
0362+  8956~            BRIDGE OF DOOM
0363+  8956~            LOST VILLAGE
0364+  8956~            INFERNO
0365+  8956~            OBSERVATORY
0366+  8956~            EVIL NEST
0367+  8956~            0368+  8956~             
0369+  8956~             
0370+  8956~             
0371+  8956~            
0372+  8956~             
0373+  8956~             
0374+  8956~            
0375+  8956~            
0376+  8956~             
0377+  8956~            0378+  8956             */
0379+  8956             
0083   8956             	INCLUDE "QBAS5.ASM"
0001+  8956             GAMESTART
0002+  8956 CD C9 A5    	CALL	CLEARGAMEWIN
0003+  8959             
0004+  8959 06 1E       	LD	B,30
0005+  895B C5          DRGUI1	PUSH	BC
0006+  895C 48          	LD	C,B
0007+  895D 06 12       	LD	B,#12
0008+  895F 21 96 5D    	LD	HL,GUIFR2
0009+  8962 CD 5A A4    	CALL	DRAWSPR_REAL
0010+  8965 C1          	POP	BC
0011+  8966 10 F3       	DJNZ	DRGUI1
0012+  8968 3E FF       	LD	A,-1
0013+  896A 32 2E A4    	LD	(SPRDIR),A
0014+  896D 01 0B 12    	LD	BC,#120B
0015+  8970 21 5E 5D    	LD	HL,GUIFR1
0016+  8973 CD 5A A4    	CALL	DRAWSPR_REAL
0017+  8976 01 1E 12    	LD	BC,#121E
0018+  8979 21 5E 5D    	LD	HL,GUIFR1
0019+  897C CD 5A A4    	CALL	DRAWSPR_REAL
0020+  897F AF          	XOR	A
0021+  8980 32 2E A4    	LD	(SPRDIR),A
0022+  8983 01 13 12    	LD	BC,#1213
0023+  8986 21 5E 5D    	LD	HL,GUIFR1
0024+  8989 CD 5A A4    	CALL	DRAWSPR_REAL
0025+  898C 01 0C 12    	LD	BC,#120C
0026+  898F 21 AD 5D    	LD	HL,GUIFR3
0027+  8992 CD 5A A4    	CALL	DRAWSPR_REAL
0028+  8995 01 00 12    	LD	BC,#1200
0029+  8998 21 5E 5D    	LD	HL,GUIFR1
0030+  899B CD 5A A4    	CALL	DRAWSPR_REAL
0031+  899E 01 15 13    	LD	BC,#1315
0032+  89A1 21 8F C1    	LD	HL,L_B177	; default compass
0033+  89A4 CD 5A A4    	CALL	DRAWSPR_REAL
0034+  89A7             
0035+  89A7 F3          	DI
0036+  89A8 21 FF 5F    	LD	HL,PROGBEGIN-1
0037+  89AB F9          	LD	SP,HL
0038+  89AC             
0039+  89AC             GAME_REPEAT
0040+  89AC 21 00 00    	LD	HL,#0000	; set weapon type
0041+  89AF 22 10 AA    	LD	(L_FAB1),HL	; and bullets
0042+  89B2             
0043+  89B2 3E 00       STLVSET	LD	A,STLEVEL
0044+  89B4 32 FA A9    	LD	(LEVEL),A
0045+  89B7             
0046+  89B7 CD BD 8A    NEXTLEV	CALL	INITSET
0047+  89BA CD 2C 8A    	CALL	READYGO
0048+  89BD             
0049+  89BD 3A 14 AA    	LD	A,(L_FAB5)
0050+  89C0 FE 01       	CP	#01		; dead? (level failed)
0051+  89C2 28 2C       	JR	Z,LEVFAIL
0052+  89C4             
0053+  89C4 3E 02       	LD	A,2		; (    ,
0054+  89C6 32 F1 89    	LD	(LEVFAIL+1),A 	;    )
0055+  89C9 3A FA A9    	LD	A,(LEVEL)
0056+  89CC 3C          	INC	A
0057+  89CD 32 FA A9    	LD	(LEVEL),A
0058+  89D0 FE 0A       	CP	10
0059+  89D2 28 02       	JR	Z,GAMEEND
0060+  89D4 18 E1       	JR	NEXTLEV
0061+  89D6             
0062+  89D6 CD C6 A9    GAMEEND	CALL	THAW
0063+  89D9 CD 6C 85    	CALL	WORLD_NEW
0064+  89DC C3 AC 89    	JP	GAME_REPEAT
0065+  89DF             
0066+  89DF 11 CE DD    NEXTLE1	LD	DE,TXAGAIN
0067+  89E2 CD EB 84    	CALL	PRINT
0068+  89E5 CD 12 91    	CALL	FXGAMEOVER
0069+  89E8 21 00 00    	LD	HL,#0000	; set weapon type and bullets
0070+  89EB 22 10 AA    	LD	(L_FAB1),HL	; (   )
0071+  89EE 18 C7       	JR	NEXTLEV
0072+  89F0             
0073+  89F0 3E 02       LEVFAIL	LD	A,2		; (var)
0074+  89F2 3D          	DEC	A
0075+  89F3 32 F1 89    	LD	(LEVFAIL+1),A
0076+  89F6 A7          	AND	A
0077+  89F7 20 E6       	JR	NZ,NEXTLE1	; first try = same level again
0078+  89F9 3A FA A9    	LD	A,(LEVEL)
0079+  89FC FE 02       	CP	2
0080+  89FE 38 DF       	JR	C,NEXTLE1	; Level < 2 = same level again
0081+  8A00 3D          	DEC	A
0082+  8A01 32 FA A9    	LD	(LEVEL),A
0083+  8A04 06 04       	LD	B,4
0084+  8A06 CD 14 91    	CALL	FXGOB
0085+  8A09 11 26 DE    	LD	DE,TXBACK
0086+  8A0C CD EB 84    	CALL	PRINT
0087+  8A0F             
0088+  8A0F 06 2C       	LD	B,44
0089+  8A11 C5          PIKPIK3	PUSH	BC
0090+  8A12 CB 20       	SLA	B
0091+  8A14 CB 20       	SLA	B
0092+  8A16 3E FF       	LD	A,255
0093+  8A18 90          	SUB	B
0094+  8A19 4F          	LD	C,A
0095+  8A1A 06 16       	LD	B,22
0096+  8A1C CD 06 A9    	CALL	FXBEEP
0097+  8A1F C1          	POP	BC
0098+  8A20 10 EF       	DJNZ	PIKPIK3
0099+  8A22             
0100+  8A22 CD 57 83    	CALL	FIREPRESSLOOP
0101+  8A25 3E 02       	LD	A,2
0102+  8A27 32 F1 89    	LD	(LEVFAIL+1),A
0103+  8A2A 18 8B       	JR	NEXTLEV
0104+  8A2C             
0105+  8A2C ED 53 F6 A9 READYGO	LD	(V_EXMAP),DE
0106+  8A30             
0107+  8A30 CD 86 A8    	CALL	CREATEMAP
0108+  8A33 3A FA A9    	LD	A,(LEVEL)
0109+  8A36 A7          	AND	A
0110+  8A37 C4 C6 A9    	CALL	NZ,THAW
0111+  8A3A CD C9 A5    	CALL	CLEARGAMEWIN
0112+  8A3D             
0113+  8A3D 3A 14 AA    	LD	A,(L_FAB5)
0114+  8A40 FE 01       	CP	#01		; dead? (level failed)
0115+  8A42 28 16       	JR	Z,DONTSHOWLEVELCOMPLETE
0116+  8A44 3A FA A9    	LD	A,(LEVEL)
0117+  8A47 FE 02       	CP	2
0118+  8A49 38 0F       	JR	C,DONTSHOWLEVELCOMPLETE
0119+  8A4B 11 E4 DD    	LD	DE,TX6498	; congratulations
0120+  8A4E CD EB 84    	CALL	PRINT
0121+  8A51 11 F4 DD    	LD	DE,TX64AA	; level complete
0122+  8A54 CD EB 84    	CALL	PRINT
0123+  8A57 CD 57 83    	CALL	FIREPRESSLOOP
0124+  8A5A             
0125+  8A5A             DONTSHOWLEVELCOMPLETE
0126+  8A5A CD 15 86    	CALL	WORLD
0127+  8A5D CD 45 A4    	CALL	SETSCREEN_VIRTUAL
0128+  8A60 21 00 00    	LD	HL,#0000
0129+  8A63 22 14 AA    	LD	(L_FAB5),HL	; clear main game state
0130+  8A66             
0131+  8A66 3E 2C       	LD	A,44		;   
0132+  8A68 32 17 AA    	LD	(L_FAB8),A	;   ()
0133+  8A6B             
0134+  8A6B 3A FA A9    	LD	A,(LEVEL)
0135+  8A6E FE 04       	CP	4
0136+  8A70 CC 9A 8A    	CALL	Z,PRKILL
0137+  8A73             
0138+  8A73 3A FA A9    	LD	A,(LEVEL)
0139+  8A76 FE 09       	CP	9
0140+  8A78 CC A0 8A    	CALL	Z,PREGGS
0141+  8A7B             
0142+  8A7B CD 77 9C    	CALL	DRAW_COMPASS
0143+  8A7E C3 C0 92    	JP	L_7530		; go to main loop
0144+  8A81             CLS
0145+  8A81 21 00 40    	ld hl,#4000
0146+  8A84 11 01 40    	ld de,#4001
0147+  8A87 01 FF 17    	ld bc,#17ff
0148+  8A8A 75          	ld (hl),l
0149+  8A8B AF          	xor a
0150+  8A8C D3 FE       	out (#fe),a
0151+  8A8E ED B0       	ldir
0152+  8A90 23          	inc hl
0153+  8A91 13          	inc de
0154+  8A92 36 07       	ld (hl),#07
0155+  8A94 01 FF 02    	ld bc,#2ff
0156+  8A97 ED B0       	ldir
0157+  8A99 C9          	ret
0158+  8A9A             
0159+  8A9A             ; CLS	LD	A,#07		; CLEAR SCREEN
0160+  8A9A             ; 	LD	(#5C8D),A
0161+  8A9A             ; 	LD	A,#00
0162+  8A9A             ; 	CALL	#229B		; 8859, border
0163+  8A9A             ; 	JP	#0D6B		; 3435, CLS
0164+  8A9A             
0165+  8A9A 11 45 DE    PRKILL	LD	DE,TXKILL	; 'kill all enemies'
0166+  8A9D C3 EB 84    	JP	PRINT		; (print on level 4)
0167+  8AA0             
0168+  8AA0 11 5A DE    PREGGS	LD	DE,TXEGGS	; 'destroy all eggs'
0169+  8AA3 CD EB 84    	CALL	PRINT		; (print on level 9)
0170+  8AA6 01 1F 04    	LD	BC,#041F
0171+  8AA9 21 24 AA    	LD	HL,SPR_EGG
0172+  8AAC CD 5A A4    	CALL	DRAWSPR_REAL
0173+  8AAF             PRINTEGGCOUNT
0174+  8AAF 3E 03       	LD	A,3
0175+  8AB1 32 DF 58    	LD	(#5800+32*6+31),A
0176+  8AB4 3A FD A9    	LD	A,(V_EGCNT)
0177+  8AB7 01 1E 06    	LD	BC,#061E
0178+  8ABA C3 C1 A5    	JP	PRINTNUM
0179+  8ABD             
0180+  8ABD             ;==================================================
0181+  8ABD             ; INITIAL SETTINGS
0182+  8ABD             ;==================================================
0183+  8ABD             
0184+  8ABD CD 33 A6    INITSET	CALL	EMPTY_MAP1
0185+  8AC0 CD F5 A5    	CALL	GREEN_TREES
0186+  8AC3             
0187+  8AC3 21 05 03    	LD	HL,#0305
0188+  8AC6 CD 7F 94    	CALL	SET_COLORS_FOR_WALLS
0189+  8AC9             
0190+  8AC9 CD A4 8C    	CALL	CLEARKEY1	;  
0191+  8ACC CD 9F 8C    	CALL	CLEARKEY2	; 
0192+  8ACF CD 9A 8C    	CALL	CLEARKEY3
0193+  8AD2 CD 90 8C    	CALL	CLEARKEY4	;  
0194+  8AD5             
0195+  8AD5 21 04 EF    	LD	HL,#EF04
0196+  8AD8             
0197+  8AD8 22 02 AA    	LD	(L_FAA3),HL
0198+  8ADB 3E 0D       	LD	A,#0D
0199+  8ADD 32 01 AA    	LD	(L_FAA2),A
0200+  8AE0             
0201+  8AE0 21 50 50    	LD	HL,#5050	; set health
0202+  8AE3 22 0E AA    	LD	(L_FAAF),HL	; and armors
0203+  8AE6 3E FA       	LD	A,#FA
0204+  8AE8 32 37 5C    	LD	(#5C37),A
0205+  8AEB 21 00 00    	LD	HL,#0000	; 
0206+  8AEE 22 08 AA    	LD	(L_FAA9),HL	;  
0207+  8AF1 22 0A AA    	LD	(L_FAAB),HL	;   (  )
0208+  8AF4 22 16 AA    	LD	(L_FAB7),HL	; 'hand' and text-time
0209+  8AF7 22 85 9B    	LD	(ISKRA+1),HL
0210+  8AFA             
0211+  8AFA 21 00 D5    	LD	HL,#D500	; set dragon pos (FAAE=#D5)
0212+  8AFD 22 0C AA    	LD	(L_FAAD),HL	; and monster's life (FAAD=0!)
0213+  8B00 21 AA EF    	LD	HL,#EFAA	;   
0214+  8B03 22 1C AA    	LD	(L_FABD),HL	; (was #E5AA for level1)
0215+  8B06             
0216+  8B06 AF          	XOR	A		;   ,   
0217+  8B07 32 BC 93    	LD	(EXPDATA),A	;  
0218+  8B0A 32 FC A9    	LD	(V_JTCNT),A	; count of Goats
0219+  8B0D 32 6E 90    	LD	(DRWSHOO+1),A
0220+  8B10 06 3C       	LD	B,GOATCNT*6
0221+  8B12 21 2D 9A    	LD	HL,GOATDATA	;   
0222+  8B15 77          CLRGOATS	LD	(HL),A
0223+  8B16 23          	INC	HL
0224+  8B17 10 FC       	DJNZ	CLRGOATS
0225+  8B19             
0226+  8B19 3E C9       	LD	A,#C9
0227+  8B1B 32 D8 98    	LD	(GOATMUS),A	;  -
0228+  8B1E 32 FC 8F    	LD	(L_6FFA),A	;   
0229+  8B21             
0230+  8B21 CD 52 8F    	CALL	L_7133
0231+  8B24 CD 10 8F    	CALL	PRNTBUL		; print bullets
0232+  8B27 11 0D DF    	LD	DE,TXT_HEALTH
0233+  8B2A CD EB 84    	CALL	PRINT
0234+  8B2D 11 16 DF    	LD	DE,TXT_ARMORS
0235+  8B30 CD EB 84    	CALL	PRINT
0236+  8B33             
0237+  8B33 11 1E 03    	LD	DE,#031E	; 'exit' badge in map
0238+  8B36 21 F3 79    	LD	HL,MAP1		; and map for level 1
0239+  8B39             
0240+  8B39 3A FA A9    	LD	A,(LEVEL)
0241+  8B3C A7          	AND	A
0242+  8B3D 28 28       	JR	Z,INIT_LEVEL0
0243+  8B3F 3D          	DEC	A
0244+  8B40 28 37       	JR	Z,INIT_LEVEL1
0245+  8B42 3D          	DEC	A
0246+  8B43 28 44       	JR	Z,INIT_LEVEL2
0247+  8B45 3D          	DEC	A
0248+  8B46 28 4E       	JR	Z,INIT_LEVEL3
0249+  8B48 3D          	DEC	A
0250+  8B49 28 58       	JR	Z,INIT_LEVEL4
0251+  8B4B 3D          	DEC	A
0252+  8B4C 28 68       	JR	Z,INIT_LEVEL5
0253+  8B4E 3D          	DEC	A
0254+  8B4F CA C9 8B    	JP	Z,INIT_LEVEL6
0255+  8B52 3D          	DEC	A
0256+  8B53 CA E1 8B    	JP	Z,INIT_LEVEL7
0257+  8B56 3D          	DEC	A
0258+  8B57 CA EE 8B    	JP	Z,INIT_LEVEL8
0259+  8B5A             ;==	DEC	A
0260+  8B5A             ;==	JR	Z,INIT_LEVEL9
0261+  8B5A             ;==	RET
0262+  8B5A             
0263+  8B5A             INIT_LEVEL9
0264+  8B5A 21 30 E5    	LD	HL,#E530
0265+  8B5D 22 02 AA    	LD	(L_FAA3),HL	; start position
0266+  8B60 11 FE FE    	LD	DE,#FEFE	; out of screen
0267+  8B63 21 ED 76    	LD	HL,MAP4		; map same as level 4
0268+  8B66 C9          	RET
0269+  8B67             
0270+  8B67             INIT_LEVEL0
0271+  8B67 3E 2C       	LD	A,44
0272+  8B69 32 0D AA    	LD	(L_FAAE),A	; dragon pos
0273+  8B6C 21 5A EF    	LD	HL,#EF5A
0274+  8B6F 22 02 AA    	LD	(L_FAA3),HL	; start position
0275+  8B72 11 11 02    	LD	DE,#0211
0276+  8B75 21 47 7B    	LD	HL,MAP0
0277+  8B78 C9          	RET
0278+  8B79             
0279+  8B79             INIT_LEVEL1
0280+  8B79 D5          	PUSH	DE
0281+  8B7A 11 28 EA    	LD	DE,#EA28
0282+  8B7D CD 0C 8C    	CALL	SETGOAT0
0283+  8B80 11 04 E4    	LD	DE,#E404
0284+  8B83 ED 53 02 AA 	LD	(L_FAA3),DE	; start position
0285+  8B87 D1          	POP	DE
0286+  8B88 C9          	RET
0287+  8B89             
0288+  8B89             INIT_LEVEL2
0289+  8B89 21 5F 8C    	LD	HL,GOATINI3
0290+  8B8C CD 4F 8C    	CALL	SETGOATS
0291+  8B8F 11 1E 01    	LD	DE,#011E
0292+  8B92 21 5C 79    	LD	HL,MAP2
0293+  8B95 C9          	RET
0294+  8B96             
0295+  8B96             INIT_LEVEL3
0296+  8B96 21 41 03    	LD	HL,#0341
0297+  8B99 CD 7F 94    	CALL	SET_COLORS_FOR_WALLS
0298+  8B9C 11 1E 00    	LD	DE,#001E
0299+  8B9F 21 50 78    	LD	HL,MAP3
0300+  8BA2 C9          	RET
0301+  8BA3             
0302+  8BA3             INIT_LEVEL4
0303+  8BA3 21 6C 8C    	LD	HL,GOATINI4
0304+  8BA6 CD 4F 8C    	CALL	SETGOATS
0305+  8BA9 21 04 06    	LD	HL,#0604
0306+  8BAC CD 7F 94    	CALL	SET_COLORS_FOR_WALLS
0307+  8BAF 11 FE FE    	LD	DE,#FEFE	; out of screen
0308+  8BB2 21 ED 76    	LD	HL,MAP4
0309+  8BB5 C9          	RET
0310+  8BB6             
0311+  8BB6             INIT_LEVEL5
0312+  8BB6 21 81 8C    	LD	HL,GOATINI5
0313+  8BB9 CD 4F 8C    	CALL	SETGOATS
0314+  8BBC 21 03 07    	LD	HL,#0703
0315+  8BBF CD 7F 94    	CALL	SET_COLORS_FOR_WALLS
0316+  8BC2 11 1E 01    	LD	DE,#011E
0317+  8BC5 21 E9 75    	LD	HL,MAP5
0318+  8BC8 C9          	RET
0319+  8BC9             
0320+  8BC9             INIT_LEVEL6
0321+  8BC9 01 04 3F    	LD	BC,#3F04	; count and offset
0322+  8BCC 16 A5       	LD	D,#A5		; object: stone
0323+  8BCE 21 04 E0    	LD	HL,L_UMAP+256*0+4
0324+  8BD1 CD 41 A6    	CALL	RIAD
0325+  8BD4 21 04 FD    	LD	HL,L_UMAP+256*29+4
0326+  8BD7 CD 41 A6    	CALL	RIAD
0327+  8BDA 11 06 00    	LD	DE,#0006	; 'exit' badge
0328+  8BDD 21 C0 74    	LD	HL,MAP6
0329+  8BE0 C9          	RET
0330+  8BE1             
0331+  8BE1             INIT_LEVEL7
0332+  8BE1 21 02 42    	LD	HL,#4202
0333+  8BE4 CD 7F 94    	CALL	SET_COLORS_FOR_WALLS
0334+  8BE7 11 1E 03    	LD	DE,#031E	; 'exit' badge
0335+  8BEA 21 50 78    	LD	HL,MAP3		; map same as level 3
0336+  8BED C9          	RET
0337+  8BEE             
0338+  8BEE             INIT_LEVEL8
0339+  8BEE 11 28 EF    	LD	DE,#EF28
0340+  8BF1 CD 0C 8C    	CALL	SETGOAT0
0341+  8BF4 DD 36 FE 7F 	LD	(IX+4-6),#7F	; almost-immortal GOAT
0342+  8BF8 21 03 04    	LD	HL,#0403
0343+  8BFB CD 7F 94    	CALL	SET_COLORS_FOR_WALLS
0344+  8BFE 11 0B F4    	LD	DE,#F40B
0345+  8C01 ED 53 02 AA 	LD	(L_FAA3),DE	; start position
0346+  8C05 11 1E 00    	LD	DE,#001E	; 'exit' badge in map
0347+  8C08 21 F3 79    	LD	HL,MAP1		; map same as level 1
0348+  8C0B C9          	RET
0349+  8C0C             
0350+  8C0C DD 21 2D 9A SETGOAT0	LD	IX,GOATDATA
0351+  8C10 AF          SETGOAT	XOR	A
0352+  8C11 DD BE 01    	CP	(IX+1)		; this Goat is empty? (y=0)
0353+  8C14 28 10       	JR	Z,SETJU1
0354+  8C16 CD B5 98    	CALL	ENMDIST		; player<->enemy distance
0355+  8C19 FE 24       	CP	36		; not so far?
0356+  8C1B D8          	RET	C		; don't change this Goat!
0357+  8C1C E5          	PUSH	HL
0358+  8C1D DD 6E 00    	LD	L,(IX)
0359+  8C20 DD 66 01    	LD	H,(IX+1)
0360+  8C23 36 00       	LD	(HL),0		; clear current in-map Goat
0361+  8C25 E1          	POP	HL
0362+  8C26 1A          SETJU1	LD	A,(DE)
0363+  8C27 A7          	AND	A		; check the map byte
0364+  8C28 C0          	RET	NZ		; (p.s. doesn't work at init)
0365+  8C29 DD 73 00    	LD	(IX),E
0366+  8C2C DD 72 01    	LD	(IX+1),D
0367+  8C2F D5          	PUSH	DE
0368+  8C30 11 01 22    	LD	DE,#2201
0369+  8C33 DD 73 02    	LD	(IX+2),E
0370+  8C36 DD 72 03    	LD	(IX+3),D
0371+  8C39 11 03 00    	LD	DE,#0003
0372+  8C3C DD 73 04    	LD	(IX+4),E
0373+  8C3F DD 72 05    	LD	(IX+5),D
0374+  8C42 11 06 00    	LD	DE,6
0375+  8C45 DD 19       	ADD	IX,DE
0376+  8C47 E5          	PUSH	HL
0377+  8C48 21 FC A9    	LD	HL,V_JTCNT
0378+  8C4B 34          	INC	(HL)		; inc Goats count
0379+  8C4C E1          	POP	HL
0380+  8C4D D1          	POP	DE
0381+  8C4E C9          	RET
0382+  8C4F             
0383+  8C4F 46          SETGOATS	LD	B,(HL)
0384+  8C50 23          	INC	HL
0385+  8C51 DD 21 2D 9A 	LD	IX,GOATDATA
0386+  8C55 5E          SETJTS1	LD	E,(HL)
0387+  8C56 23          	INC	HL
0388+  8C57 56          	LD	D,(HL)
0389+  8C58 23          	INC	HL
0390+  8C59 CD 10 8C    	CALL	SETGOAT
0391+  8C5C 10 F7       	DJNZ	SETJTS1
0392+  8C5E C9          	RET
0393+  8C5F             
0394+  8C5F 06          GOATINI3	DEFB	6
0395+  8C60             	DEFW	#ED28, #F02A, #ED2C, #F02E
0395+  8C60 28ED2AF02CED2EF0
0396+  8C68 30 E8 30 F5 	DEFW	#E830, #F530
0397+  8C6C             
0398+  8C6C 0A          GOATINI4	DEFB	10
0399+  8C6D             	DEFW	#ED2B, #EDDE, #E670, #F446, #E438
0399+  8C6D 2BEDDEED70E646F438E4
0400+  8C77             	DEFW	#E7BC, #E4A0, #F8C9, #EDEE, #F285
0400+  8C77 BCE7A0E4C9F8EEED85F2
0401+  8C81             
0402+  8C81 07          GOATINI5	DEFB	7
0403+  8C82             	DEFW	#ED28, #F02A, #ED2C, #F02E
0403+  8C82 28ED2AF02CED2EF0
0404+  8C8A             	DEFW	#ED40, #F040, #F942
0404+  8C8A 40ED40F042F9
0405+  8C90             
0406+  8C90             CLEARKEY4
0407+  8C90 21 9F 58    	LD	HL,#5800+32*4+31
0408+  8C93 CD A7 8C    	CALL	CLRKEY0
0409+  8C96 32 DE 58    	LD	(#5800+32*6+30),A
0410+  8C99 C9          	RET
0411+  8C9A             CLEARKEY3
0412+  8C9A 21 1F 59    	LD	HL,#5800+32*8+31
0413+  8C9D 18 08       	JR	CLRKEY0
0414+  8C9F             CLEARKEY2
0415+  8C9F 21 FF 59    	LD	HL,#5800+32*15+31
0416+  8CA2 18 03       	JR	CLRKEY0
0417+  8CA4             CLEARKEY1
0418+  8CA4 21 9F 59    	LD	HL,#5800+32*12+31
0419+  8CA7 AF          CLRKEY0	XOR	A
0420+  8CA8 11 20 00    	LD	DE,32
0421+  8CAB 77          	LD	(HL),A
0422+  8CAC 19          	ADD	HL,DE
0423+  8CAD 77          	LD	(HL),A
0424+  8CAE 19          	ADD	HL,DE
0425+  8CAF 77          	LD	(HL),A
0426+  8CB0 C9          	RET
0427+  8CB1             
0428+  8CB1 21 FF FF    L_6D6D	LD	HL,#97FF+KK
0429+  8CB4 06 0D       	LD	B,#0D
0430+  8CB6 50          L_6D72	LD	D,B
0431+  8CB7 C5          	PUSH	BC
0432+  8CB8 0E 01       	LD	C,#01
0433+  8CBA D5          L_6D76	PUSH	DE
0434+  8CBB E5          	PUSH	HL
0435+  8CBC CD CC 8C    	CALL	L_6D96
0436+  8CBF E1          	POP	HL
0437+  8CC0 2B          	DEC	HL
0438+  8CC1 D1          	POP	DE
0439+  8CC2 0C          	INC	C
0440+  8CC3 79          	LD	A,C
0441+  8CC4 FE 1E       	CP	#1E
0442+  8CC6 38 F2       	JR	C,L_6D76
0443+  8CC8 C1          	POP	BC
0444+  8CC9 10 EB       	DJNZ	L_6D72
0445+  8CCB C9          	RET
0446+  8CCC             
0447+  8CCC 7E          L_6D96	LD	A,(HL)
0448+  8CCD A7          	AND	A
0449+  8CCE C8          	RET	Z
0450+  8CCF FE 65       	CP	#65
0451+  8CD1 CA 05 95    	JP	Z,L_79C5	; 
0452+  8CD4 FE 66       	CP	#66
0453+  8CD6 CA 27 95    	JP	Z,L_771B	; 
0454+  8CD9 FE 64       	CP	#64
0455+  8CDB CA 44 9D    	JP	Z,OGRADA	; ()
0456+  8CDE FE 67       	CP	#67
0457+  8CE0 CA AC A1    	JP	Z,L_7EX1	;  (1)
0458+  8CE3 FE 68       	CP	#68
0459+  8CE5 CA B3 A1    	JP	Z,L_7EX2	;  (2)
0460+  8CE8 FE 6A       	CP	#6A
0461+  8CEA CA BA A1    	JP	Z,L_7E1F	;  (3)
0462+  8CED FE A0       	CP	#A0
0463+  8CEF CA E2 9C    	JP	Z,L_7BC1	;
0464+  8CF2 FE 92       	CP	#92
0465+  8CF4 CA 8B 9E    	JP	Z,L_7C18	; AMMO BOX
0466+  8CF7 FE 93       	CP	#93
0467+  8CF9 CA 7E 9E    	JP	Z,L_7C1X	; ARMORS BOX
0468+  8CFC FE 9E       	CP	#9E
0469+  8CFE CA B9 9F    	JP	Z,L_7D4D	;
0470+  8D01 FE 9C       	CP	#9C
0471+  8D03 CA BF A0    	JP	Z,L_7DD6	; (1)
0472+  8D06 FE 9D       	CP	#9D
0473+  8D08 CA B2 A0    	JP	Z,L_7DDX	; (2)
0474+  8D0B FE 9B       	CP	#9B
0475+  8D0D CA 8B A2    	JP	Z,L_7ECC	;QUAKE sign (, )
0476+  8D10 FE A2       	CP	#A2
0477+  8D12 CA 14 A2    	JP	Z,L_7E40	; 
0478+  8D15 FE A3       	CP	#A3
0479+  8D17 CA A8 92    	JP	Z,L_7453	;
0480+  8D1A FE A4       	CP	#A4
0481+  8D1C CA 35 92    	JP	Z,L_73CD	;  (    )
0482+  8D1F FE A1       	CP	#A1
0483+  8D21 CA 60 9F    	JP	Z,L_7CCF	; 
0484+  8D24 FE A5       	CP	#A5
0485+  8D26 CA 36 9F    	JP	Z,STONE		;
0486+  8D29 FE DF       	CP	#DF
0487+  8D2B CA 15 9F    	JP	Z,EGG
0488+  8D2E FE D0       	CP	#D0
0489+  8D30 CA 07 98    	JP	Z,L_7A35	; 
0490+  8D33 D0          	RET	NC		; -  Goats
0491+  8D34 FE C0       	CP	#C0
0492+  8D36 D2 3E 99    	JP	NC,DRAWGOAT	;#C0..#CF
0493+  8D39 C9          	RET
0494+  8D3A             
0495+  8D3A A7          VROT	AND	A
0496+  8D3B 28 70       	JR	Z,L_6EE5
0497+  8D3D 3D          	DEC	A
0498+  8D3E CA CB 8D    	JP	Z,L_6F6A
0499+  8D41 3D          	DEC	A
0500+  8D42 CA EC 8D    	JP	Z,L_6F7E
0501+  8D45 C3 10 8E    	JP	L_6F96
0502+  8D48             
0503+  8D48 2A 02 AA    L_6E4A	LD	HL,(L_FAA3)	;player's pos
0504+  8D4B CD 83 8D    	CALL	L_6EF6		;table select according angle
0505+  8D4E DD 21 61 82 	LD	IX,L_6C90	;ray-width table
0506+  8D52 FD 21 87 FE 	LD	IY,#9687+KK	;pointer to calculated data
0507+  8D56 06 DD       	LD	B,#DD		;table length=221
0508+  8D58 C5          L_6E64	PUSH	BC
0509+  8D59 3A 01 AA    	LD	A,(L_FAA2)	;player's rotation
0510+  8D5C 3D          	DEC	A
0511+  8D5D CB 3F       	SRL	A
0512+  8D5F CB 3F       	SRL	A
0513+  8D61 CD 3A 8D    	CALL	VROT
0514+  8D64             
0515+  8D64 DD 46 00    	LD	B,(IX)		; width of ray
0516+  8D67 3E 01       RAYPROJ	LD	A,1		; (var) byte of map
0517+  8D69 FD 77 00    	LD	(IY),A		; always set 1st byte
0518+  8D6C FE 82       	CP	#82
0519+  8D6E 38 04       	JR	C,L_6ECE
0520+  8D70 AF          	XOR	A		; disable multiplication
0521+  8D71 32 68 8D    	LD	(RAYPROJ+1),A
0522+  8D74 FD 23       L_6ECE	INC	IY
0523+  8D76 10 EF       	DJNZ	RAYPROJ
0524+  8D78 DD 23       	INC	IX
0525+  8D7A C1          	POP	BC
0526+  8D7B 10 DB       	DJNZ	L_6E64
0527+  8D7D             
0528+  8D7D CD 35 A9    	CALL	WALL_CAP_HOLES
0529+  8D80 C3 B1 8C    	JP	L_6D6D
0530+  8D83             
0531+  8D83 3A 01 AA    L_6EF6	LD	A,(L_FAA2)	;raycasting table select
0532+  8D86 3D          	DEC	A		;according angle
0533+  8D87 E6 03       	AND	3
0534+  8D89 A7          	AND	A		; cp 0
0535+  8D8A 20 03       	JR	NZ,L_6F00
0536+  8D8C 11 79 7B    	LD	DE,L_65A8
0537+  8D8F 3D          L_6F00	DEC	A		; cp 1
0538+  8D90 20 03       	JR	NZ,L_6F07
0539+  8D92 11 ED 7E    	LD	DE,L_691C
0540+  8D95 3D          L_6F07	DEC	A		; cp 2
0541+  8D96 20 03       	JR	NZ,L_6F0E
0542+  8D98 11 33 7D    	LD	DE,L_6762
0543+  8D9B 3D          L_6F0E	DEC	A		; cp 3
0544+  8D9C C0          	RET	NZ
0545+  8D9D 11 A7 80    	LD	DE,L_6AD6
0546+  8DA0 C9          	RET
0547+  8DA1             
0548+  8DA1 13          RPSET0	INC	DE
0549+  8DA2 AF          	XOR	A
0550+  8DA3 32 68 8D    	LD	(RAYPROJ+1),A
0551+  8DA6 E1          	POP	HL
0552+  8DA7 F1          	POP	AF
0553+  8DA8 C9          	RET
0554+  8DA9             
0555+  8DA9 22 E3 8F    EGGFND	LD	(EGGADDR+1),HL
0556+  8DAC C9          	RET
0557+  8DAD             
0558+  8DAD F5          L_6EE5	PUSH	AF
0559+  8DAE E5          	PUSH	HL
0560+  8DAF 1A          	LD	A,(DE)
0561+  8DB0 85          	ADD	A,L
0562+  8DB1 6F          	LD	L,A
0563+  8DB2 13          	INC	DE
0564+  8DB3 1A          	LD	A,(DE)
0565+  8DB4 84          	ADD	A,H
0566+  8DB5 FE E0       	CP	L_UMAP/256	; in map?
0567+  8DB7 38 E8       	JR	C,RPSET0	; not in map
0568+  8DB9 FE FE       	CP	L_UMAP/256+30
0569+  8DBB 30 E4       	JR	NC,RPSET0	; not in map
0570+  8DBD 67          	LD	H,A
0571+  8DBE 13          	INC	DE
0572+  8DBF 7E          	LD	A,(HL)
0573+  8DC0 FE DF       	CP	#DF
0574+  8DC2 CC A9 8D    	CALL	Z,EGGFND
0575+  8DC5 32 68 8D    	LD	(RAYPROJ+1),A
0576+  8DC8 E1          	POP	HL
0577+  8DC9 F1          	POP	AF
0578+  8DCA C9          	RET
0579+  8DCB             
0580+  8DCB F5          L_6F6A	PUSH	AF
0581+  8DCC E5          	PUSH	HL
0582+  8DCD 1A          	LD	A,(DE)
0583+  8DCE 13          	INC	DE
0584+  8DCF 4F          	LD	C,A
0585+  8DD0 7C          	LD	A,H
0586+  8DD1 61          	LD	H,C
0587+  8DD2 94          	SUB	H
0588+  8DD3 FE E0       	CP	L_UMAP/256	; in map?
0589+  8DD5 38 CA       	JR	C,RPSET0	; not in map
0590+  8DD7 FE FE       	CP	L_UMAP/256+30
0591+  8DD9 30 C6       	JR	NC,RPSET0	; not in map
0592+  8DDB 67          	LD	H,A
0593+  8DDC 1A          	LD	A,(DE)
0594+  8DDD 85          	ADD	A,L
0595+  8DDE 6F          	LD	L,A
0596+  8DDF 13          	INC	DE
0597+  8DE0 7E          	LD	A,(HL)
0598+  8DE1 FE DF       	CP	#DF
0599+  8DE3 CC A9 8D    	CALL	Z,EGGFND
0600+  8DE6 32 68 8D    	LD	(RAYPROJ+1),A
0601+  8DE9 E1          	POP	HL
0602+  8DEA F1          	POP	AF
0603+  8DEB C9          	RET
0604+  8DEC             
0605+  8DEC F5          L_6F7E	PUSH	AF
0606+  8DED E5          	PUSH	HL
0607+  8DEE 1A          	LD	A,(DE)
0608+  8DEF 4F          	LD	C,A
0609+  8DF0 7D          	LD	A,L
0610+  8DF1 69          	LD	L,C
0611+  8DF2 95          	SUB	L
0612+  8DF3 6F          	LD	L,A
0613+  8DF4 13          	INC	DE
0614+  8DF5 1A          	LD	A,(DE)
0615+  8DF6 4F          	LD	C,A
0616+  8DF7 7C          	LD	A,H
0617+  8DF8 61          	LD	H,C
0618+  8DF9 94          	SUB	H
0619+  8DFA FE E0       	CP	L_UMAP/256	; in map?
0620+  8DFC 38 A3       	JR	C,RPSET0	; not in map
0621+  8DFE FE FE       	CP	L_UMAP/256+30
0622+  8E00 30 9F       	JR	NC,RPSET0	; not in map
0623+  8E02 67          	LD	H,A
0624+  8E03 13          	INC	DE
0625+  8E04 7E          	LD	A,(HL)
0626+  8E05 FE DF       	CP	#DF
0627+  8E07 CC A9 8D    	CALL	Z,EGGFND
0628+  8E0A 32 68 8D    	LD	(RAYPROJ+1),A
0629+  8E0D E1          	POP	HL
0630+  8E0E F1          	POP	AF
0631+  8E0F C9          	RET
0632+  8E10             
0633+  8E10 F5          L_6F96	PUSH	AF
0634+  8E11 E5          	PUSH	HL
0635+  8E12 1A          	LD	A,(DE)
0636+  8E13 13          	INC	DE
0637+  8E14 84          	ADD	A,H
0638+  8E15 FE E0       	CP	L_UMAP/256	; in map?
0639+  8E17 38 88       	JR	C,RPSET0	; not in map
0640+  8E19 FE FE       	CP	L_UMAP/256+30
0641+  8E1B 30 84       	JR	NC,RPSET0	; not in map
0642+  8E1D 67          	LD	H,A
0643+  8E1E 1A          	LD	A,(DE)
0644+  8E1F 4F          	LD	C,A
0645+  8E20 7D          	LD	A,L
0646+  8E21 69          	LD	L,C
0647+  8E22 95          	SUB	L
0648+  8E23 6F          	LD	L,A
0649+  8E24 13          	INC	DE
0650+  8E25 7E          	LD	A,(HL)
0651+  8E26 FE DF       	CP	#DF
0652+  8E28 CC A9 8D    	CALL	Z,EGGFND
0653+  8E2B 32 68 8D    	LD	(RAYPROJ+1),A
0654+  8E2E E1          	POP	HL
0655+  8E2F F1          	POP	AF
0656+  8E30 C9          	RET
0657+  8E31             
0658+  8E31 FE 63       ISWALL	CP	#63		; <#63? (wall etc)
0659+  8E33 38 14       	JR	C,NOWALL1	; yes, enable moving
0660+  8E35 FE 70       	CP	#70		; <#70?
0661+  8E37 38 13       	JR	C,ISWALL1	; yes, don't move
0662+  8E39 FE A0       	CP	#A0		; tree?
0663+  8E3B 28 0F       	JR	Z,ISWALL1	; yes, don't move
0664+  8E3D FE D0       	CP	#D0		; monster?
0665+  8E3F 28 0B       	JR	Z,ISWALL1	; yes, don't move
0666+  8E41 FE D0       	CP	#D0
0667+  8E43 30 04       	JR	NC,NOWALL1	; >(=)#D0, not GOAT-mon
0668+  8E45 FE C0       	CP	#C0		; #C0..#CF?
0669+  8E47 30 03       	JR	NC,ISWALL1	; yes, don't move
0670+  8E49 EE FF       NOWALL1	XOR	$FF		; reset Z flag
0671+  8E4B C9          	RET
0672+  8E4C AF          ISWALL1	XOR	A		; set Z flag
0673+  8E4D C9          	RET
0674+  8E4E             
0675+  8E4E 3A 04 AA    SSTEP	LD	A,(L_FAA5)
0676+  8E51 CB 47       	BIT	0,A
0677+  8E53 CC 17 A9    	CALL	Z,SOUND_STEP	;  
0678+  8E56 C9          	RET
0679+  8E57             
0680+  8E57 2A 02 AA    L_6FAA	LD	HL,(L_FAA3)
0681+  8E5A 25          	DEC	H
0682+  8E5B 7C          	LD	A,H
0683+  8E5C FE E0       	CP	L_UMAP/256	; map limit: top
0684+  8E5E D8          	RET	C
0685+  8E5F 7E          	LD	A,(HL)
0686+  8E60 CD 31 8E    	CALL	ISWALL
0687+  8E63 C8          	RET	Z		; don't move
0688+  8E64 2A 02 AA    	LD	HL,(L_FAA3)
0689+  8E67 25          	DEC	H
0690+  8E68 22 02 AA    	LD	(L_FAA3),HL
0691+  8E6B 18 E1       	JR	SSTEP
0692+  8E6D             
0693+  8E6D 2A 02 AA    L_6FC0	LD	HL,(L_FAA3)
0694+  8E70 2D          	DEC	L
0695+  8E71             ;---	LD	A,L
0696+  8E71             ;---	INC	A		; map limit: left
0697+  8E71             ;---	RET	Z
0698+  8E71 7E          	LD	A,(HL)
0699+  8E72 CD 31 8E    	CALL	ISWALL
0700+  8E75 C8          	RET	Z		; don't move
0701+  8E76 2A 02 AA    	LD	HL,(L_FAA3)
0702+  8E79 2D          	DEC	L
0703+  8E7A 22 02 AA    	LD	(L_FAA3),HL
0704+  8E7D 18 CF       	JR	SSTEP
0705+  8E7F             
0706+  8E7F 2A 02 AA    L_6FD6	LD	HL,(L_FAA3)
0707+  8E82 2C          	INC	L
0708+  8E83             ;---	LD	A,L
0709+  8E83             ;---	CP	255		; map limit: right
0710+  8E83             ;---	RET	Z
0711+  8E83 7E          	LD	A,(HL)
0712+  8E84 CD 31 8E    	CALL	ISWALL
0713+  8E87 C8          	RET	Z		; don't move
0714+  8E88 2A 02 AA    	LD	HL,(L_FAA3)
0715+  8E8B 2C          	INC	L
0716+  8E8C 22 02 AA    	LD	(L_FAA3),HL
0717+  8E8F 18 BD       	JR	SSTEP
0718+  8E91             
0719+  8E91 2A 02 AA    L_6FEC	LD	HL,(L_FAA3)
0720+  8E94 24          	INC	H
0721+  8E95 7C          	LD	A,H
0722+  8E96 FE FE       	CP	L_UMAP/256+30	; map limit: top
0723+  8E98 D0          	RET	NC
0724+  8E99 7E          	LD	A,(HL)
0725+  8E9A CD 31 8E    	CALL	ISWALL
0726+  8E9D C8          	RET	Z		; don't move
0727+  8E9E 22 02 AA    	LD	(L_FAA3),HL
0728+  8EA1 18 AB       	JR	SSTEP
0729+  8EA3             
0730+  8EA3 3A 01 AA    L_7053	LD	A,(L_FAA2)
0731+  8EA6 FE 01       	CP	#01
0732+  8EA8 CA 91 8E    	JP	Z,L_6FEC
0733+  8EAB FE 02       	CP	#02
0734+  8EAD CA 91 8E    	JP	Z,L_6FEC
0735+  8EB0 FE 10       	CP	#10
0736+  8EB2 CA 91 8E    	JP	Z,L_6FEC
0737+  8EB5 FE 04       	CP	#04
0738+  8EB7 CA 7F 8E    	JP	Z,L_6FD6
0739+  8EBA FE 05       	CP	#05
0740+  8EBC CA 7F 8E    	JP	Z,L_6FD6
0741+  8EBF FE 06       	CP	#06
0742+  8EC1 CA 7F 8E    	JP	Z,L_6FD6
0743+  8EC4 FE 08       	CP	#08
0744+  8EC6 CA 57 8E    	JP	Z,L_6FAA
0745+  8EC9 FE 09       	CP	#09
0746+  8ECB CA 57 8E    	JP	Z,L_6FAA
0747+  8ECE FE 0A       	CP	#0A
0748+  8ED0 CA 57 8E    	JP	Z,L_6FAA
0749+  8ED3 FE 03       	CP	#03
0750+  8ED5 20 06       	JR	NZ,L_708D
0751+  8ED7 CD 7F 8E    	CALL	L_6FD6
0752+  8EDA C3 91 8E    	JP	L_6FEC
0753+  8EDD             
0754+  8EDD FE 07       L_708D	CP	#07
0755+  8EDF 20 06       L_708F	JR	NZ,L_7097
0756+  8EE1 CD 7F 8E    	CALL	L_6FD6
0757+  8EE4 C3 57 8E    	JP	L_6FAA
0758+  8EE7             
0759+  8EE7 FE 0B       L_7097	CP	#0B
0760+  8EE9 20 06       	JR	NZ,L_70A1
0761+  8EEB CD 57 8E    	CALL	L_6FAA
0762+  8EEE C3 6D 8E    	JP	L_6FC0
0763+  8EF1             
0764+  8EF1 FE 0F       L_70A1	CP	#0F
0765+  8EF3 20 06       	JR	NZ,L_70AB
0766+  8EF5 CD 6D 8E    	CALL	L_6FC0
0767+  8EF8 C3 91 8E    	JP	L_6FEC
0768+  8EFB C3 6D 8E    L_70AB	JP	L_6FC0
0769+  8EFE             
0770+  8EFE             ;==================================================
0771+  8EFE             ; PRINT BULLETS COUNT / ZERO CHECK / GUN CHANGE
0772+  8EFE             ;==================================================
0773+  8EFE             
0774+  8EFE 3A 10 AA    L_70AE	LD	A,(L_FAB1)
0775+  8F01 3D          	DEC	A
0776+  8F02 32 10 AA    	LD	(L_FAB1),A
0777+  8F05 20 03       	JR	NZ,NOTZBUL
0778+  8F07 32 11 AA    	LD	(L_FAB2),A	; set weapon, A=0 already
0779+  8F0A 01 1B 15    NOTZBUL	LD	BC,#151B
0780+  8F0D C3 C1 A5    	JP	PRINTNUM
0781+  8F10             	
0782+  8F10 3A 10 AA    PRNTBUL	LD	A,(L_FAB1)
0783+  8F13 18 F5       	JR	NOTZBUL
0784+  8F15             
0785+  8F15             ;==================================================
0786+  8F15             ;   
0787+  8F15             ;==================================================
0788+  8F15             
0789+  8F15 21 87 FE    L_70F0	LD	HL,#9687+KK
0790+  8F18 7E          L_70F3	LD	A,(HL)
0791+  8F19 FE 82       	CP	#82
0792+  8F1B D0          	RET	NC
0793+  8F1C 23          	INC	HL
0794+  8F1D 7D          	LD	A,L
0795+  8F1E FE A1       	CP	#A1
0796+  8F20 C8          	RET	Z
0797+  8F21 18 F5       	JR	L_70F3
0798+  8F23 C9          	RET
0799+  8F24             
0800+  8F24             ;==================================================
0801+  8F24             ;      
0802+  8F24             ;==================================================
0803+  8F24             
0804+  8F24 2A 02 AA    L_710B	LD	HL,(L_FAA3)
0805+  8F27 25          	DEC	H
0806+  8F28 25          	DEC	H
0807+  8F29 25          	DEC	H
0808+  8F2A 2D          	DEC	L
0809+  8F2B 2D          	DEC	L
0810+  8F2C 2D          	DEC	L
0811+  8F2D 06 07       	LD	B,#07
0812+  8F2F C5          L_7116	PUSH	BC
0813+  8F30 06 07       	LD	B,#07
0814+  8F32 7C          L_7119	LD	A,H
0815+  8F33 FE E0       	CP	L_UMAP/256	; in map?
0816+  8F35 38 0F       	JR	C,NOTOBJ	; not in map
0817+  8F37 FE FE       	CP	L_UMAP/256+30
0818+  8F39 30 0B       	JR	NC,NOTOBJ	; not in map
0819+  8F3B 7E          	LD	A,(HL)
0820+  8F3C FE 82       	CP	#82
0821+  8F3E 38 06       	JR	C,NOTOBJ
0822+  8F40 FE 9F       	CP	#9F
0823+  8F42 30 02       	JR	NC,NOTOBJ
0824+  8F44 36 00       DELOBJ	LD	(HL),0
0825+  8F46 2C          NOTOBJ	INC	L
0826+  8F47 10 E9       	DJNZ	L_7119
0827+  8F49 7D          	LD	A,L
0828+  8F4A D6 07       	SUB	7
0829+  8F4C 6F          	LD	L,A
0830+  8F4D 24          	INC	H
0831+  8F4E C1          	POP	BC
0832+  8F4F 10 DE       	DJNZ	L_7116
0833+  8F51 C9          	RET
0834+  8F52             
0835+  8F52             ;==================================================
0836+  8F52             ; PRINT HEALTH and ARMORS
0837+  8F52             ;==================================================
0838+  8F52             
0839+  8F52 3A 0E AA    L_7133	LD	A,(L_FAAF)
0840+  8F55 01 08 13    	LD	BC,#1308
0841+  8F58 CD C1 A5    	CALL	PRINTNUM
0842+  8F5B 3A 0F AA    	LD	A,(L_FAB0)
0843+  8F5E             	IF LANGUAG=0
0844+  8F5E~            	LD	BC,#1508
0845+  8F5E             	ENDIF
0846+  8F5E             	IF LANGUAG=1
0847+  8F5E 01 09 15    	LD	BC,#1509
0848+  8F61             	ENDIF
0849+  8F61 C3 C1 A5    	JP	PRINTNUM
0850+  8F64             
0851+  8F64             ;==================================================
0852+  8F64             ; Check weapon-to-monsters hit
0853+  8F64             ;==================================================
0854+  8F64             
0855+  8F64 06 0D       L_717C	LD	B,#0D		; distance of hit (full)...was #0B
0856+  8F66 16 00       L_717E	LD	D,#00		; just marker
0857+  8F68 21 91 FE    	LD	HL,#9687+KK+10	; calculated ray-data
0858+  8F6B C5          L_7183	PUSH	BC
0859+  8F6C 06 08       	LD	B,#08
0860+  8F6E 1E 00       	LD	E,0		; solid wall counter
0861+  8F70 7E          L_7186	LD	A,(HL)
0862+  8F71 FE C0       	CP	#C0		; monsters? (was #D0)
0863+  8F73 38 22       	JR	C,L_718D	; no, skip
0864+  8F75 FE D0       	CP	#D0		; it's GOAT or other monster?
0865+  8F77 30 0D       	JR	NC,NOTGOAT	; not GOAT (-    ....)
0866+  8F79 CD 0A 99    	CALL	CALCGOAT		; calculate addr of GOAT data === see below ===
0867+  8F7C DD 7E 04    	LD	A,(IX+4)	; GOAT's life
0868+  8F7F CB FF       	SET	7,A		; set 'hit GOAT' marker
0869+  8F81 DD 77 04    	LD	(IX+4),A				; === origin of BUG ===
0870+  8F84 18 0A       	JR	WASMONSTERHIT
0871+  8F86 FE DF       NOTGOAT	CP	#DF		; egg?
0872+  8F88 20 04       	JR	NZ,NOTEGG
0873+  8F8A 16 02       	LD	D,#02		; set 'hit egg' marker
0874+  8F8C 18 02       	JR	WASMONSTERHIT
0875+  8F8E 16 01       NOTEGG	LD	D,#01		; set 'hit monster' marker
0876+  8F90             WASMONSTERHIT
0877+  8F90 08          	EXA
0878+  8F91 3E C9       	LD	A,#C9		; and don't dec player's
0879+  8F93 32 87 90    	LD	(DECHEAL),A	; life right now!
0880+  8F96 08          	EXA
0881+  8F97 FE 64       L_718D	CP	#64		; check the wall
0882+  8F99 38 05       	JR	C,NTRUWAL
0883+  8F9B FE 82       	CP	#82
0884+  8F9D 30 01       	JR	NC,NTRUWAL
0885+  8F9F 1C          	INC	E		; solid wall counter
0886+  8FA0 23          NTRUWAL	INC	HL
0887+  8FA1 10 CD       	DJNZ	L_7186
0888+  8FA3 C1          	POP	BC
0889+  8FA4 7B          	LD	A,E		; solid wall on the way?
0890+  8FA5 FE 06       	CP	6
0891+  8FA7 D0          	RET	NC		; yes, stop the bullet
0892+  8FA8 D5          	PUSH	DE
0893+  8FA9 11 15 00    	LD	DE,#0015
0894+  8FAC 19          	ADD	HL,DE
0895+  8FAD D1          	POP	DE
0896+  8FAE 10 BB       	DJNZ	L_7183
0897+  8FB0 C9          	RET
0898+  8FB1             
0899+  8FB1 CD 64 8F    L_71A6	CALL	L_717C
0900+  8FB4 7A          L_71A9	LD	A,D		; read marker
0901+  8FB5 FE 02       	CP	#02		; hit egg?
0902+  8FB7 28 28       	JR	Z,HITEGG
0903+  8FB9 FE 01       	CP	#01		; hit monster?
0904+  8FBB C0          	RET	NZ
0905+  8FBC 3A 0C AA    	LD	A,(L_FAAD)	;  
0906+  8FBF A7          	AND	A
0907+  8FC0 C8          	RET	Z		;   
0908+  8FC1 3E 02       	LD	A,2
0909+  8FC3 32 08 98    	LD	(MONCOLR+1),A
0910+  8FC6 3A 0C AA    	LD	A,(L_FAAD)
0911+  8FC9 3D          	DEC	A		;   
0912+  8FCA 32 0C AA    	LD	(L_FAAD),A
0913+  8FCD A7          	AND	A
0914+  8FCE C0          	RET	NZ
0915+  8FCF 2A 08 AA    	LD	HL,(L_FAA9)	;  
0916+  8FD2 36 A1       	LD	(HL),#A1	;     
0917+  8FD4 21 00 00    	LD	HL,#0000
0918+  8FD7 22 08 AA    	LD	(L_FAA9),HL
0919+  8FDA AF          	XOR	A
0920+  8FDB 32 08 98    	LD	(MONCOLR+1),A
0921+  8FDE C3 C8 93    	JP	EXPLNEW
0922+  8FE1             
0923+  8FE1 AF          HITEGG	XOR	A
0924+  8FE2 32 00 00    EGGADDR	LD	(0),A		; (var addr)
0925+  8FE5 CD C8 93    	CALL	EXPLNEW
0926+  8FE8 21 FD A9    	LD	HL,V_EGCNT
0927+  8FEB 35          	DEC	(HL)
0928+  8FEC F5          	PUSH	AF		; store flag!
0929+  8FED CD AF 8A    	CALL	PRINTEGGCOUNT
0930+  8FF0 F1          	POP	AF		; restore flag
0931+  8FF1 C0          	RET	NZ
0932+  8FF2 3E 0B       	LD	A,11		; level slow-exit marker
0933+  8FF4 32 14 AA    	LD	(L_FAB5),A
0934+  8FF7 C9          	RET
0935+  8FF8             
0936+  8FF8 32 FB A9    NOFIRE	LD	(V_FRCNT),A	; A=0 here
0937+  8FFB C9          	RET
0938+  8FFC             
0939+  8FFC C9          L_6FFA	RET			; (smc) nop/ret
0940+  8FFD AF          	XOR	A
0941+  8FFE 32 6E 90    	LD	(DRWSHOO+1),A
0942+  9001 3A 00 AA    	LD	A,(L_FAA1)	; fire pressed?
0943+  9004 A7          	AND	A
0944+  9005 28 F1       	JR	Z,NOFIRE
0945+  9007             
0946+  9007 3A FB A9    	LD	A,(V_FRCNT)
0947+  900A EE 01       	XOR	1		; will be 1 at first time
0948+  900C 32 FB A9    	LD	(V_FRCNT),A	; and if 0, then
0949+  900F C8          	RET	Z		; don't shoot right now
0950+  9010             
0951+  9010 3A 11 AA    	LD	A,(L_FAB2)	; type of weapon
0952+  9013 A7          	AND	A		; axe?
0953+  9014 28 20       	JR	Z,IS_AXE
0954+  9016             
0955+  9016 3E 01       	LD	A,1
0956+  9018 32 6E 90    	LD	(DRWSHOO+1),A
0957+  901B CD B1 8F    	CALL	L_71A6		; check for monster's health dec
0958+  901E CD FE 8E    	CALL	L_70AE		; print/check bullets count
0959+  9021             
0960+  9021 11 00 02    SHOOTFX	LD	DE,#0200	; shoot sound fx
0961+  9024 06 00       NOISEFX	LD	B,#00
0962+  9026 21 00 00    	LD	HL,#0000
0963+  9029 7E          L_7046	LD	A,(HL)
0964+  902A E6 10       	AND	#10
0965+  902C B0          	OR	B
0966+  902D D3 FE       	OUT	(#FE),A
0967+  902F 23          	INC	HL
0968+  9030 1B          	DEC	DE
0969+  9031 7A          	LD	A,D
0970+  9032 B3          	OR	E
0971+  9033 20 F4       	JR	NZ,L_7046
0972+  9035 C9          	RET
0973+  9036             
0974+  9036 3E 01       IS_AXE	LD	A,1
0975+  9038 32 6E 90    	LD	(DRWSHOO+1),A
0976+  903B             
0977+  903B 06 04       	LD	B,#04		; hit distance
0978+  903D CD 66 8F    	CALL	L_717E
0979+  9040 C3 B4 8F    	JP	L_71A9		; check for monster's health dec
0980+  9043             
0981+  9043 3A 11 AA    DRWWEAP	LD	A,(L_FAB2)	; type of weapon
0982+  9046 A7          	AND	A		; axe?
0983+  9047 28 21       	JR	Z,DRWAXE
0984+  9049             
0985+  9049 3A 6E 90    	LD	A,(DRWSHOO+1)	; shoot?
0986+  904C A7          	AND	A
0987+  904D 20 09       	JR	NZ,DRGSHOO
0988+  904F 21 3C BD    L_7013	LD	HL,L_AD24	; else drawing
0989+  9052 01 0F 0A    	LD	BC,#0A0F	; gun without fire
0990+  9055 C3 5A A3    	JP	L_9BX0
0991+  9058             
0992+  9058 21 3C BD    DRGSHOO	LD	HL,L_AD24
0993+  905B 01 10 0B    	LD	BC,#0B10
0994+  905E CD 5A A3    	CALL	L_9BX0
0995+  9061 21 57 C2    	LD	HL,L_B23F
0996+  9064 01 0F 09    	LD	BC,#090F
0997+  9067 C3 5A A3    	JP	L_9BX0
0998+  906A             
0999+  906A 01 0F 0C    DRWAXE	LD	BC,#0C0F
1000+  906D 3E 01       DRWSHOO	LD	A,1		; (var)
1001+  906F A7          	AND	A
1002+  9070 28 03       	JR	Z,DRWAXE1
1003+  9072 01 0E 09    	LD	BC,#090E
1004+  9075 21 A8 D6    DRWAXE1	LD	HL,SPR_TRIDENT
1005+  9078 C3 5A A3    	JP	L_9BX0
1006+  907B             
1007+  907B 21 36 D1    BOOMBC	LD	HL,L_C54A
1008+  907E D5          	PUSH	DE
1009+  907F CD 5A A3    	CALL	L_9BX0
1010+  9082 CD FC A8    	CALL	FXBEEP3	; SOUND FX
1011+  9085 D1          	POP	DE
1012+  9086 C9          	RET
1013+  9087             
1014+  9087             ;==================================================
1015+  9087             ; DEC HEALTH
1016+  9087             ;==================================================
1017+  9087             
1018+  9087 C9          DECHEAL	RET		; smc nop/ret
1019+  9088 C5          	PUSH	BC
1020+  9089 CD AA 90    	CALL	DECHEA1
1021+  908C CD 52 8F    	CALL	L_7133
1022+  908F AF          	XOR	A
1023+  9090 32 95 90    	LD	(REDFILL),A
1024+  9093 C1          	POP	BC
1025+  9094 C9          	RET
1026+  9095             
1027+  9095 C9          REDFILL	RET		; smc nop/ret
1028+  9096 3E C9       	LD	A,#C9
1029+  9098 32 95 90    	LD	(REDFILL),A
1030+  909B 3A 0E AA    	LD	A,(L_FAAF)
1031+  909E A7          	AND	A
1032+  909F 28 05       	JR	Z,REDINK
1033+  90A1 3E 15       	LD	A,#15	; red paper color
1034+  90A3 C3 66 A4    DOFIL	JP	ATRFILL
1035+  90A6 3E 02       REDINK	LD	A,2	; red ink color
1036+  90A8 18 F9       	JR	DOFIL
1037+  90AA             
1038+  90AA CD 02 A9    DECHEA1	CALL	FXBEEP2
1039+  90AD 3A 0E AA    	LD	A,(L_FAAF)	;  
1040+  90B0             
1041+  90B0 3D          	DEC	A
1042+  90B1             
1043+  90B1             ;---	AND	A
1044+  90B1             ;---	JR	NZ,L_723D
1045+  90B1             ;---	LD	A,#01
1046+  90B1             
1047+  90B1 FE FA       	CP	#FA
1048+  90B3 38 01       	JR	C,L_723D
1049+  90B5 AF          	XOR	A
1050+  90B6 32 0E AA    L_723D	LD	(L_FAAF),A
1051+  90B9 3A 0F AA    	LD	A,(L_FAB0)	; 
1052+  90BC 3D          	DEC	A
1053+  90BD 3D          	DEC	A
1054+  90BE 3D          	DEC	A
1055+  90BF FE FA       	CP	#FA
1056+  90C1 38 01       	JR	C,L_724B
1057+  90C3 AF          	XOR	A
1058+  90C4 32 0F AA    L_724B	LD	(L_FAB0),A
1059+  90C7 A7          	AND	A
1060+  90C8 C0          	RET	NZ
1061+  90C9 3A 0E AA    	LD	A,(L_FAAF)
1062+  90CC 3D          	DEC	A
1063+  90CD 3D          	DEC	A
1064+  90CE 3D          	DEC	A
1065+  90CF FE FA       	CP	#FA
1066+  90D1 38 01       	JR	C,L_725C
1067+  90D3 AF          	XOR	A
1068+  90D4 32 0E AA    L_725C	LD	(L_FAAF),A
1069+  90D7 C9          	RET
1070+  90D8             
1071+  90D8 2A 02 AA    L_7270	LD	HL,(L_FAA3)	;   
1072+  90DB 25          	DEC	H		;  , 
1073+  90DC 25          	DEC	H		;    
1074+  90DD 2D          	DEC	L		; ( )
1075+  90DE 2D          	DEC	L
1076+  90DF 06 05       	LD	B,#05
1077+  90E1 C5          L_727B	PUSH	BC
1078+  90E2 06 05       	LD	B,#05
1079+  90E4             L_727E
1080+  90E4 7C          	LD	A,H
1081+  90E5 FE E0       	CP	L_UMAP/256	; in map?
1082+  90E7 38 0B       	JR	C,L_7285	; not in map
1083+  90E9 FE FE       	CP	L_UMAP/256+30
1084+  90EB 30 07       	JR	NC,L_7285	; not in map
1085+  90ED             
1086+  90ED 7E          	LD	A,(HL)
1087+  90EE FE C0       	CP	#C0		; monster? (was #D0)
1088+  90F0 38 02       	JR	C,L_7285
1089+  90F2 C1          	POP	BC		; yes, monster found!
1090+  90F3 C9          	RET
1091+  90F4 2C          L_7285	INC	L
1092+  90F5 10 ED       	DJNZ	L_727E
1093+  90F7 7D          	LD	A,L
1094+  90F8 D6 05       	SUB	5
1095+  90FA 6F          	LD	L,A
1096+  90FB 24          	INC	H
1097+  90FC C1          	POP	BC
1098+  90FD 10 E2       	DJNZ	L_727B
1099+  90FF AF          	XOR	A		; (!)  
1100+  9100 C9          	RET			;    
1101+  9101             
1102+  9101             CHECKDEATH
1103+  9101 3A 0E AA    	LD	A,(L_FAAF)
1104+  9104 A7          	AND	A
1105+  9105 C0          	RET	NZ
1106+  9106             	IF DEATH=0
1107+  9106~            	RET
1108+  9106             	ENDIF
1109+  9106 11 B8 DD    cheath	LD	DE,TX6466	; player's death
1110+  9109 CD EB 84    	CALL	PRINT
1111+  910C 3E 01       	LD	A,#01		; player's death marker
1112+  910E 32 14 AA    	LD	(L_FAB5),A	; set main game state
1113+  9111 C9          	RET
1114+  9112             
1115+  9112             FXGAMEOVER
1116+  9112 06 0C       	LD	B,12
1117+  9114 C5          FXGOB	PUSH	BC
1118+  9115 CD 1C 91    	CALL	L_72C4
1119+  9118 C1          	POP	BC
1120+  9119 10 F9       	DJNZ	FXGOB
1121+  911B C9          	RET
1122+  911C             
1123+  911C 21 00 20    L_72C4	LD	HL,#2000
1124+  911F 3A 1B AA    	LD	A,(L_FABC)
1125+  9122 4F          	LD	C,A
1126+  9123 3A 1A AA    	LD	A,(L_FABB)
1127+  9126 57          	LD	D,A
1128+  9127 3E 17       	LD	A,#17
1129+  9129 42          L_72D1	LD	B,D
1130+  912A 10 FE       L_72D2	DJNZ	L_72D2
1131+  912C 7E          	LD	A,(HL)
1132+  912D E6 10       	AND	#10
1133+  912F D3 FE       	OUT	(#FE),A
1134+  9131 23          	INC	HL
1135+  9132 0D          	DEC	C
1136+  9133 20 F4       	JR	NZ,L_72D1
1137+  9135 3A 15 AA    	LD	A,(L_FAB6)
1138+  9138 21 1A AA    	LD	HL,L_FABB
1139+  913B 86          	ADD	A,(HL)
1140+  913C 77          	LD	(HL),A
1141+  913D C9          	RET
1142+  913E             ;
1143+  913E 2A 02 AA    L_72E8	LD	HL,(L_FAA3)
1144+  9141 7E          	LD	A,(HL)
1145+  9142 FE 62       	CP	#62
1146+  9144 C0          	RET	NZ
1147+  9145 3E 02       	LD	A,#02		; level complete marker
1148+  9147 32 14 AA    	LD	(L_FAB5),A
1149+  914A C9          	RET
1150+  914B             
1151+  914B             ;==================================================
1152+  914B             ; SHOW MAP (L_7350)
1153+  914B             ;==================================================
1154+  914B             
1155+  914B             MFW	EQU	#64		; first visible block
1156+  914B             
1157+  914B 06 08       L_72F5	LD	B,#08
1158+  914D C5          L_72F7	PUSH	BC
1159+  914E 06 20       	LD	B,#20
1160+  9150 C5          L_72FA	PUSH	BC
1161+  9151 0E 00       	LD	C,#00
1162+  9153 7E          	LD	A,(HL)
1163+  9154 FE 64       	CP	MFW
1164+  9156 38 02       	JR	C,L_7304
1165+  9158 CB F9       	SET	7,C
1166+  915A 23          L_7304	INC	HL
1167+  915B 7E          	LD	A,(HL)
1168+  915C FE 64       	CP	MFW
1169+  915E 38 02       	JR	C,L_730C
1170+  9160 CB F1       	SET	6,C
1171+  9162 23          L_730C	INC	HL
1172+  9163 7E          	LD	A,(HL)
1173+  9164 FE 64       	CP	MFW
1174+  9166 38 02       	JR	C,L_7314
1175+  9168 CB E9       	SET	5,C
1176+  916A 23          L_7314	INC	HL
1177+  916B 7E          	LD	A,(HL)
1178+  916C FE 64       	CP	MFW
1179+  916E 38 02       	JR	C,L_731C
1180+  9170 CB E1       	SET	4,C
1181+  9172 23          L_731C	INC	HL
1182+  9173 7E          	LD	A,(HL)
1183+  9174 FE 64       	CP	MFW
1184+  9176 38 02       	JR	C,L_7324
1185+  9178 CB D9       	SET	3,C
1186+  917A 23          L_7324	INC	HL
1187+  917B 7E          	LD	A,(HL)
1188+  917C FE 64       	CP	MFW
1189+  917E 38 02       	JR	C,L_732C
1190+  9180 CB D1       	SET	2,C
1191+  9182 23          L_732C	INC	HL
1192+  9183 7E          	LD	A,(HL)
1193+  9184 FE 64       	CP	MFW
1194+  9186 38 02       	JR	C,L_7334
1195+  9188 CB C9       	SET	1,C
1196+  918A 23          L_7334	INC	HL
1197+  918B 7E          	LD	A,(HL)
1198+  918C FE 64       	CP	MFW
1199+  918E 38 02       	JR	C,L_733C
1200+  9190 CB C1       	SET	0,C
1201+  9192 23          L_733C	INC	HL
1202+  9193 79          	LD	A,C
1203+  9194 12          	LD	(DE),A
1204+  9195 13          	INC	DE
1205+  9196 C1          	POP	BC
1206+  9197 10 B7       	DJNZ	L_72FA
1207+  9199 E5          	PUSH	HL
1208+  919A 21 E0 00    	LD	HL,#00E0
1209+  919D 19          	ADD	HL,DE
1210+  919E EB          	EX	DE,HL
1211+  919F E1          	POP	HL
1212+  91A0 C1          	POP	BC
1213+  91A1 10 AA       	DJNZ	L_72F7
1214+  91A3 C9          	RET
1215+  91A4             
1216+  91A4 AF          L_7350	XOR	A
1217+  91A5 01 80 00    	LD	BC,#0080
1218+  91A8 CD BC A9    	CALL	SATRS58
1219+  91AB 11 71 DE    	LD	DE,TXCLEAR+3
1220+  91AE 01 00 03    	LD	BC,#0300
1221+  91B1 CD EB 84    	CALL	PRINT
1222+  91B4 CD F1 A8    	CALL	FXCLICK
1223+  91B7             
1224+  91B7 21 00 E0    	LD	HL,L_UMAP
1225+  91BA 11 00 40    	LD	DE,#4000
1226+  91BD CD 4B 91    	CALL	L_72F5
1227+  91C0 11 20 40    	LD	DE,#4020
1228+  91C3 CD 4B 91    	CALL	L_72F5
1229+  91C6 11 40 40    	LD	DE,#4040
1230+  91C9 CD 4B 91    	CALL	L_72F5
1231+  91CC 11 60 40    	LD	DE,#4060
1232+  91CF 06 06       	LD	B,6
1233+  91D1 CD 4D 91    	CALL	L_72F7
1234+  91D4 3E 06       	LD	A,6
1235+  91D6 01 80 00    	LD	BC,#0080
1236+  91D9 CD BC A9    	CALL	SATRS58
1237+  91DC ED 4B F6 A9 	LD	BC,(V_EXMAP)
1238+  91E0 21 64 B4    	LD	HL,MAPEXITMARK
1239+  91E3 CD 5A A4    	CALL	DRAWSPR_REAL
1240+  91E6             
1241+  91E6 CD 60 83    SWMAP2	CALL	KBDJOY	;  
1242+  91E9 CB 6F       	BIT	5,A	;  
1243+  91EB 20 F9       	JR	NZ,SWMAP2
1244+  91ED             
1245+  91ED CD 28 92    SWMAP1	CALL	OVERATR
1246+  91F0 FB          	EI
1247+  91F1 76          	HALT
1248+  91F2 76          	HALT
1249+  91F3 76          	HALT
1250+  91F4 ED 4B 02 AA 	LD	BC,(L_FAA3)
1251+  91F8 3E FF       	ld a,#ff
1252+  91FA 90          	sub b
1253+  91FB C6 90       	add #90
1254+  91FD 47          	ld b,a
1255+  91FE CD 0A 92    	CALL	point
1256+  9201 CD 60 83    	CALL	KBDJOY
1257+  9204 CB 6F       	BIT	5,A
1258+  9206 20 0F       	JR	NZ,MAPOFF
1259+  9208 18 E3       	JR	SWMAP1
1260+  920A             point
1261+  920A             	display $
1262+  920A CD AA 22    	call #22aa
1263+  920D 47          	ld b,a
1264+  920E 04          	inc b
1265+  920F 3E 01       	ld a,#01
1266+  9211             .l1
1267+  9211 0F          	rrca
1268+  9212 10 FD       	djnz .l1
1269+  9214 AE          	xor (hl)
1270+  9215 77          	ld (hl),a
1271+  9216 C9          	ret
1272+  9217 CD 60 83    MAPOFF	CALL	KBDJOY	;  
1273+  921A CB 6F       	BIT	5,A	;  
1274+  921C 20 F9       	JR	NZ,MAPOFF
1275+  921E             
1276+  921E AF          	XOR	A
1277+  921F 01 80 00    	LD	BC,#0080
1278+  9222 CD BC A9    	CALL	SATRS58
1279+  9225 C3 8E A4    	JP	CLEARLINE
1280+  9228             
1281+  9228 11 31 92    OVERATR	LD	DE,ATTR1
1282+  922B 01 04 00    	LD	BC,4		;    
1283+  922E C3 3C 20    	JP	8252        	; 
1284+  9231             
1285+  9231 15 01       ATTR1	DEFB	21,1		; OVER1
1286+  9233 10 06       	DEFB	16,6		; INK
1287+  9235             
1288+  9235 7A          L_73CD	LD	A,D		;  (    ) 
1289+  9236 06 06       	LD	B,#06
1290+  9238 FE 07       	CP	#07
1291+  923A 38 06       	JR	C,L_73DB
1292+  923C 21 46 DA    	LD	HL,L_D50E
1293+  923F C3 5A A3    	JP	L_9BX0
1294+  9242             
1295+  9242 FE 03       L_73DB	CP	#03
1296+  9244 38 05       	JR	C,L_73E4
1297+  9246 21 C0 DA    	LD	HL,L_D50E+11*11+1
1298+  9249 18 03       	JR	L_73E7
1299+  924B             
1300+  924B 21 B3 DB    L_73E4	LD	HL,L_D50E+122+22*11+1
1301+  924E CD 5A A3    L_73E7	CALL	L_9BX0
1302+  9251 C3 87 90    	JP	DECHEAL
1303+  9254             
1304+  9254 2A 1C AA    L_73F1	LD	HL,(L_FABD)	;  
1305+  9257 7E          	LD	A,(HL)
1306+  9258 FE A4       	CP	#A4
1307+  925A 20 02       	JR	NZ,L_73FB
1308+  925C 36 00       	LD	(HL),0
1309+  925E 3A 1C AA    L_73FB	LD	A,(L_FABD)
1310+  9261 3D          	DEC	A
1311+  9262 32 1C AA    	LD	(L_FABD),A
1312+  9265 2A 1C AA    	LD	HL,(L_FABD)
1313+  9268 AF          	XOR	A
1314+  9269 BE          	CP	(HL)
1315+  926A C0          	RET	NZ
1316+  926B 36 A4       	LD	(HL),#A4
1317+  926D C9          	RET
1318+  926E             
1319+  926E 7A          L_740D	LD	A,D
1320+  926F 06 08       	LD	B,#08
1321+  9271 FE 07       	CP	#07
1322+  9273 38 06       	JR	C,L_741D
1323+  9275 21 2F B5    	LD	HL,L_9D93
1324+  9278 C3 5A A3    	JP	L_9BX0
1325+  927B FE 04       L_741D	CP	#04
1326+  927D 38 06       	JR	C,L_742A
1327+  927F 21 47 B5    	LD	HL,L_9DAB
1328+  9282 C3 5A A3    	JP	L_9BX0
1329+  9285 21 CD B5    L_742A	LD	HL,L_9E31
1330+  9288 C3 5A A3    	JP	L_9BX0
1331+  928B             
1332+  928B 7A          L_7432	LD	A,D
1333+  928C 06 08       	LD	B,#08
1334+  928E FE 07       	CP	#07
1335+  9290 38 06       	JR	C,L_7440
1336+  9292 21 3B B5    	LD	HL,L_9D9F
1337+  9295 C3 5A A3    	JP	L_9BX0
1338+  9298             
1339+  9298 FE 04       L_7440	CP	#04
1340+  929A 38 06       	JR	C,L_744B
1341+  929C 21 8A B5    	LD	HL,L_9DEE
1342+  929F C3 5A A3    	JP	L_9BX0
1343+  92A2 21 31 B6    L_744B	LD	HL,L_9E95
1344+  92A5 C3 5A A3    	JP	L_9BX0
1345+  92A8             
1346+  92A8 3A 0A AA    L_7453	LD	A,(L_FAAB)	; 
1347+  92AB A7          	AND	A
1348+  92AC CC 6E 92    	CALL	Z,L_740D
1349+  92AF 3A 0A AA    	LD	A,(L_FAAB)
1350+  92B2 FE 01       	CP	1
1351+  92B4 CC 8B 92    	CALL	Z,L_7432
1352+  92B7 CD 15 8F    	CALL	L_70F0		;   ?
1353+  92BA FE A3       	CP	#A3
1354+  92BC C0          	RET	NZ
1355+  92BD C3 87 90    	JP	DECHEAL
1356+  92C0             
1357+  92C0             ;==================================================
1358+  92C0             ; MAIN GAME LOOP
1359+  92C0             ;==================================================
1360+  92C0             
1361+  92C0 AF          L_7530	XOR	A		; enable dec health
1362+  92C1 32 87 90    	LD	(DECHEAL),A
1363+  92C4 32 7F A1    	LD	(DOORVIS+1),A
1364+  92C7             
1365+  92C7 CD 60 83    	CALL	KBDJOY
1366+  92CA CD 1D A3    	CALL	L_7FB0		; kbdjoy -> game's key
1367+  92CD CD AA A4    	CALL	VCLEAR		; clear VSCR
1368+  92D0             
1369+  92D0 3A FE A9    	LD	A,(L_FA9F)	; ctrl: left-right
1370+  92D3 FE 02       	CP	#02		; left?
1371+  92D5 CC FC 96    	CALL	Z,L_775E
1372+  92D8 3A FE A9    	LD	A,(L_FA9F)	; ctrl: left-right
1373+  92DB FE 01       	CP	#01		; right?
1374+  92DD CC 15 97    	CALL	Z,L_776C
1375+  92E0 3A FF A9    	LD	A,(L_FAA0)	; ctrl: forward-back
1376+  92E3 FE 01       	CP	#01		; forward?
1377+  92E5 CC 45 97    	CALL	Z,L_7795
1378+  92E8 3A FF A9    	LD	A,(L_FAA0)	; ctrl: forward-back
1379+  92EB FE 02       	CP	#02		; back?
1380+  92ED CC A3 8E    	CALL	Z,L_7053
1381+  92F0             
1382+  92F0 CD DD 93    	CALL	BACKGROUND
1383+  92F3 CD 9C 9B    	CALL	L_7AA2		;  
1384+  92F6 CD 2A 97    	CALL	L_777A
1385+  92F9             
1386+  92F9 CD FC 8F    	CALL	L_6FFA		; weapon processing
1387+  92FC AF          	XOR	A		; (  )
1388+  92FD 32 FC 8F    	LD	(L_6FFA),A	;    
1389+  9300             
1390+  9300 CD 01 91    	CALL	CHECKDEATH
1391+  9303 3A FE A9    	LD	A,(L_FA9F)	; ctrl left/right
1392+  9306 A7          	AND	A
1393+  9307 C4 77 9C    	CALL	NZ,DRAW_COMPASS
1394+  930A CD D0 9C    	CALL	LOOPS
1395+  930D             
1396+  930D CD 58 93    	CALL	EXPLODE
1397+  9310 CD 1D A1    	CALL	OPEN_DOORS
1398+  9313             
1399+  9313 FD E5       	PUSH	IY
1400+  9315 CD 48 8D    	CALL	L_6E4A		;  ,  
1401+  9318 FD E1       	POP	IY
1402+  931A             
1403+  931A CD E4 9E    	CALL	L_7C86
1404+  931D CD BD 9B    	CALL	L_7AD2		;  , 
1405+  9320 CD 84 9B    	CALL	ISKRA
1406+  9323             
1407+  9323 CD A5 9F    	CALL	L_7D41		; player's dec life by monster
1408+  9326 CD 43 90    	CALL	DRWWEAP		; weapon drawing
1409+  9329             
1410+  9329 CD 95 90    	CALL	REDFILL
1411+  932C             
1412+  932C 3A 14 AA    	LD	A,(L_FAB5)	; main state byte
1413+  932F A7          	AND	A
1414+  9330 28 07       	JR	Z,NOEXIT
1415+  9332 FE 03       	CP	3		; if 1..2 then
1416+  9334 D8          	RET	C		; exit main loop
1417+  9335 3D          	DEC	A		; else dec state byte
1418+  9336 32 14 AA    	LD	(L_FAB5),A	; (slow-exit)
1419+  9339             NOEXIT
1420+  9339 CD D6 A4    	CALL	PUTVRT
1421+  933C CD 58 93    	CALL	EXPLODE
1422+  933F             
1423+  933F 3A 68 83    	LD	A,(P1CTRL)
1424+  9342 CB 6F       	BIT	5,A
1425+  9344 C4 A4 91    	CALL	NZ,L_7350	; show map
1426+  9347             
1427+  9347 3A 17 AA    	LD	A,(L_FAB8)	; time to line clear
1428+  934A 3D          	DEC	A
1429+  934B 32 17 AA    	LD	(L_FAB8),A
1430+  934E A7          	AND	A
1431+  934F CC 8E A4    	CALL	Z,CLEARLINE
1432+  9352             
1433+  9352 CD D6 98    	CALL	GOATMUS6
1434+  9355 C3 C0 92    	JP	L_7530
1435+  9358             
1436+  9358             ;==================================================
1437+  9358             
1438+  9358 DD 21 BC 93 EXPLODE	LD	IX,EXPDATA
1439+  935C DD 7E 00    	LD	A,(IX)
1440+  935F A7          	AND	A
1441+  9360 C8          	RET	Z
1442+  9361 3D          	DEC	A
1443+  9362 DD 77 00    	LD	(IX),A
1444+  9365 DD 5E 01    	LD	E,(IX+1)
1445+  9368 1C          	INC	E
1446+  9369 DD 73 01    	LD	(IX+1),E
1447+  936C             
1448+  936C CD 30 A4    	CALL	SETSCREEN_REAL
1449+  936F             
1450+  936F 06 05       	LD	B,5
1451+  9371 C5          EXPLOD1	PUSH	BC
1452+  9372 DD 23       	INC	IX
1453+  9374 DD 23       	INC	IX
1454+  9376 DD 7E 00    	LD	A,(IX)
1455+  9379 80          	ADD	A,B
1456+  937A D6 03       	SUB	3
1457+  937C DD 77 00    	LD	(IX),A
1458+  937F 4F          	LD	C,A
1459+  9380 DD 7E 01    	LD	A,(IX+1)
1460+  9383 83          	ADD	A,E
1461+  9384 DD 77 01    	LD	(IX+1),A
1462+  9387 47          	LD	B,A
1463+  9388             
1464+  9388 78          	LD	A,B
1465+  9389 FE 13       	CP	19
1466+  938B 30 0D       	JR	NC,EXPLOD2
1467+  938D 79          	LD	A,C
1468+  938E FE 1D       	CP	29
1469+  9390 30 08       	JR	NC,EXPLOD2
1470+  9392             
1471+  9392 21 B1 AC    	LD	HL,SPR_BOOM2
1472+  9395 D5          	PUSH	DE
1473+  9396 CD 5C A3    	CALL	DRAWSPR
1474+  9399 D1          	POP	DE
1475+  939A C1          EXPLOD2	POP	BC
1476+  939B 10 D4       	DJNZ	EXPLOD1
1477+  939D             
1478+  939D CD 45 A4    	CALL	SETSCREEN_VIRTUAL
1479+  93A0             
1480+  93A0             EXPLODE_SOUND
1481+  93A0 11 AA 00    	LD	DE,#00AA
1482+  93A3 CD 24 90    	CALL	NOISEFX
1483+  93A6 3A BD 93    	LD	A,(EXPDATA+1)
1484+  93A9 C6 08       	ADD	A,8
1485+  93AB 87          	ADD	A,A
1486+  93AC 87          	ADD	A,A
1487+  93AD 4F          	LD	C,A
1488+  93AE 3E 6E       	LD	A,110
1489+  93B0 91          	SUB	C
1490+  93B1 CB 3F       	SRL	A
1491+  93B3 CB 3F       	SRL	A
1492+  93B5 CB 3F       	SRL	A
1493+  93B7 3C          	INC	A
1494+  93B8 47          	LD	B,A
1495+  93B9 C3 06 A9    	JP	FXBEEP
1496+  93BC             
1497+  93BC 00 FC       EXPDATA	DEFB	0,-4
1498+  93BE 0F 0C       	DEFW	#0C0F
1499+  93C0 0F 0C       	DEFW	#0C0F
1500+  93C2 0F 0C       	DEFW	#0C0F
1501+  93C4 0F 0C       	DEFW	#0C0F
1502+  93C6 0F 0C       	DEFW	#0C0F
1503+  93C8             
1504+  93C8 21 16 FC    EXPLNEW	LD	HL,#FC16	; 22, -4
1505+  93CB 22 BC 93    	LD	(EXPDATA),HL
1506+  93CE 11 0F 0C    	LD	DE,#0C0F
1507+  93D1 06 05       	LD	B,5
1508+  93D3 21 BE 93    	LD	HL,EXPDATA+2
1509+  93D6 73          EXPNEW1	LD	(HL),E
1510+  93D7 23          	INC	HL
1511+  93D8 72          	LD	(HL),D
1512+  93D9 23          	INC	HL
1513+  93DA 10 FA       	DJNZ	EXPNEW1
1514+  93DC C9          	RET
1515+  93DD             
1516+  93DD             ;==================================================
1517+  93DD             
1518+  93DD             BACKGROUND
1519+  93DD 21 DE AC    	LD	HL,SPR_BKG1
1520+  93E0 01 0F 00    	LD	BC,#000F
1521+  93E3 CD 5C A3    	CALL 	DRAWSPR
1522+  93E6             
1523+  93E6 21 01 71    	LD	HL,VATTR+32*8+1
1524+  93E9 11 02 71    	LD	DE,VATTR+32*8+2
1525+  93EC 01 1C 00    	LD	BC,28
1526+  93EF 36 01       	LD	(HL),1
1527+  93F1 ED B0       	LDIR
1528+  93F3 21 01 68    	LD	HL,VSCR+2048+1
1529+  93F6 11 02 68    	LD	DE,VSCR+2048+2
1530+  93F9 CD 70 94    	CALL	HRZNT0
1531+  93FC 36 AA       	LD	(HL),170
1532+  93FE CD 72 94    	CALL	HRZNT
1533+  9401 CD 70 94    	CALL	HRZNT0
1534+  9404 36 44       	LD	(HL),%01000100
1535+  9406 CD 72 94    	CALL	HRZNT
1536+  9409 CD 70 94    	CALL	HRZNT0
1537+  940C CD 70 94    	CALL	HRZNT0
1538+  940F 36 10       	LD	(HL),%00010000
1539+  9411 CD 72 94    	CALL	HRZNT
1540+  9414 CD 70 94    	CALL	HRZNT0
1541+  9417             
1542+  9417 06 04       	LD	B,4		; moon Y for level 5
1543+  9419 3A FA A9    	LD	A,(LEVEL)
1544+  941C FE 05       	CP	5
1545+  941E 28 2A       	JR	Z,MOON
1546+  9420 FE 06       	CP	6
1547+  9422 C0          	RET	NZ
1548+  9423             
1549+  9423             MOON_AND_HOUSE
1550+  9423 06 06       	LD	B,#06
1551+  9425 3A 01 AA    	LD	A,(L_FAA2)
1552+  9428 3D          	DEC	A
1553+  9429 E6 03       	AND	3
1554+  942B 87          	ADD	A,A
1555+  942C 4F          	LD	C,A
1556+  942D 21 7F AA    	LD	HL,SPR_HOUSE
1557+  9430 CD 5C A3    	CALL	DRAWSPR
1558+  9433 3E 08       	LD	A,8
1559+  9435 81          	ADD	A,C
1560+  9436 4F          	LD	C,A
1561+  9437 CD 5C A3    	CALL	DRAWSPR
1562+  943A 3E 08       	LD	A,8
1563+  943C 81          	ADD	A,C
1564+  943D 4F          	LD	C,A
1565+  943E CD 5C A3    	CALL	DRAWSPR
1566+  9441 3E 08       	LD	A,8
1567+  9443 81          	ADD	A,C
1568+  9444 4F          	LD	C,A
1569+  9445 CD 5C A3    	CALL	DRAWSPR
1570+  9448             
1571+  9448 06 02       	LD	B,2
1572+  944A 3A 01 AA    MOON	LD	A,(L_FAA2)
1573+  944D 3D          	DEC	A
1574+  944E 87          	ADD	A,A
1575+  944F 87          	ADD	A,A
1576+  9450 87          	ADD	A,A
1577+  9451 C6 C8       	ADD	A,200
1578+  9453 4F          	LD	C,A
1579+  9454 3E FF       	LD	A,-1
1580+  9456 32 2E A4    	LD	(SPRDIR),A
1581+  9459 21 76 AB    	LD	HL,SPR_MOON
1582+  945C CD 5C A3    	CALL	DRAWSPR
1583+  945F AF          	XOR	A
1584+  9460 32 2E A4    	LD	(SPRDIR),A
1585+  9463 0D          	DEC	C
1586+  9464 21 B9 AB    	LD	HL,SPR_MOON+6*11+1
1587+  9467 CD 5C A3    	CALL	DRAWSPR
1588+  946A 21 76 AB    	LD	HL,SPR_MOON
1589+  946D C3 5C A3    	JP	DRAWSPR
1590+  9470             
1591+  9470 36 00       HRZNT0	LD	(HL),0
1592+  9472 01 1C 00    HRZNT	LD	BC,28
1593+  9475 ED B0       	LDIR
1594+  9477 01 E4 00    	LD	BC,-28+256
1595+  947A 09          	ADD	HL,BC
1596+  947B 54          	LD	D,H
1597+  947C 5D          	LD	E,L
1598+  947D 13          	INC	DE
1599+  947E C9          	RET
1600+  947F             
1601+  947F             ;==================================================
1602+  947F             ; DRAWING WALLS
1603+  947F             ;==================================================
1604+  947F             
1605+  947F             SET_COLORS_FOR_WALLS
1606+  947F 22 F8 A9    	LD	(V_WLCLR),HL
1607+  9482 7C          	LD	A,H
1608+  9483 32 9A B6    	LD	(L_9FF4+3),A
1609+  9486 32 9D B6    	LD	(L_9FF4+6),A
1610+  9489 32 A0 B6    	LD	(L_9FF4+9),A
1611+  948C 32 A3 B6    	LD	(L_9FF4+12),A
1612+  948F 32 A6 B6    	LD	(L_9FF4+15),A
1613+  9492 32 D2 B6    	LD	(L_A02C+3),A
1614+  9495 32 D5 B6    	LD	(L_A02C+6),A
1615+  9498 32 D8 B6    	LD	(L_A02C+9),A
1616+  949B 32 DB B6    	LD	(L_A02C+12),A
1617+  949E 32 DE B6    	LD	(L_A02C+15),A
1618+  94A1 32 0A B7    	LD	(L_A064+3),A
1619+  94A4 32 0D B7    	LD	(L_A064+6),A
1620+  94A7 32 10 B7    	LD	(L_A064+9),A
1621+  94AA 32 2C B7    	LD	(L_A086+3),A
1622+  94AD 32 2F B7    	LD	(L_A086+6),A
1623+  94B0 32 32 B7    	LD	(L_A086+9),A
1624+  94B3 7D          	LD	A,L
1625+  94B4 32 7E B4    WAL1CLR	LD	(L_9CDF+3),A
1626+  94B7 32 81 B4    	LD	(L_9CDF+6),A
1627+  94BA 32 84 B4    	LD	(L_9CDF+9),A
1628+  94BD 32 87 B4    	LD	(L_9CDF+12),A
1629+  94C0 32 8A B4    	LD	(L_9CDF+15),A
1630+  94C3 32 B6 B4    	LD	(L_9D17+3),A
1631+  94C6 32 B9 B4    	LD	(L_9D17+6),A
1632+  94C9 32 BC B4    	LD	(L_9D17+9),A
1633+  94CC 32 BF B4    	LD	(L_9D17+12),A
1634+  94CF 32 C2 B4    	LD	(L_9D17+15),A
1635+  94D2 32 EE B4    	LD	(L_9D4F+3),A
1636+  94D5 32 F1 B4    	LD	(L_9D4F+6),A
1637+  94D8 32 F4 B4    	LD	(L_9D4F+9),A
1638+  94DB 32 10 B5    	LD	(L_9D71+3),A
1639+  94DE 32 13 B5    	LD	(L_9D71+6),A
1640+  94E1 32 16 B5    	LD	(L_9D71+9),A
1641+  94E4 C9          	RET
1642+  94E5             
1643+  94E5 06 07       L_79A0	LD	B,#07
1644+  94E7 21 97 B6    	LD	HL,L_9FF4
1645+  94EA C3 5A A3    	JP	L_9BX0
1646+  94ED 06 07       L_79AA	LD	B,#07
1647+  94EF 21 CF B6    	LD	HL,L_A02C
1648+  94F2 C3 5A A3    	JP	L_9BX0
1649+  94F5 06 08       L_79B3	LD	B,#08
1650+  94F7 21 07 B7    	LD	HL,L_A064
1651+  94FA C3 5A A3    	JP	L_9BX0
1652+  94FD 06 08       L_79BC	LD	B,#08
1653+  94FF 21 29 B7    	LD	HL,L_A086
1654+  9502 C3 5A A3    	JP	L_9BX0
1655+  9505             
1656+  9505 3A F9 A9    L_79C5	LD	A,(V_WLCLR+1)	;  
1657+  9508 32 86 96    	LD	(WALCLR+1),A
1658+  950B 7A          	LD	A,D
1659+  950C FE 0D       	CP	#0D
1660+  950E 28 ED       	JR	Z,L_79BC
1661+  9510 FE 0C       	CP	#0C
1662+  9512 28 E1       	JR	Z,L_79B3
1663+  9514 FE 0B       	CP	#0B
1664+  9516 28 D5       	JR	Z,L_79AA
1665+  9518 FE 0A       	CP	#0A
1666+  951A 28 C9       	JR	Z,L_79A0
1667+  951C 21 C5 96    	LD	HL,WALPAT2
1668+  951F 22 31 96    	LD	(CALWAL1+1),HL
1669+  9522 22 A1 96    	LD	(CALWAL2+1),HL
1670+  9525 18 20       	JR	L_771X
1671+  9527             
1672+  9527 21 A5 96    L_771B	LD	HL,WALPAT
1673+  952A 22 31 96    	LD	(CALWAL1+1),HL
1674+  952D 22 A1 96    	LD	(CALWAL2+1),HL
1675+  9530 3A F8 A9    	LD	A,(V_WLCLR)
1676+  9533 32 86 96    	LD	(WALCLR+1),A
1677+  9536 7A          	LD	A,D		;  
1678+  9537 FE 0D       	CP	#0D
1679+  9539 28 7C       	JR	Z,L_7712
1680+  953B FE 0C       	CP	#0C
1681+  953D 28 70       	JR	Z,L_7709
1682+  953F FE 0B       	CP	#0B
1683+  9541 28 64       	JR	Z,L_7700
1684+  9543 FE 0A       	CP	#0A
1685+  9545 28 58       	JR	Z,L_76F6
1686+  9547 FE 09       L_771X	CP	#09
1687+  9549 28 4E       	JR	Z,L_76D6
1688+  954B FE 08       	CP	#08
1689+  954D 28 44       	JR	Z,L_76B8
1690+  954F FE 07       	CP	#07
1691+  9551 28 3A       	JR	Z,L_7699
1692+  9553 FE 06       	CP	#06
1693+  9555 28 30       	JR	Z,L_767A
1694+  9557 FE 05       	CP	#05
1695+  9559 28 26       	JR	Z,L_7650
1696+  955B FE 04       	CP	#04
1697+  955D 28 1C       	JR	Z,L_7624
1698+  955F FE 03       	CP	#03
1699+  9561 28 12       	JR	Z,L_75FA
1700+  9563 FE 02       	CP	#02
1701+  9565 28 08       	JR	Z,L_75CF
1702+  9567 FE 01       	CP	#01
1703+  9569 28 01       	JR	Z,L_75B0
1704+  956B C9          	RET
1705+  956C             
1706+  956C C3 95 96    L_75B0	JP	FULL_WALL	;   
1707+  956F 3E 00       L_75CF	LD	A,#02-2		;    2
1708+  9571 06 0B       	LD	B,#0F+2-#02-4
1709+  9573 18 4A       	JR	WALL_B
1710+  9575 3E 01       L_75FA	LD	A,#03-2		;    3
1711+  9577 06 09       	LD	B,#0E+2-#03-4
1712+  9579 18 44       	JR	WALL_B
1713+  957B 3E 02       L_7624	LD	A,#04-2		;    4
1714+  957D 06 07       	LD	B,#0D+2-#04-4
1715+  957F 18 3E       	JR	WALL_B
1716+  9581 3E 02       L_7650	LD	A,#04-2		;    5
1717+  9583 06 07       	LD	B,#0D+2-#04-4
1718+  9585 18 3D       	JR	WALL
1719+  9587 3E 03       L_767A	LD	A,#05-2		;    6
1720+  9589 06 05       	LD	B,#0C+2-#05-4
1721+  958B 18 32       	JR	WALL_B
1722+  958D 3E 03       L_7699	LD	A,#05-2		;    7
1723+  958F 06 05       	LD	B,#0C+2-#05-4
1724+  9591 18 31       	JR	WALL
1725+  9593 3E 04       L_76B8	LD	A,#06-2		;    8
1726+  9595 06 03       	LD	B,#0B+2-#06-4
1727+  9597 18 26       	JR	WALL_B
1728+  9599 3E 04       L_76D6	LD	A,#06-2		;    9
1729+  959B 06 03       	LD	B,#0B+2-#06-4
1730+  959D 18 25       	JR	WALL
1731+  959F 06 07       L_76F6	LD	B,#07		;    10
1732+  95A1 21 7B B4    	LD	HL,L_9CDF
1733+  95A4 C3 5A A3    	JP	L_9BX0
1734+  95A7 06 07       L_7700	LD	B,#07		;    11
1735+  95A9 21 B3 B4    	LD	HL,L_9D17
1736+  95AC C3 5A A3    	JP	L_9BX0
1737+  95AF 06 08       L_7709	LD	B,#08		;    12
1738+  95B1 21 EB B4    	LD	HL,L_9D4F
1739+  95B4 C3 5A A3    	JP	L_9BX0
1740+  95B7 06 08       L_7712	LD	B,#08		;    13
1741+  95B9 21 0D B5    	LD	HL,L_9D71
1742+  95BC C3 5A A3    	JP	L_9BX0
1743+  95BF             
1744+  95BF 11 20 74    WALL_B	LD	DE,WALEL1+32
1745+  95C2 18 03       	JR	WALL+3
1746+  95C4 11 00 74    WALL	LD	DE,WALEL1
1747+  95C7 C5          	PUSH	BC
1748+  95C8 C5          	PUSH	BC
1749+  95C9 C5          	PUSH	BC
1750+  95CA             
1751+  95CA D5          	PUSH	DE
1752+  95CB CD 9E 0E    	CALL	#0E9E		;3742
1753+  95CE D1          	POP	DE
1754+  95CF 3E 20       	LD	A,VSCROFF
1755+  95D1 84          	ADD	A,H
1756+  95D2 67          	LD	H,A
1757+  95D3 7D          	LD	A,L
1758+  95D4 81          	ADD	A,C
1759+  95D5 6F          	LD	L,A
1760+  95D6 C1          	POP	BC		; restore height
1761+  95D7 E5          	PUSH	HL		; store screen address
1762+  95D8             
1763+  95D8 3A 02 AA    	LD	A,(L_FAA3)
1764+  95DB 4F          	LD	C,A
1765+  95DC 3A 03 AA    	LD	A,(L_FAA4)
1766+  95DF A9          	XOR	C
1767+  95E0 CB 47       	BIT	0,A
1768+  95E2 20 07       	JR	NZ,PRWALL1
1769+  95E4 E5          	PUSH	HL
1770+  95E5 21 40 00    	LD	HL,64
1771+  95E8 19          	ADD	HL,DE		; DE:=DE+64
1772+  95E9 EB          	EX	DE,HL
1773+  95EA E1          	POP	HL
1774+  95EB             PRWALL1	DUP 2
1776+  95EB 1A          >	LD	A,(DE)
1777+  95EC 77          >	LD	(HL),A
1778+  95ED 1C          >	INC	E
1779+  95EE 24          >	INC	H
1776+  95EF 1A          >	LD	A,(DE)
1777+  95F0 77          >	LD	(HL),A
1778+  95F1 1C          >	INC	E
1779+  95F2 24          >	INC	H
1776+  95F3 1A          >	LD	A,(DE)
1777+  95F4 77          >	LD	(HL),A
1778+  95F5 1C          >	INC	E
1779+  95F6 24          >	INC	H
1776+  95F7 1A          >	LD	A,(DE)
1777+  95F8 77          >	LD	(HL),A
1778+  95F9 1C          >	INC	E
1779+  95FA 24          >	INC	H
1776+  95FB 1A          >	LD	A,(DE)
1777+  95FC 77          >	LD	(HL),A
1778+  95FD 1C          >	INC	E
1779+  95FE 24          >	INC	H
1776+  95FF 1A          >	LD	A,(DE)
1777+  9600 77          >	LD	(HL),A
1778+  9601 1C          >	INC	E
1779+  9602 24          >	INC	H
1776+  9603 1A          >	LD	A,(DE)
1777+  9604 77          >	LD	(HL),A
1778+  9605 1C          >	INC	E
1779+  9606 24          >	INC	H
1781+  9607 1A          >	LD	A,(DE)
1782+  9608 77          >	LD	(HL),A
1783+  9609 1C          >	INC	E
1784+  960A CD E7 A9    >	CALL	INC_Y
1776+  960D 1A          >	LD	A,(DE)
1777+  960E 77          >	LD	(HL),A
1778+  960F 1C          >	INC	E
1779+  9610 24          >	INC	H
1776+  9611 1A          >	LD	A,(DE)
1777+  9612 77          >	LD	(HL),A
1778+  9613 1C          >	INC	E
1779+  9614 24          >	INC	H
1776+  9615 1A          >	LD	A,(DE)
1777+  9616 77          >	LD	(HL),A
1778+  9617 1C          >	INC	E
1779+  9618 24          >	INC	H
1776+  9619 1A          >	LD	A,(DE)
1777+  961A 77          >	LD	(HL),A
1778+  961B 1C          >	INC	E
1779+  961C 24          >	INC	H
1776+  961D 1A          >	LD	A,(DE)
1777+  961E 77          >	LD	(HL),A
1778+  961F 1C          >	INC	E
1779+  9620 24          >	INC	H
1776+  9621 1A          >	LD	A,(DE)
1777+  9622 77          >	LD	(HL),A
1778+  9623 1C          >	INC	E
1779+  9624 24          >	INC	H
1776+  9625 1A          >	LD	A,(DE)
1777+  9626 77          >	LD	(HL),A
1778+  9627 1C          >	INC	E
1779+  9628 24          >	INC	H
1781+  9629 1A          >	LD	A,(DE)
1782+  962A 77          >	LD	(HL),A
1783+  962B 1C          >	INC	E
1784+  962C CD E7 A9    >	CALL	INC_Y
1786+  962F             
1787+  962F D5          	PUSH	DE
1788+  9630 CD A5 96    CALWAL1	CALL	WALPAT
1789+  9633 D1          	POP	DE
1790+  9634             
1791+  9634             	DUP 2
1793+  9634 1A          >	LD	A,(DE)
1794+  9635 77          >	LD	(HL),A
1795+  9636 1C          >	INC	E
1796+  9637 24          >	INC	H
1793+  9638 1A          >	LD	A,(DE)
1794+  9639 77          >	LD	(HL),A
1795+  963A 1C          >	INC	E
1796+  963B 24          >	INC	H
1793+  963C 1A          >	LD	A,(DE)
1794+  963D 77          >	LD	(HL),A
1795+  963E 1C          >	INC	E
1796+  963F 24          >	INC	H
1793+  9640 1A          >	LD	A,(DE)
1794+  9641 77          >	LD	(HL),A
1795+  9642 1C          >	INC	E
1796+  9643 24          >	INC	H
1793+  9644 1A          >	LD	A,(DE)
1794+  9645 77          >	LD	(HL),A
1795+  9646 1C          >	INC	E
1796+  9647 24          >	INC	H
1793+  9648 1A          >	LD	A,(DE)
1794+  9649 77          >	LD	(HL),A
1795+  964A 1C          >	INC	E
1796+  964B 24          >	INC	H
1793+  964C 1A          >	LD	A,(DE)
1794+  964D 77          >	LD	(HL),A
1795+  964E 1C          >	INC	E
1796+  964F 24          >	INC	H
1798+  9650 1A          >	LD	A,(DE)
1799+  9651 77          >	LD	(HL),A
1800+  9652 1C          >	INC	E
1801+  9653 CD E7 A9    >	CALL	INC_Y
1793+  9656 1A          >	LD	A,(DE)
1794+  9657 77          >	LD	(HL),A
1795+  9658 1C          >	INC	E
1796+  9659 24          >	INC	H
1793+  965A 1A          >	LD	A,(DE)
1794+  965B 77          >	LD	(HL),A
1795+  965C 1C          >	INC	E
1796+  965D 24          >	INC	H
1793+  965E 1A          >	LD	A,(DE)
1794+  965F 77          >	LD	(HL),A
1795+  9660 1C          >	INC	E
1796+  9661 24          >	INC	H
1793+  9662 1A          >	LD	A,(DE)
1794+  9663 77          >	LD	(HL),A
1795+  9664 1C          >	INC	E
1796+  9665 24          >	INC	H
1793+  9666 1A          >	LD	A,(DE)
1794+  9667 77          >	LD	(HL),A
1795+  9668 1C          >	INC	E
1796+  9669 24          >	INC	H
1793+  966A 1A          >	LD	A,(DE)
1794+  966B 77          >	LD	(HL),A
1795+  966C 1C          >	INC	E
1796+  966D 24          >	INC	H
1793+  966E 1A          >	LD	A,(DE)
1794+  966F 77          >	LD	(HL),A
1795+  9670 1C          >	INC	E
1796+  9671 24          >	INC	H
1798+  9672 1A          >	LD	A,(DE)
1799+  9673 77          >	LD	(HL),A
1800+  9674 1C          >	INC	E
1801+  9675 CD E7 A9    >	CALL	INC_Y
1803+  9678             
1804+  9678 E1          WALATTR	POP	HL		; restore screen addr
1805+  9679 7C          	LD	A,H
1806+  967A E6 18       	AND	#18
1807+  967C CB 2F       	SRA	A
1808+  967E CB 2F       	SRA	A
1809+  9680 CB 2F       	SRA	A
1810+  9682 C6 70       	ADD	A,VATRHI
1811+  9684 67          	LD	H,A
1812+  9685 3E 02       WALCLR	LD	A,2		; color of the wall
1813+  9687 C1          	POP	BC		; restore height
1814+  9688 04          	INC	B
1815+  9689 04          	INC	B
1816+  968A 04          	INC	B
1817+  968B 04          	INC	B
1818+  968C 11 20 00    	LD	DE,32
1819+  968F 77          PRWALLA	LD	(HL),A
1820+  9690 19          	ADD	HL,DE
1821+  9691 10 FC       	DJNZ	PRWALLA
1822+  9693 C1          	POP	BC
1823+  9694 C9          	RET
1824+  9695             
1825+  9695             FULL_WALL
1826+  9695 C5          	PUSH	BC
1827+  9696 06 0C       	LD	B,12		; for attr section
1828+  9698 C5          	PUSH	BC		; for attr section
1829+  9699 21 00 60    	LD	HL,VSCR
1830+  969C 69          	LD	L,C
1831+  969D E5          	PUSH	HL		; store screen address
1832+  969E             
1833+  969E 06 10       	LD	B,16
1834+  96A0 CD A5 96    CALWAL2	CALL	WALPAT
1835+  96A3 18 D3       	JR	WALATTR
1836+  96A5             
1837+  96A5             	;--------------
1838+  96A5             
1839+  96A5             WALPAT
1840+  96A5 16 AA       	LD	D,170		; set pattern
1841+  96A7 1E 55       	LD	E,85
1842+  96A9 72          PRWALL2	LD	(HL),D
1843+  96AA 24          	INC	H
1844+  96AB 73          	LD	(HL),E
1845+  96AC 24          	INC	H
1846+  96AD 72          	LD	(HL),D
1847+  96AE 24          	INC	H
1848+  96AF 73          	LD	(HL),E
1849+  96B0 24          	INC	H
1850+  96B1 72          	LD	(HL),D
1851+  96B2 24          	INC	H
1852+  96B3 73          	LD	(HL),E
1853+  96B4 24          	INC	H
1854+  96B5 72          	LD	(HL),D
1855+  96B6 24          	INC	H
1856+  96B7 73          	LD	(HL),E
1857+  96B8 CD E7 A9    	CALL	INC_Y
1858+  96BB 10 EC       	DJNZ	PRWALL2
1859+  96BD C9          	RET
1860+  96BE             
1861+  96BE 11 B0 74    WALPAT3	LD	DE,WALEL2+48	; set pattern addr
1862+  96C1 3E 02       	LD	A,2
1863+  96C3 18 05       	JR	PRWALL7
1864+  96C5             
1865+  96C5 11 80 74    WALPAT2	LD	DE,WALEL2	; set pattern addr
1866+  96C8 3E 06       	LD	A,6
1867+  96CA D5          PRWALL7	PUSH	DE		; store pattern addr
1868+  96CB 4F          	LD	C,A		; store pattern hght
1869+  96CC 08          PRWALL3	EXA
1870+  96CD 1A          	LD	A,(DE)
1871+  96CE 77          	LD	(HL),A
1872+  96CF 1C          	INC	E
1873+  96D0 24          	INC	H
1874+  96D1 1A          	LD	A,(DE)
1875+  96D2 77          	LD	(HL),A
1876+  96D3 1C          	INC	E
1877+  96D4 24          	INC	H
1878+  96D5 1A          	LD	A,(DE)
1879+  96D6 77          	LD	(HL),A
1880+  96D7 1C          	INC	E
1881+  96D8 24          	INC	H
1882+  96D9 1A          	LD	A,(DE)
1883+  96DA 77          	LD	(HL),A
1884+  96DB 1C          	INC	E
1885+  96DC 24          	INC	H
1886+  96DD 1A          	LD	A,(DE)
1887+  96DE 77          	LD	(HL),A
1888+  96DF 1C          	INC	E
1889+  96E0 24          	INC	H
1890+  96E1 1A          	LD	A,(DE)
1891+  96E2 77          	LD	(HL),A
1892+  96E3 1C          	INC	E
1893+  96E4 24          	INC	H
1894+  96E5 1A          	LD	A,(DE)
1895+  96E6 77          	LD	(HL),A
1896+  96E7 1C          	INC	E
1897+  96E8 24          	INC	H
1898+  96E9 1A          	LD	A,(DE)
1899+  96EA 77          	LD	(HL),A
1900+  96EB 1C          	INC	E
1901+  96EC 08          	EXA
1902+  96ED 3D          	DEC	A
1903+  96EE 20 03       	JR	NZ,PRWALL4
1904+  96F0 79          	LD	A,C
1905+  96F1 D1          	POP	DE		; restore pattern addr
1906+  96F2 D5          	PUSH	DE		; store again
1907+  96F3 F5          PRWALL4	PUSH	AF
1908+  96F4 CD E7 A9    	CALL	INC_Y
1909+  96F7 F1          	POP	AF
1910+  96F8 10 D2       	DJNZ	PRWALL3
1911+  96FA D1          	POP	DE		; finalize stack
1912+  96FB C9          	RET
1913+  96FC             
1914+  96FC             
1915+  96FC             ;==================================================
1916+  96FC             
1917+  96FC             
1918+  96FC 3A 01 AA    L_775E	LD	A,(L_FAA2)	; player rotate left
1919+  96FF 3C          	INC	A
1920+  9700 FE 11       	CP	#11
1921+  9702 20 02       	JR	NZ,L_7768
1922+  9704 3E 01       	LD	A,#01
1923+  9706 32 01 AA    L_7768	LD	(L_FAA2),A
1924+  9709             	;------------------
1925+  9709             	; dragon change pos
1926+  9709 3A 0D AA    	LD	A,(L_FAAE)
1927+  970C FE C8       	CP	200
1928+  970E D0          	RET	NC
1929+  970F 3C          	INC	A
1930+  9710 3C          	INC	A
1931+  9711 32 0D AA    	LD	(L_FAAE),A
1932+  9714 C9          	RET
1933+  9715             
1934+  9715 3A 01 AA    L_776C	LD	A,(L_FAA2)	; player rotate right
1935+  9718 3D          	DEC	A
1936+  9719 FE 00       	CP	#00
1937+  971B 20 02       	JR	NZ,L_7776
1938+  971D 3E 10       	LD	A,#10
1939+  971F 32 01 AA    L_7776	LD	(L_FAA2),A
1940+  9722             	;------------------
1941+  9722             	; dragon change pos
1942+  9722 3A 0D AA    	LD	A,(L_FAAE)
1943+  9725 3D          	DEC	A
1944+  9726 32 0D AA    	LD	(L_FAAE),A
1945+  9729 C9          	RET
1946+  972A             
1947+  972A 3A 06 AA    L_777A	LD	A,(L_FAA7)
1948+  972D 3C          	INC	A
1949+  972E FE 04       	CP	#04
1950+  9730 38 02       	JR	C,L_7784
1951+  9732 3E 01       	LD	A,#01
1952+  9734 32 06 AA    L_7784	LD	(L_FAA7),A
1953+  9737 3A 07 AA    	LD	A,(L_FAA8)
1954+  973A 3C          	INC	A
1955+  973B FE 05       	CP	#05
1956+  973D 38 02       	JR	C,L_7791
1957+  973F 3E 01       	LD	A,#01
1958+  9741 32 07 AA    L_7791	LD	(L_FAA8),A
1959+  9744 C9          	RET
1960+  9745             
1961+  9745             ;==================================================
1962+  9745             ; Move Player Forward
1963+  9745             ;==================================================
1964+  9745 3A 05 AA    L_7795	LD	A,(L_FAA6)
1965+  9748 3C          	INC	A
1966+  9749 FE 02       	CP	#02
1967+  974B 20 01       	JR	NZ,L_779E
1968+  974D AF          	XOR	A
1969+  974E 32 05 AA    L_779E	LD	(L_FAA6),A
1970+  9751 3A 01 AA    	LD	A,(L_FAA2)	; player's rot angle
1971+  9754 FE 05       	CP	#05
1972+  9756 CA 6D 8E    	JP	Z,L_6FC0
1973+  9759 FE 09       	CP	#09
1974+  975B CA 91 8E    	JP	Z,L_6FEC
1975+  975E FE 0D       	CP	#0D
1976+  9760 CA 7F 8E    	JP	Z,L_6FD6
1977+  9763 FE 03       	CP	#03
1978+  9765 20 06       	JR	NZ,L_77BE
1979+  9767 CD 57 8E    	CALL	L_6FAA
1980+  976A C3 6D 8E    	JP	L_6FC0
1981+  976D             
1982+  976D FE 07       L_77BE	CP	#07
1983+  976F 20 06       	JR	NZ,L_77C8
1984+  9771 CD 6D 8E    	CALL	L_6FC0
1985+  9774 C3 91 8E    	JP	L_6FEC
1986+  9777             
1987+  9777 FE 0B       L_77C8	CP	#0B
1988+  9779 20 06       	JR	NZ,L_77D2
1989+  977B CD 91 8E    	CALL	L_6FEC
1990+  977E C3 7F 8E    	JP	L_6FD6
1991+  9781             
1992+  9781 FE 0F       L_77D2	CP	#0F
1993+  9783 20 06       	JR	NZ,L_77DC
1994+  9785 CD 7F 8E    	CALL	L_6FD6
1995+  9788 C3 57 8E    	JP	L_6FAA
1996+  978B             
1997+  978B FE 01       L_77DC	CP	#01
1998+  978D CA 57 8E    	JP	Z,L_6FAA
1999+  9790 FE 02       	CP	#02
2000+  9792 20 0B       	JR	NZ,L_77F0
2001+  9794 3A 06 AA    	LD	A,(L_FAA7)
2002+  9797 FE 01       	CP	#01
2003+  9799 CC 6D 8E    	CALL	Z,L_6FC0
2004+  979C C3 57 8E    	JP	L_6FAA
2005+  979F             ;
2006+  979F FE 04       L_77F0	CP	#04
2007+  97A1 20 0B       	JR	NZ,L_77FF
2008+  97A3 3A 06 AA    	LD	A,(L_FAA7)
2009+  97A6 FE 01       	CP	#01
2010+  97A8 CC 57 8E    	CALL	Z,L_6FAA
2011+  97AB C3 6D 8E    	JP	L_6FC0
2012+  97AE             ;
2013+  97AE FE 06       L_77FF	CP	#06
2014+  97B0 20 0B       	JR	NZ,L_780E
2015+  97B2 3A 06 AA    	LD	A,(L_FAA7)
2016+  97B5 FE 01       	CP	#01
2017+  97B7 CC 91 8E    	CALL	Z,L_6FEC
2018+  97BA C3 6D 8E    	JP	L_6FC0
2019+  97BD             ;
2020+  97BD FE 08       L_780E	CP	#08
2021+  97BF 20 0B       	JR	NZ,L_781D
2022+  97C1 3A 06 AA    	LD	A,(L_FAA7)
2023+  97C4 FE 01       	CP	#01
2024+  97C6 CC 6D 8E    	CALL	Z,L_6FC0
2025+  97C9 C3 91 8E    	JP	L_6FEC
2026+  97CC             ;
2027+  97CC FE 0A       L_781D	CP	#0A
2028+  97CE 20 0B       	JR	NZ,L_782C
2029+  97D0 3A 06 AA    	LD	A,(L_FAA7)
2030+  97D3 FE 01       	CP	#01
2031+  97D5 CC 7F 8E    	CALL	Z,L_6FD6
2032+  97D8 C3 91 8E    	JP	L_6FEC
2033+  97DB             ;
2034+  97DB FE 0C       L_782C	CP	#0C
2035+  97DD 20 0B       	JR	NZ,L_783B
2036+  97DF 3A 06 AA    	LD	A,(L_FAA7)
2037+  97E2 FE 01       	CP	#01
2038+  97E4 CC 91 8E    	CALL	Z,L_6FEC
2039+  97E7 C3 7F 8E    	JP	L_6FD6
2040+  97EA             ;
2041+  97EA FE 0E       L_783B	CP	#0E
2042+  97EC 20 0B       	JR	NZ,L_784A
2043+  97EE 3A 06 AA    	LD	A,(L_FAA7)
2044+  97F1 FE 01       	CP	#01
2045+  97F3 CC 57 8E    	CALL	Z,L_6FAA
2046+  97F6 C3 7F 8E    	JP	L_6FD6
2047+  97F9             ;
2048+  97F9 FE 10       L_784A	CP	#10
2049+  97FB C0          	RET	NZ
2050+  97FC 3A 06 AA    	LD	A,(L_FAA7)
2051+  97FF FE 01       	CP	#01
2052+  9801 CC 7F 8E    	CALL	Z,L_6FD6
2053+  9804 C3 57 8E    	JP	L_6FAA
2054+  9807             
2055+  9807             L_7A35				;  
2056+  9807 3E 04       MONCOLR	LD	A,4		; (var)
2057+  9809 32 2F A4    	LD	(SPRCOLR),A
2058+  980C CD 24 98    	CALL	DRAWMONSTER
2059+  980F 3A 08 98    	LD	A,(MONCOLR+1)
2060+  9812 A7          	AND	A
2061+  9813 3E 00       	LD	A,0		; (don't use xor a here!)
2062+  9815 32 2F A4    	LD	(SPRCOLR),A
2063+  9818 32 08 98    	LD	(MONCOLR+1),A
2064+  981B C8          	RET	Z
2065+  981C             
2066+  981C C5          	PUSH	BC
2067+  981D 04          	INC	B
2068+  981E 04          	INC	B
2069+  981F CD 7B 90    	CALL	BOOMBC
2070+  9822 C1          	POP	BC
2071+  9823 C9          	RET
2072+  9824             
2073+  9824             DRAWMONSTER
2074+  9824 7A          	LD	A,D		;==== MONSTER ====
2075+  9825 FE 0A       	CP	#0A
2076+  9827 CA 7A 98    	JP	Z,L_7A8F
2077+  982A FE 09       	CP	#09
2078+  982C CA 7A 98    	JP	Z,L_7A8F
2079+  982F FE 08       	CP	#08
2080+  9831 CA 7A 98    	JP	Z,L_7A8F
2081+  9834 FE 07       	CP	#07
2082+  9836 CA 68 98    	JP	Z,L_7A7C
2083+  9839 FE 06       	CP	#06
2084+  983B CA 68 98    	JP	Z,L_7A7C
2085+  983E FE 05       	CP	#05
2086+  9840 CA 68 98    	JP	Z,L_7A7C
2087+  9843 06 05       	LD	B,#05
2088+  9845 FE 04       	CP	#04
2089+  9847 28 0F       	JR	Z,L_7A69
2090+  9849 FE 03       	CP	#03
2091+  984B 28 0B       	JR	Z,L_7A69
2092+  984D 06 06       	LD	B,#06
2093+  984F FE 02       	CP	#02
2094+  9851 28 05       	JR	Z,L_7A69
2095+  9853 FE 01       	CP	#01
2096+  9855 28 01       	JR	Z,L_7A69
2097+  9857 C9          	RET
2098+  9858             
2099+  9858 CD CA 98    L_7A69	CALL	SPR_MIRROR_TOGGLE
2100+  985B 21 EC B9    	LD	HL,L_A616
2101+  985E C5          	PUSH	BC
2102+  985F CD 5A A3    	CALL	L_9BX0
2103+  9862 C1          	POP	BC
2104+  9863 AF          	XOR	A
2105+  9864 32 2E A4    	LD	(SPRDIR),A
2106+  9867 C9          	RET
2107+  9868             
2108+  9868 CD CA 98    L_7A7C	CALL	SPR_MIRROR_TOGGLE
2109+  986B 21 33 B8    	LD	HL,L_A2A4
2110+  986E 06 06       	LD	B,#06
2111+  9870 C5          	PUSH	BC
2112+  9871 CD 5A A3    	CALL	L_9BX0
2113+  9874 C1          	POP	BC
2114+  9875 AF          	XOR	A
2115+  9876 32 2E A4    	LD	(SPRDIR),A
2116+  9879 C9          	RET
2117+  987A             
2118+  987A CD CA 98    L_7A8F	CALL	SPR_MIRROR_TOGGLE
2119+  987D 21 4B B7    	LD	HL,L_A0A8
2120+  9880 06 07       	LD	B,#07
2121+  9882 C5          	PUSH	BC
2122+  9883 CD 5A A3    	CALL	L_9BX0
2123+  9886 C1          	POP	BC
2124+  9887 AF          	XOR	A
2125+  9888 32 2E A4    	LD	(SPRDIR),A
2126+  988B C9          	RET
2127+  988C             
2128+  988C             ANGLE_DIFF
2129+  988C             	; A=0..15, E=0..3
2130+  988C FE 0F       	CP	15
2131+  988E 28 11       	JR	Z,PLANG1
2132+  9890 FE 03       	CP	3
2133+  9892 38 0D       	JR	C,PLANG1	; 15,0,1,2
2134+  9894 FE 07       	CP	7
2135+  9896 38 0F       	JR	C,PLANG2	; 3,4,5,6
2136+  9898 FE 0B       	CP	11
2137+  989A 38 10       	JR	C,PLANG3	; 7,8,9,10
2138+  989C             	; 11,12,13,14
2139+  989C 7B          	LD	A,E
2140+  989D 3D          	DEC	A
2141+  989E E6 03       	AND	3
2142+  98A0 C9          	RET
2143+  98A1 7B          PLANG1	LD	A,E
2144+  98A2 3D          	DEC	A
2145+  98A3 3D          	DEC	A
2146+  98A4 E6 03       	AND	3
2147+  98A6 C9          	RET
2148+  98A7 7B          PLANG2	LD	A,E
2149+  98A8 3C          	INC	A
2150+  98A9 E6 03       	AND	3
2151+  98AB C9          	RET
2152+  98AC 7B          PLANG3	LD	A,E
2153+  98AD E6 03       	AND	3
2154+  98AF C9          	RET
2155+  98B0             
2156+  98B0 A7          ABS	AND	A
2157+  98B1 F0          	RET	P
2158+  98B2 ED 44       	NEG
2159+  98B4 C9          	RET
2160+  98B5             
2161+  98B5             ENMDIST	; in IX = enemy structure
2162+  98B5 3A 02 AA    	LD	A,(L_FAA3)
2163+  98B8 DD 96 00    	SUB	(IX+0)
2164+  98BB CD B0 98    	CALL	ABS
2165+  98BE 4F          	LD	C,A
2166+  98BF 3A 03 AA    	LD	A,(L_FAA3+1)
2167+  98C2 DD 96 01    	SUB	(IX+1)
2168+  98C5 CD B0 98    	CALL	ABS
2169+  98C8 81          	ADD	A,C
2170+  98C9 C9          	RET
2171+  98CA             
2172+  98CA             SPR_MIRROR_TOGGLE
2173+  98CA 3A 0A AA    	LD	A,(L_FAAB)
2174+  98CD A7          	AND	A
2175+  98CE 28 02       	JR	Z,MIRTGL
2176+  98D0 3E FF       	LD	A,-1
2177+  98D2 32 2E A4    MIRTGL	LD	(SPRDIR),A
2178+  98D5 C9          	RET
2179+  98D6             
2180+  98D6 06 06       GOATMUS6	LD	B,6
2181+  98D8 C9          GOATMUS	RET			;(smc) nop/ret
2182+  98D9 3A F9 98    	LD	A,(JMUSDAT)	; music pos
2183+  98DC 21 FA 98    	LD	HL,JMUSDAT+1	; begin of music data
2184+  98DF 16 00       	LD	D,0
2185+  98E1 5F          	LD	E,A
2186+  98E2 19          	ADD	HL,DE
2187+  98E3 4E          	LD	C,(HL)
2188+  98E4 CD 06 A9    	CALL	FXBEEP		; B must be defined!
2189+  98E7 3A F9 98    GOATMUNX	LD	A,(JMUSDAT)	; music pos
2190+  98EA 3C          	INC	A
2191+  98EB FE 10       	CP	16
2192+  98ED 38 06       	JR	C,GOATMUS1
2193+  98EF 3E C9       	LD	A,#C9
2194+  98F1 32 D8 98    	LD	(GOATMUS),A
2195+  98F4 AF          	XOR	A
2196+  98F5 32 F9 98    GOATMUS1	LD	(JMUSDAT),A
2197+  98F8 C9          	RET
2198+  98F9             
2199+  98F9             JMUSDAT	DEFB	0, 77,44,55,44,33,33,33,1, 77,44,55,44,88,88,88,1
2199+  98F9 004D2C372C212121014D2C372C58585801
2200+  990A             
2201+  990A D6 C0       CALCGOAT	SUB	#C0
2202+  990C 5F          	LD	E,A
2203+  990D 87          	ADD	A,A		;*2
2204+  990E 83          	ADD	A,E		;*3
2205+  990F 87          	ADD	A,A		;*6
2206+  9910 DD 21 2D 9A 	LD	IX,GOATDATA
2207+  9914 16 00       	LD	D,0
2208+  9916 5F          	LD	E,A
2209+  9917 DD 19       	ADD	IX,DE
2210+  9919 C9          	RET
2211+  991A             
2212+  991A DD 6E 00    GOATDEAD	LD	L,(IX)
2213+  991D DD 66 01    	LD	H,(IX+1)
2214+  9920 36 00       	LD	(HL),0		; clear in-map byte
2215+  9922 DD 36 00 00 	LD	(IX),0		; clear pos = delete GOAT
2216+  9926 DD 36 01 00 	LD	(IX+1),0
2217+  992A CD C8 93    	CALL	EXPLNEW
2218+  992D 21 FC A9    	LD	HL,V_JTCNT
2219+  9930 35          	DEC	(HL)		;  ?
2220+  9931 C0          	RET	NZ		;  
2221+  9932 3A FA A9    	LD	A,(LEVEL)	;   
2222+  9935 FE 04       	CP	4		;   4-
2223+  9937 C0          	RET	NZ
2224+  9938 3E 0B       	LD	A,11		; level slow-exit marker
2225+  993A 32 14 AA    	LD	(L_FAB5),A
2226+  993D C9          	RET
2227+  993E             
2228+  993E D5          DRAWGOAT	PUSH	DE
2229+  993F CD 0A 99    	CALL	CALCGOAT
2230+  9942             
2231+  9942 DD 7E 04    	LD	A,(IX+4)
2232+  9945 CB 7F       	BIT	7,A		; check 'hit GOAT' marker
2233+  9947 CB BF       	RES	7,A		; clear marker
2234+  9949 DD 77 04    	LD	(IX+4),A
2235+  994C 28 0B       	JR	Z,NOHITJU
2236+  994E 3E 02       	LD	A,2
2237+  9950 32 2F A4    	LD	(SPRCOLR),A
2238+  9953 DD 35 04    	DEC	(IX+4)
2239+  9956 CC 1A 99    	CALL	Z,GOATDEAD
2240+  9959             
2241+  9959 DD 7E 04    NOHITJU	LD	A,(IX+4)
2242+  995C FE 05       	CP	5
2243+  995E 38 05       	JR	C,NORMGOAT
2244+  9960 3E 47       	LD	A,7+64		; immortal GOAT
2245+  9962 32 2F A4    	LD	(SPRCOLR),A
2246+  9965             	
2247+  9965 DD 7E 02    NORMGOAT	LD	A,(IX+2)	; GOAT-mon's rot.angle
2248+  9968 5F          	LD	E,A
2249+  9969 3A 01 AA    	LD	A,(L_FAA2)	; player's rotation angle
2250+  996C 3D          	DEC	A
2251+  996D CD 8C 98    	CALL	ANGLE_DIFF
2252+  9970 D1          	POP	DE
2253+  9971 A7          	AND	A
2254+  9972 28 2A       	JR	Z,GOAT_FRONT
2255+  9974 3D          	DEC	A		; cp 1
2256+  9975 28 08       	JR	Z,GOAT_RIGHT
2257+  9977 3D          	DEC	A		; cp 2
2258+  9978 28 1E       	JR	Z,GOAT_BACK
2259+  997A             
2260+  997A             GOAT_LEFT
2261+  997A 3E FF       	LD	A,-1
2262+  997C 32 2E A4    	LD	(SPRDIR),A
2263+  997F             GOAT_RIGHT
2264+  997F DD 21 79 9A 	LD	IX,GOATSPRS+16
2265+  9983 3A 0A AA    	LD	A,(L_FAAB)
2266+  9986 A7          	AND	A
2267+  9987 20 04       	JR	NZ,GOAT_FR0
2268+  9989 DD 21 81 9A 	LD	IX,GOATSPRS+24
2269+  998D 7A          GOAT_FR0	LD	A,D
2270+  998E FE 0D       	CP	#0D
2271+  9990 30 10       	JR	NC,GOAT_FR2	; ..   /
2272+  9992 FE 05       	CP	NEARESTGOAT
2273+  9994 30 0F       	JR	NC,GOAT_FR1
2274+  9996 18 0A       	JR	GOAT_FR2		; ..   
2275+  9998             GOAT_BACK
2276+  9998 DD 21 71 9A 	LD	IX,GOATSPRS+8
2277+  999C 18 04       	JR	GOAT_FR2
2278+  999E             GOAT_FRONT
2279+  999E DD 21 69 9A 	LD	IX,GOATSPRS
2280+  99A2 CD CA 98    GOAT_FR2	CALL	SPR_MIRROR_TOGGLE
2281+  99A5 06 09       GOAT_FR1	LD	B,9
2282+  99A7 DD 6E 00    	LD	L,(IX)
2283+  99AA DD 23       	INC	IX
2284+  99AC DD 66 00    	LD	H,(IX)
2285+  99AF DD 23       	INC	IX
2286+  99B1 7A          	LD	A,D
2287+  99B2 FE 0C       	CP	#0C
2288+  99B4 D2 E8 99    	JP	NC,DRGOAT
2289+  99B7 06 09       	LD	B,9
2290+  99B9 DD 6E 00    	LD	L,(IX)
2291+  99BC DD 23       	INC	IX
2292+  99BE DD 66 00    	LD	H,(IX)
2293+  99C1 DD 23       	INC	IX
2294+  99C3 7A          	LD	A,D
2295+  99C4 FE 09       	CP	#09
2296+  99C6 D2 E8 99    	JP	NC,DRGOAT
2297+  99C9 06 09       	LD	B,9		; was 8...
2298+  99CB DD 6E 00    	LD	L,(IX)
2299+  99CE DD 23       	INC	IX
2300+  99D0 DD 66 00    	LD	H,(IX)
2301+  99D3 DD 23       	INC	IX
2302+  99D5 FE 05       	CP	NEARESTGOAT
2303+  99D7 D2 E8 99    	JP	NC,DRGOAT
2304+  99DA 3E 15       	LD	A,21		; was 20...
2305+  99DC 92          	SUB	D
2306+  99DD CB 3F       	SRL	A
2307+  99DF 47          	LD	B,A
2308+  99E0 DD 6E 00    	LD	L,(IX)
2309+  99E3 DD 23       	INC	IX
2310+  99E5 DD 66 00    	LD	H,(IX)
2311+  99E8 05          DRGOAT	DEC	B		; slightly ^^^...
2312+  99E9 CD 5A A3    	CALL	L_9BX0
2313+  99EC AF          	XOR	A
2314+  99ED 32 2E A4    	LD	(SPRDIR),A
2315+  99F0 32 D8 98    	LD	(GOATMUS),A
2316+  99F3 3A 2F A4    	LD	A,(SPRCOLR)
2317+  99F6 FE 02       	CP	2		; GOAT in blood?
2318+  99F8 28 26       	JR	Z,GOATBOOM
2319+  99FA A7          	AND	A
2320+  99FB C8          	RET	Z
2321+  99FC             
2322+  99FC AF          FLAMGOAT	XOR	A
2323+  99FD 32 2F A4    	LD	(SPRCOLR),A
2324+  9A00 3A 0A AA    	LD	A,(L_FAAB)	; counter 0/1
2325+  9A03 ED 44       	NEG
2326+  9A05 32 2E A4    	LD	(SPRDIR),A
2327+  9A08 C5          	PUSH	BC
2328+  9A09 D5          	PUSH	DE
2329+  9A0A 04          	INC	B
2330+  9A0B 04          	INC	B
2331+  9A0C 3A 04 AA    	LD	A,(L_FAA5)	; counter 0..3
2332+  9A0F A7          	AND	A
2333+  9A10 CC 97 9B    	CALL	Z,NEWISKR
2334+  9A13 21 57 AC    	LD	HL,SPR_FLAME
2335+  9A16 CD 5A A3    	CALL	L_9BX0
2336+  9A19 AF          	XOR	A
2337+  9A1A 32 2E A4    	LD	(SPRDIR),A
2338+  9A1D D1          	POP	DE
2339+  9A1E C1          	POP	BC
2340+  9A1F C9          	RET
2341+  9A20             
2342+  9A20 AF          GOATBOOM	XOR	A
2343+  9A21 32 2F A4    	LD	(SPRCOLR),A
2344+  9A24 C5          	PUSH	BC
2345+  9A25 04          	INC	B
2346+  9A26 04          	INC	B
2347+  9A27 04          	INC	B
2348+  9A28 CD 7B 90    	CALL	BOOMBC
2349+  9A2B C1          	POP	BC
2350+  9A2C C9          	RET
2351+  9A2D             
2352+  9A2D             GOATDATA	DEFW	#EA28, #2201, #0000
2352+  9A2D 28EA01220000
2353+  9A33             	DEFW	#EA2A, #2201, #0000
2353+  9A33 2AEA01220000
2354+  9A39             	DEFW	#EA2C, #2201, #0000
2354+  9A39 2CEA01220000
2355+  9A3F             	DEFW	#EA2E, #2201, #0000
2355+  9A3F 2EEA01220000
2356+  9A45             	DEFW	#E828, #2201, #0000
2356+  9A45 28E801220000
2357+  9A4B             	DEFW	#E82A, #2201, #0000
2357+  9A4B 2AE801220000
2358+  9A51             	DEFW	#E82C, #2201, #0000
2358+  9A51 2CE801220000
2359+  9A57             	DEFW	#E82E, #2201, #0000
2359+  9A57 2EE801220000
2360+  9A5D             	DEFW	#0000, #0000, #0000
2360+  9A5D 000000000000
2361+  9A63             	DEFW	#0000, #0000, #0000
2361+  9A63 000000000000
2362+  9A69             
2363+  9A69             GOATSPRS	DEFW	SPR_GOAT0, SPR_GOAT1, SPR_GOAT2, SPR_GOAT3	; front
2363+  9A69 58ADFFADA5AFF8B2
2364+  9A71             	DEFW	SPR_GOAT0+8*11+1, SPR_GOAT1+27*11+3, SPR_GOAT2+55*11+3, SPR_GOAT3	; back
2364+  9A71 B1AD2BAF05B2F8B2
2365+  9A79             	DEFW	SPR_GOAT0, SPR_GOAT1+12*11+1, SPR_GOAT2+22*11+1, SPR_GOAT3	; LR phase 1
2365+  9A79 58AD84AE98B0F8B2
2366+  9A81             	DEFW	SPR_GOAT0, SPR_GOAT1+20*11+2, SPR_GOAT2+39*11+2, SPR_GOAT3	; LR phase 2
2366+  9A81 58ADDDAE54B1F8B2
2367+  9A89             
2368+  9A89             NEARESTGOAT EQU	5
2369+  9A89             
2370+  9A89             GOATCNT	EQU	10
2371+  9A89             
2372+  9A89 DD 21 2D 9A GOATWALK	LD	IX,GOATDATA
2373+  9A8D 06 0A       	LD	B,GOATCNT	; count of GOAT-monsters
2374+  9A8F             GOATWLUP	LD	HL,(IX)		; (FAKE!)--------------
2374+  9A8F DD6E00DD6601
2375+  9A95 7C          	LD	A,H
2376+  9A96 A7          	AND	A		; zero pos = no monster
2377+  9A97 20 05       	JR	NZ,JTEXIST
2378+  9A99             
2379+  9A99 CD 25 9B    	CALL	EMPTYJ2
2380+  9A9C 18 7D       	JR	EMPTYJ1
2381+  9A9E             
2382+  9A9E 36 00       JTEXIST	LD	(HL),0		; clear GOAT at current pos
2383+  9AA0 DD 7E 04    	LD	A,(IX+4)	; GOAT life / hit marker
2384+  9AA3 CB BF       	RES	7,A		; clear hit marker
2385+  9AA5 DD 77 04    	LD	(IX+4),A
2386+  9AA8             
2387+  9AA8 CD B5 98    	CALL	ENMDIST		; player<->enemy distance
2388+  9AAB FE 03       	CP	3		; very close?
2389+  9AAD 38 62       	JR	C,GOATMOV	; enemy don't moves
2390+  9AAF             
2391+  9AAF 54          	LD	D,H		; store
2392+  9AB0 5D          	LD	E,L		; current pos
2393+  9AB1 DD 35 03    	DEC	(IX+3)		; time to change dir
2394+  9AB4 28 4A       	JR	Z,GOATROT
2395+  9AB6             
2396+  9AB6 DD 7E 02    	LD	A,(IX+2)	; current rot.angle
2397+  9AB9 A7          	AND	A
2398+  9ABA 28 13       	JR	Z,GOATDIR0
2399+  9ABC 3D          	DEC	A
2400+  9ABD 28 22       	JR	Z,GOATDIR1
2401+  9ABF 3D          	DEC	A
2402+  9AC0 28 2C       	JR	Z,GOATDIR2
2403+  9AC2             
2404+  9AC2 2C          GOATDIR3	INC	L
2405+  9AC3 2C          	INC	L
2406+  9AC4 7E          	LD	A,(HL)
2407+  9AC5 A7          	AND	A
2408+  9AC6 20 38       	JR	NZ,GOATROT
2409+  9AC8 2D          	DEC	L
2410+  9AC9 7E          	LD	A,(HL)
2411+  9ACA A7          	AND	A
2412+  9ACB 20 33       	JR	NZ,GOATROT
2413+  9ACD 18 42       	JR	GOATMOV
2414+  9ACF 25          GOATDIR0	DEC	H
2415+  9AD0 25          	DEC	H
2416+  9AD1             
2417+  9AD1 7C          	LD	A,H
2418+  9AD2 FE E0       	CP	L_UMAP/256	; in map?
2419+  9AD4 38 2A       	JR	C,GOATROT	; not in map
2420+  9AD6             
2421+  9AD6 7E          	LD	A,(HL)
2422+  9AD7 A7          	AND	A
2423+  9AD8 20 26       	JR	NZ,GOATROT
2424+  9ADA 24          	INC	H
2425+  9ADB 7E          	LD	A,(HL)
2426+  9ADC A7          	AND	A
2427+  9ADD 20 21       	JR	NZ,GOATROT
2428+  9ADF 18 30       	JR	GOATMOV
2429+  9AE1 2D          GOATDIR1	DEC	L
2430+  9AE2 2D          	DEC	L
2431+  9AE3 7E          	LD	A,(HL)
2432+  9AE4 A7          	AND	A
2433+  9AE5 20 19       	JR	NZ,GOATROT
2434+  9AE7 2C          	INC	L
2435+  9AE8 7E          	LD	A,(HL)
2436+  9AE9 A7          	AND	A
2437+  9AEA 20 14       	JR	NZ,GOATROT
2438+  9AEC 18 23       	JR	GOATMOV
2439+  9AEE 24          GOATDIR2	INC	H
2440+  9AEF 24          	INC	H
2441+  9AF0             
2442+  9AF0 7C          	LD	A,H
2443+  9AF1 FE FE       	CP	L_UMAP/256+30
2444+  9AF3 30 0B       	JR	NC,GOATROT	; not in map
2445+  9AF5             
2446+  9AF5 7E          	LD	A,(HL)
2447+  9AF6 A7          	AND	A
2448+  9AF7 20 07       	JR	NZ,GOATROT
2449+  9AF9 25          	DEC	H
2450+  9AFA 7E          	LD	A,(HL)
2451+  9AFB A7          	AND	A
2452+  9AFC 20 02       	JR	NZ,GOATROT
2453+  9AFE 18 11       	JR	GOATMOV
2454+  9B00             
2455+  9B00 62          GOATROT	LD	H,D		; restore pos
2456+  9B01 6B          	LD	L,E		; (don't move)
2457+  9B02 ED 5F       	LD	A,R		; random byte
2458+  9B04 E6 03       	AND	%00000011	; 0..3
2459+  9B06 DD 77 02    	LD	(IX+2),A
2460+  9B09 DD 7E 03    	LD	A,(IX+3)
2461+  9B0C C6 06       	ADD	A,6
2462+  9B0E DD 77 03    	LD	(IX+3),A	; inc time to change dir
2463+  9B11 3E CA       GOATMOV	LD	A,#C0+GOATCNT	; GOAT-monsters idxs
2464+  9B13 90          	SUB	B
2465+  9B14 77          	LD	(HL),A
2466+  9B15             	LD	(IX),HL
2466+  9B15 DD7500DD7401
2467+  9B1B 11 06 00    EMPTYJ1	LD	DE,6
2468+  9B1E DD 19       	ADD	IX,DE
2469+  9B20             ;===	DJNZ	GOATWLUP
2470+  9B20 05          	DEC	B
2471+  9B21 C2 8F 9A    	JP	NZ,GOATWLUP
2472+  9B24 C9          	RET
2473+  9B25             
2474+  9B25 3A 04 AA    EMPTYJ2	LD	A,(L_FAA5)
2475+  9B28 A7          	AND	A		;  
2476+  9B29 C0          	RET	NZ		;   
2477+  9B2A             
2478+  9B2A 3A FA A9    	LD	A,(LEVEL)
2479+  9B2D FE 04       	CP	4		;  4- 
2480+  9B2F C8          	RET	Z		;   
2481+  9B30             
2482+  9B30 CD 74 9B    	CALL	RND_8
2483+  9B33 6F          	LD	L,A
2484+  9B34 CD 74 9B    	CALL	RND_8
2485+  9B37 FE E0       	CP	L_UMAP/256
2486+  9B39 D8          	RET	C
2487+  9B3A FE FE       	CP	L_UMAP/256+30
2488+  9B3C D0          	RET	NC
2489+  9B3D 67          	LD	H,A
2490+  9B3E             
2491+  9B3E 7E          	LD	A,(HL)
2492+  9B3F A7          	AND	A
2493+  9B40 C0          	RET	NZ
2494+  9B41 DD 75 00    	LD	(IX),L
2495+  9B44 DD 74 01    	LD	(IX+1),H
2496+  9B47 CD B5 98    	CALL	ENMDIST		; player<->enemy distance
2497+  9B4A FE 28       	CP	40		;  ? ( 
2498+  9B4C 38 1D       	JR	C,CANCELNEWGOAT	;    )
2499+  9B4E DD 36 02 01 	LD	(IX+2),#01
2500+  9B52 DD 36 03 22 	LD	(IX+3),#22
2501+  9B56 DD 36 04 03 	LD	(IX+4),#03	; GOAT's life
2502+  9B5A 3A FA A9    	LD	A,(LEVEL)
2503+  9B5D FE 07       	CP	7		;  7-  
2504+  9B5F D8          	RET	C		;   
2505+  9B60 CD 74 9B    	CALL	RND_8
2506+  9B63 FE BE       	CP	190
2507+  9B65 D8          	RET	C
2508+  9B66 DD 36 04 7F 	LD	(IX+4),#7F	; almost-immortal GOAT
2509+  9B6A C9          	RET
2510+  9B6B             
2511+  9B6B             CANCELNEWGOAT
2512+  9B6B DD 36 00 00 	LD	(IX),0
2513+  9B6F DD 36 01 00 	LD	(IX+1),0
2514+  9B73 C9          	RET
2515+  9B74             
2516+  9B74             ;==================================================
2517+  9B74             
2518+  9B74 3E 35       RND_8	LD	A,53
2519+  9B76 87          	ADD	A,A
2520+  9B77 30 03       	JR	NC,$+5
2521+  9B79 0E 33       	LD	C,51
2522+  9B7B A9          	XOR	C
2523+  9B7C 4F          	LD	C,A
2524+  9B7D ED 5F       	LD	A,R
2525+  9B7F A9          	XOR	C 
2526+  9B80 32 75 9B    	LD	(RND_8+1),A
2527+  9B83 C9          	RET
2528+  9B84             
2529+  9B84             ;==================================================
2530+  9B84             
2531+  9B84 01 00 00    ISKRA	LD	BC,#0000	; (var)
2532+  9B87 78          	LD	A,B
2533+  9B88 FE C8       	CP	200
2534+  9B8A D0          	RET	NC
2535+  9B8B 05          	DEC	B
2536+  9B8C 05          	DEC	B
2537+  9B8D ED 43 85 9B 	LD	(ISKRA+1),BC
2538+  9B91 21 A5 AC    	LD	HL,SPR_FLAME+7*11+1
2539+  9B94 C3 5A A3    	JP	L_9BX0
2540+  9B97             
2541+  9B97 ED 43 85 9B NEWISKR	LD	(ISKRA+1),BC
2542+  9B9B C9          	RET
2543+  9B9C             
2544+  9B9C             ;==================================================
2545+  9B9C             ; ENEMIES ON LEVELS
2546+  9B9C             ;==================================================
2547+  9B9C             
2548+  9B9C 3A FA A9    L_7AA2	LD	A,(LEVEL)	; enemy list on levels
2549+  9B9F A7          	AND	A
2550+  9BA0 28 10       	JR	Z,LEV0_ENEMIES
2551+  9BA2 3D          	DEC	A
2552+  9BA3 28 07       	JR	Z,LEV1_ENEMIES
2553+  9BA5 3D          	DEC	A
2554+  9BA6 28 10       	JR	Z,LEV2_ENEMIES
2555+  9BA8             
2556+  9BA8 FE 03       	CP	3		; (!)
2557+  9BAA 28 09       	JR	Z,LEV5_ENEMIES
2558+  9BAC             
2559+  9BAC             	; default
2560+  9BAC             
2561+  9BAC             LEV1_ENEMIES
2562+  9BAC CD C9 9B    	CALL	L_7AF0		;  -
2563+  9BAF CD 89 9A    	CALL	GOATWALK	;  -
2564+  9BB2             LEV0_ENEMIES
2565+  9BB2 C3 BA 9E    	JP	L_7C49		;    
2566+  9BB5             
2567+  9BB5             LEV5_ENEMIES
2568+  9BB5 CD 60 9E    	CALL	WAVMOV
2569+  9BB8             LEV2_ENEMIES
2570+  9BB8 CD 54 92    	CALL	L_73F1		;  
2571+  9BBB 18 EF       	JR	LEV1_ENEMIES
2572+  9BBD             
2573+  9BBD             ;==================================================
2574+  9BBD             
2575+  9BBD CD E4 9F    L_7AD2	CALL	L_7D64
2576+  9BC0 CD 11 A0    	CALL	L_7D98
2577+  9BC3 CD E7 A2    	CALL	L_7F30
2578+  9BC6 C3 3E 91    	JP	L_72E8
2579+  9BC9             
2580+  9BC9 DD 21 08 AA L_7AF0	LD	IX,L_FAA9	; Bull xy
2581+  9BCD DD 7E 00    	LD	A,(IX)
2582+  9BD0 A7          	AND	A		; Bull exists?
2583+  9BD1 C8          	RET	Z
2584+  9BD2 CD B5 98    	CALL	ENMDIST		; player<->enemy distance
2585+  9BD5 FE 03       	CP	3		; very close?
2586+  9BD7 D8          	RET	C		; enemy don't moves
2587+  9BD8             
2588+  9BD8 3A 08 AA    	LD	A,(L_FAA9)	;  -
2589+  9BDB 47          	LD	B,A
2590+  9BDC 05          	DEC	B
2591+  9BDD 3A 02 AA    	LD	A,(L_FAA3)
2592+  9BE0 B8          	CP	B
2593+  9BE1 30 12       	JR	NC,L_7B0D
2594+  9BE3 2A 08 AA    	LD	HL,(L_FAA9)
2595+  9BE6 2D          	DEC	L
2596+  9BE7 7E          	LD	A,(HL)		;    
2597+  9BE8 FE 11       	CP	#11
2598+  9BEA 30 09       	JR	NC,L_7B0D
2599+  9BEC 36 D0       	LD	(HL),#D0
2600+  9BEE 2C          	INC	L
2601+  9BEF 36 00       	LD	(HL),#00
2602+  9BF1 2D          	DEC	L
2603+  9BF2 22 08 AA    	LD	(L_FAA9),HL
2604+  9BF5             L_7B0D
2605+  9BF5 3A 08 AA    	LD	A,(L_FAA9)
2606+  9BF8 47          	LD	B,A
2607+  9BF9 04          	INC	B
2608+  9BFA 3A 02 AA    	LD	A,(L_FAA3)
2609+  9BFD B8          	CP	B
2610+  9BFE 38 12       	JR	C,L_7BA1
2611+  9C00 2A 08 AA    	LD	HL,(L_FAA9)
2612+  9C03 2C          	INC	L
2613+  9C04 7E          	LD	A,(HL)
2614+  9C05 FE 11       	CP	#11
2615+  9C07 30 09       	JR	NC,L_7BA1
2616+  9C09 36 D0       	LD	(HL),#D0
2617+  9C0B 2D          	DEC	L
2618+  9C0C 36 00       	LD	(HL),#00
2619+  9C0E 2C          	INC	L
2620+  9C0F 22 08 AA    	LD	(L_FAA9),HL
2621+  9C12             L_7BA1
2622+  9C12 3A 09 AA    	LD	A,(L_FAA9+1)
2623+  9C15 47          	LD	B,A
2624+  9C16 04          	INC	B
2625+  9C17 3A 03 AA    	LD	A,(L_FAA4)
2626+  9C1A B8          	CP	B
2627+  9C1B 38 12       	JR	C,L_7BBE
2628+  9C1D 2A 08 AA    	LD	HL,(L_FAA9)
2629+  9C20 24          	INC	H
2630+  9C21 7E          	LD	A,(HL)
2631+  9C22 FE 11       	CP	#11
2632+  9C24 30 09       	JR	NC,L_7BBE
2633+  9C26 36 D0       	LD	(HL),#D0
2634+  9C28 25          	DEC	H
2635+  9C29 36 00       	LD	(HL),#00
2636+  9C2B 24          	INC	H
2637+  9C2C 22 08 AA    	LD	(L_FAA9),HL
2638+  9C2F             L_7BBE
2639+  9C2F 3A 09 AA    	LD	A,(L_FAA9+1)
2640+  9C32 47          	LD	B,A
2641+  9C33 05          	DEC	B
2642+  9C34 3A 03 AA    	LD	A,(L_FAA4)
2643+  9C37 B8          	CP	B
2644+  9C38 30 12       	JR	NC,L_7D40
2645+  9C3A 2A 08 AA    	LD	HL,(L_FAA9)
2646+  9C3D 25          	DEC	H
2647+  9C3E 7E          	LD	A,(HL)
2648+  9C3F FE 11       	CP	#11
2649+  9C41 30 09       	JR	NC,L_7D40
2650+  9C43 36 D0       	LD	(HL),#D0
2651+  9C45 24          	INC	H
2652+  9C46 36 00       	LD	(HL),#00
2653+  9C48 25          	DEC	H
2654+  9C49 22 08 AA    	LD	(L_FAA9),HL
2655+  9C4C             
2656+  9C4C             L_7D40	;      
2657+  9C4C             	;   -    
2658+  9C4C 2A 08 AA    	LD	HL,(L_FAA9)
2659+  9C4F 24          	INC	H
2660+  9C50 7E          	LD	A,(HL)
2661+  9C51 A7          	AND	A
2662+  9C52 28 0E       	JR	Z,MONWL1
2663+  9C54 25          	DEC	H
2664+  9C55 25          	DEC	H
2665+  9C56 7E          	LD	A,(HL)
2666+  9C57 A7          	AND	A
2667+  9C58 20 08       	JR	NZ,MONWL1
2668+  9C5A 36 D0       	LD	(HL),#D0
2669+  9C5C 22 08 AA    	LD	(L_FAA9),HL
2670+  9C5F 24          	INC	H
2671+  9C60 36 00       	LD	(HL),0
2672+  9C62 2A 08 AA    MONWL1	LD	HL,(L_FAA9)
2673+  9C65 2D          	DEC	L
2674+  9C66 7E          	LD	A,(HL)
2675+  9C67 A7          	AND	A
2676+  9C68 C8          	RET	Z
2677+  9C69 2C          	INC	L
2678+  9C6A 2C          	INC	L
2679+  9C6B 7E          	LD	A,(HL)
2680+  9C6C A7          	AND	A
2681+  9C6D C0          	RET	NZ
2682+  9C6E 36 D0       	LD	(HL),#D0
2683+  9C70 22 08 AA    	LD	(L_FAA9),HL
2684+  9C73 2D          	DEC	L
2685+  9C74 36 00       	LD	(HL),0
2686+  9C76 C9          	RET
2687+  9C77             
2688+  9C77             DRAW_COMPASS
2689+  9C77 3A 01 AA    	LD	A,(L_FAA2)	; compass
2690+  9C7A 01 15 13    	LD	BC,#1315
2691+  9C7D 21 9B BF    	LD	HL,L_AF83
2692+  9C80 FE 01       	CP	#01
2693+  9C82 20 03       	JR	NZ,L_7B20
2694+  9C84 21 37 BF    	LD	HL,L_AF1F
2695+  9C87 FE 05       L_7B20	CP	#05
2696+  9C89 20 03       	JR	NZ,L_7B27
2697+  9C8B 21 FF BF    	LD	HL,L_AFE7
2698+  9C8E FE 09       L_7B27	CP	#09
2699+  9C90 20 03       	JR	NZ,L_7B2E
2700+  9C92 21 C7 C0    	LD	HL,L_B0AF
2701+  9C95 FE 0D       L_7B2E	CP	#0D
2702+  9C97 20 03       	JR	NZ,L_7B35
2703+  9C99 21 8F C1    	LD	HL,L_B177
2704+  9C9C FE 06       L_7B35	CP	#06
2705+  9C9E 20 03       	JR	NZ,L_7B3C
2706+  9CA0 21 63 C0    	LD	HL,L_B04B
2707+  9CA3 FE 07       L_7B3C	CP	#07
2708+  9CA5 20 03       	JR	NZ,L_7B43
2709+  9CA7 21 63 C0    	LD	HL,L_B04B
2710+  9CAA FE 08       L_7B43	CP	#08
2711+  9CAC 20 03       	JR	NZ,L_7B4A
2712+  9CAE 21 63 C0    	LD	HL,L_B04B
2713+  9CB1 FE 0A       L_7B4A	CP	#0A
2714+  9CB3 20 03       	JR	NZ,L_7B51
2715+  9CB5 21 2B C1    	LD	HL,L_B113
2716+  9CB8 FE 0B       L_7B51	CP	#0B
2717+  9CBA 20 03       	JR	NZ,L_7B58
2718+  9CBC 21 2B C1    	LD	HL,L_B113
2719+  9CBF FE 0C       L_7B58	CP	#0C
2720+  9CC1 20 03       	JR	NZ,L_7B5F
2721+  9CC3 21 2B C1    	LD	HL,L_B113
2722+  9CC6 FE 0E       L_7B5F	CP	#0E
2723+  9CC8 38 03       	JR	C,L_7B66
2724+  9CCA 21 F3 C1    	LD	HL,L_B1DB
2725+  9CCD C3 5A A4    L_7B66	JP	DRAWSPR_REAL
2726+  9CD0             
2727+  9CD0 3A 04 AA    LOOPS	LD	A,(L_FAA5)	; loop 0..3
2728+  9CD3 3C          	INC	A
2729+  9CD4 E6 03       	AND	%00000011
2730+  9CD6 32 04 AA    	LD	(L_FAA5),A
2731+  9CD9             
2732+  9CD9 3A 0A AA    	LD	A,(L_FAAB)	; loop 0..1
2733+  9CDC EE 01       	XOR	1
2734+  9CDE 32 0A AA    	LD	(L_FAAB),A
2735+  9CE1 C9          	RET
2736+  9CE2             
2737+  9CE2             
2738+  9CE2 7A          L_7BC1	LD	A,D		;==== TREE ====
2739+  9CE3 FE 0B       	CP	#0B
2740+  9CE5 38 08       	JR	C,L_7BCF
2741+  9CE7 06 07       	LD	B,#07
2742+  9CE9 21 4A C3    	LD	HL,L_B5FE
2743+  9CEC C3 5A A3    	JP	L_9BX0
2744+  9CEF             ;
2745+  9CEF FE 09       L_7BCF	CP	#09
2746+  9CF1 38 0A       	JR	C,L_7BDC
2747+  9CF3 06 06       	LD	B,#06
2748+  9CF5 21 8D C3    	LD	HL,L_B641
2749+  9CF8 C5          	PUSH	BC
2750+  9CF9 0D          	DEC	C
2751+  9CFA C3 55 A3    	JP	L_9BXX
2752+  9CFD             
2753+  9CFD FE 07       L_7BDC	CP	#07
2754+  9CFF 38 0A       	JR	C,L_7BE9
2755+  9D01 06 05       	LD	B,#05
2756+  9D03 21 12 C4    	LD	HL,L_B6C6
2757+  9D06 C5          	PUSH	BC
2758+  9D07 0D          	DEC	C
2759+  9D08 C3 55 A3    	JP	L_9BXX
2760+  9D0B             
2761+  9D0B FE 05       L_7BE9	CP	#05
2762+  9D0D 38 0B       	JR	C,L_7BF6
2763+  9D0F 06 02       	LD	B,#02
2764+  9D11 21 3C C5    	LD	HL,L_B7F0
2765+  9D14 C5          	PUSH	BC
2766+  9D15 0D          	DEC	C
2767+  9D16 0D          	DEC	C
2768+  9D17 C3 55 A3    	JP	L_9BXX
2769+  9D1A             ;
2770+  9D1A 00          L_7BF6	DB	#00
2771+  9D1B FE 03       	CP	#03
2772+  9D1D 38 0C       	JR	C,L_7C04
2773+  9D1F 06 01       	LD	B,#01
2774+  9D21 21 6E C7    	LD	HL,L_BA38
2775+  9D24 C5          	PUSH	BC
2776+  9D25 0D          	DEC	C
2777+  9D26 0D          	DEC	C
2778+  9D27 0D          	DEC	C
2779+  9D28 C3 55 A3    	JP	L_9BXX
2780+  9D2B             ;
2781+  9D2B 06 01       L_7C04	LD	B,#01
2782+  9D2D 21 0B CB    	LD	HL,L_BDE0
2783+  9D30 C5          	PUSH	BC
2784+  9D31 0D          	DEC	C
2785+  9D32 0D          	DEC	C
2786+  9D33 0D          	DEC	C
2787+  9D34 CD 5A A3    	CALL	L_9BX0
2788+  9D37 C1          	POP	BC
2789+  9D38 06 08       	LD	B,#08
2790+  9D3A 21 95 CD    	LD	HL,L_C05F
2791+  9D3D C5          	PUSH	BC
2792+  9D3E 0D          	DEC	C
2793+  9D3F 0D          	DEC	C
2794+  9D40 0D          	DEC	C
2795+  9D41 C3 55 A3    	JP	L_9BXX
2796+  9D44             
2797+  9D44 3E 1C       OGRADA	LD	A,28		;=== OGRADA ===
2798+  9D46 92          	SUB	D
2799+  9D47 CB 3F       	SRL	A
2800+  9D49 47          	LD	B,A
2801+  9D4A 7A          	LD	A,D
2802+  9D4B FE 04       	CP	#04
2803+  9D4D 38 1E       	JR	C,OGRADA4
2804+  9D4F FE 07       	CP	#07
2805+  9D51 38 12       	JR	C,OGRADA3
2806+  9D53 FE 0A       	CP	#0A
2807+  9D55 38 08       	JR	C,OGRADA2
2808+  9D57 06 09       	LD	B,9
2809+  9D59 21 F1 AB    	LD	HL,SPR_OGRADA
2810+  9D5C C3 5A A3    	JP	L_9BX0
2811+  9D5F 21 08 AC    OGRADA2	LD	HL,SPR_OGRADA+11*2+1
2812+  9D62 C3 5A A3    	JP	L_9BX0
2813+  9D65 21 2A AC    OGRADA3	LD	HL,SPR_OGRADA+11*5+2
2814+  9D68 CD 5A A3    	CALL	L_9BX0
2815+  9D6B 18 5B       	JR	OGWATER
2816+  9D6D             OGRADA4
2817+  9D6D             ;	LD	HL,SPR_OGRADA+11*9+3
2818+  9D6D             ;	CALL	L_9BX0
2819+  9D6D             
2820+  9D6D 11 40 00    	LD	DE,64
2821+  9D70 78          	LD	A,B
2822+  9D71 FE 0D       	CP	13
2823+  9D73 20 03       	JR	NZ,OGR4_1
2824+  9D75 11 60 00    	LD	DE,96
2825+  9D78 D5          OGR4_1	PUSH	DE
2826+  9D79 26 71       	LD	H,VATTR/256+1
2827+  9D7B 69          	LD	L,C
2828+  9D7C 19          	ADD	HL,DE
2829+  9D7D 3E 05       	LD	A,5
2830+  9D7F 11 20 00    	LD	DE,32
2831+  9D82 77          	LD	(HL),A
2832+  9D83 19          	ADD	HL,DE
2833+  9D84 77          	LD	(HL),A
2834+  9D85 19          	ADD	HL,DE
2835+  9D86 77          	LD	(HL),A
2836+  9D87 19          	ADD	HL,DE
2837+  9D88 77          	LD	(HL),A
2838+  9D89 19          	ADD	HL,DE
2839+  9D8A 77          	LD	(HL),A
2840+  9D8B 26 68       	LD	H,(VSCR+2048)/256
2841+  9D8D 69          	LD	L,C
2842+  9D8E D1          	POP	DE
2843+  9D8F 19          	ADD	HL,DE
2844+  9D90 36 00       	LD	(HL),#00
2845+  9D92 24          	INC	H
2846+  9D93 36 18       	LD	(HL),#18
2847+  9D95 24          	INC	H
2848+  9D96 36 3C       	LD	(HL),#3C
2849+  9D98 24          	INC	H
2850+  9D99 36 56       	LD	(HL),#56
2851+  9D9B 24          	INC	H
2852+  9D9C 36 AB       	LD	(HL),#AB
2853+  9D9E 24          	INC	H
2854+  9D9F 36 56       	LD	(HL),#56
2855+  9DA1 24          	INC	H
2856+  9DA2 36 00       	LD	(HL),#00
2857+  9DA4 24          	INC	H
2858+  9DA5 36 26       	LD	(HL),#26
2859+  9DA7 CD E7 A9    	CALL	INC_Y
2860+  9DAA 11 16 4A    	LD	DE,#4A16
2861+  9DAD CD 06 9E    	CALL	OGR4_2
2862+  9DB0 CD E7 A9    	CALL	INC_Y
2863+  9DB3 CD 06 9E    	CALL	OGR4_2
2864+  9DB6 CD E7 A9    	CALL	INC_Y
2865+  9DB9 11 04 4A    	LD	DE,#4A04
2866+  9DBC CD 06 9E    	CALL	OGR4_2
2867+  9DBF CD E7 A9    	CALL	INC_Y
2868+  9DC2 11 04 42    	LD	DE,#4204
2869+  9DC5 CD 06 9E    	CALL	OGR4_2
2870+  9DC8             
2871+  9DC8 26 71       OGWATER	LD	H,VATTR/256+1
2872+  9DCA 69          	LD	L,C
2873+  9DCB 3E 01       	LD	A,1
2874+  9DCD BE          	CP	(HL)
2875+  9DCE C0          	RET	NZ
2876+  9DCF 36 0D       	LD	(HL),13
2877+  9DD1 06 09       	LD	B,9		; Y for water sprites
2878+  9DD3 11 40 00    	LD	DE,64
2879+  9DD6 19          	ADD	HL,DE		; 2 strings below horizon
2880+  9DD7 AF          	XOR	A
2881+  9DD8 BE          	CP	(HL)
2882+  9DD9 20 05       	JR	NZ,OGWAT1
2883+  9DDB CD 1C 9E    	CALL	DRAW_WATER
2884+  9DDE 18 0B       	JR	OGWAVE
2885+  9DE0 11 E0 FF    OGWAT1	LD	DE,-32
2886+  9DE3 19          	ADD	HL,DE		; 1 string below horizon
2887+  9DE4 AF          	XOR	A
2888+  9DE5 BE          	CP	(HL)
2889+  9DE6 20 03       	JR	NZ,OGWAVE
2890+  9DE8 CD 16 9E    	CALL	DRAW_WATER1
2891+  9DEB ED 5F       OGWAVE	LD	A,R
2892+  9DED CB 5F       	BIT	3,A
2893+  9DEF C0          	RET	NZ
2894+  9DF0 26 68       	LD	H,(VSCR+2048)/256
2895+  9DF2 69          	LD	L,C
2896+  9DF3 3E 50       BKGA	LD	A,%01010000
2897+  9DF5 77          	LD	(HL),A
2898+  9DF6 24          	INC	H
2899+  9DF7 3E AA       BKGB	LD	A,170
2900+  9DF9 77          	LD	(HL),A
2901+  9DFA 24          	INC	H
2902+  9DFB 24          	INC	H
2903+  9DFC 3E 44       BKGC	LD	A,%01000100
2904+  9DFE 77          	LD	(HL),A
2905+  9DFF 24          	INC	H
2906+  9E00 24          	INC	H
2907+  9E01 24          	INC	H
2908+  9E02 3E 10       BKGD	LD	A,%00010000
2909+  9E04 77          	LD	(HL),A
2910+  9E05 C9          	RET
2911+  9E06             
2912+  9E06             ;===	DEFB	#FF,#FF,#F5,#EF,#55,#AA,#10,#45
2913+  9E06             ;===	DEFB	#10,#AA,#00,#45,#08,#00,#22,#00
2914+  9E06             
2915+  9E06 72          OGR4_2	LD	(HL),D
2916+  9E07 24          	INC	H
2917+  9E08 73          	LD	(HL),E
2918+  9E09 24          	INC	H
2919+  9E0A 72          	LD	(HL),D
2920+  9E0B 24          	INC	H
2921+  9E0C 73          	LD	(HL),E
2922+  9E0D 24          	INC	H
2923+  9E0E 72          	LD	(HL),D
2924+  9E0F 24          	INC	H
2925+  9E10 73          	LD	(HL),E
2926+  9E11 24          	INC	H
2927+  9E12 72          	LD	(HL),D
2928+  9E13 24          	INC	H
2929+  9E14 73          	LD	(HL),E
2930+  9E15 C9          	RET
2931+  9E16             
2932+  9E16             DRAW_WATER1
2933+  9E16 36 01       	LD	(HL),1
2934+  9E18 26 68       	LD	H,(VSCR+2048)/256
2935+  9E1A 18 2C       	JR	DRAW_WT
2936+  9E1C             DRAW_WATER
2937+  9E1C 36 01       	LD	(HL),1
2938+  9E1E 11 20 00    	LD	DE,32
2939+  9E21 ED 52       	SBC	HL,DE
2940+  9E23 36 01       	LD	(HL),1
2941+  9E25 ED 52       	SBC	HL,DE
2942+  9E27 26 68       	LD	H,(VSCR+2048)/256
2943+  9E29 19          	ADD	HL,DE
2944+  9E2A CD 48 9E    	CALL	DRAW_WT
2945+  9E2D CD E7 A9    	CALL	INC_Y
2946+  9E30 36 10       	LD	(HL),#10
2947+  9E32 24          	INC	H
2948+  9E33 36 AA       	LD	(HL),#AA
2949+  9E35 24          	INC	H
2950+  9E36 36 00       	LD	(HL),#00
2951+  9E38 24          	INC	H
2952+  9E39 36 45       	LD	(HL),#45
2953+  9E3B 24          	INC	H
2954+  9E3C 36 08       	LD	(HL),#08
2955+  9E3E 24          	INC	H
2956+  9E3F 36 00       	LD	(HL),#00
2957+  9E41 24          	INC	H
2958+  9E42 36 22       	LD	(HL),#22
2959+  9E44 24          	INC	H
2960+  9E45 36 00       	LD	(HL),#00
2961+  9E47 C9          	RET
2962+  9E48 36 FF       DRAW_WT	LD	(HL),#FF
2963+  9E4A 24          	INC	H
2964+  9E4B 36 FF       	LD	(HL),#FF
2965+  9E4D 24          	INC	H
2966+  9E4E 36 F5       	LD	(HL),#F5
2967+  9E50 24          	INC	H
2968+  9E51 36 EF       	LD	(HL),#EF
2969+  9E53 24          	INC	H
2970+  9E54 36 55       	LD	(HL),#55
2971+  9E56 24          	INC	H
2972+  9E57 36 AA       	LD	(HL),#AA
2973+  9E59 24          	INC	H
2974+  9E5A 36 12       	LD	(HL),#12
2975+  9E5C 24          	INC	H
2976+  9E5D 36 45       	LD	(HL),#45
2977+  9E5F C9          	RET
2978+  9E60             
2979+  9E60 3A F4 9D    WAVMOV	LD	A,(BKGA+1)
2980+  9E63 0F          	RRCA
2981+  9E64 32 F4 9D    	LD	(BKGA+1),A
2982+  9E67 3A F8 9D    	LD	A,(BKGB+1)
2983+  9E6A 0F          	RRCA
2984+  9E6B 32 F8 9D    	LD	(BKGB+1),A
2985+  9E6E 3A FD 9D    	LD	A,(BKGC+1)
2986+  9E71 0F          	RRCA
2987+  9E72 32 FD 9D    	LD	(BKGC+1),A
2988+  9E75 3A 03 9E    	LD	A,(BKGD+1)
2989+  9E78 0F          	RRCA
2990+  9E79 0F          	RRCA
2991+  9E7A 32 03 9E    	LD	(BKGD+1),A
2992+  9E7D C9          	RET
2993+  9E7E             
2994+  9E7E 3E 46       L_7C1X	LD	A,6+64		;==== BOX ====
2995+  9E80 32 2F A4    	LD	(SPRCOLR),A
2996+  9E83 CD 8B 9E    	CALL	L_7C18
2997+  9E86 AF          	XOR	A
2998+  9E87 32 2F A4    	LD	(SPRCOLR),A
2999+  9E8A C9          	RET
3000+  9E8B             
3001+  9E8B 7A          L_7C18	LD	A,D
3002+  9E8C FE 0B       	CP	#0B
3003+  9E8E 38 08       	JR	C,L_7C26
3004+  9E90 06 0A       	LD	B,#0A
3005+  9E92 21 43 CF    	LD	HL,L_C218
3006+  9E95 C3 5A A3    	JP	L_9BX0
3007+  9E98             ;
3008+  9E98 FE 09       L_7C26	CP	#09
3009+  9E9A 38 08       	JR	C,L_7C33
3010+  9E9C 06 0A       	LD	B,#0A
3011+  9E9E 21 70 CF    	LD	HL,L_C218+11*4+1
3012+  9EA1 C3 5A A3    	JP	L_9BX0
3013+  9EA4             ;
3014+  9EA4 FE 06       L_7C33	CP	#06
3015+  9EA6 38 08       	JR	C,L_7C40
3016+  9EA8 06 0B       	LD	B,#0B
3017+  9EAA 21 D4 CF    	LD	HL,L_C218+11*4+11*9+2
3018+  9EAD C3 5A A3    	JP	L_9BX0
3019+  9EB0             ;
3020+  9EB0 3E 10       L_7C40	LD	A,16
3021+  9EB2 92          	SUB	D
3022+  9EB3 47          	LD	B,A
3023+  9EB4 21 59 D0    	LD	HL,L_C218+11*4+11*9+11*12+3
3024+  9EB7 C3 5A A3    	JP	L_9BX0
3025+  9EBA             
3026+  9EBA 3A FA A9    L_7C49	LD	A,(LEVEL)
3027+  9EBD FE 06       	CP	6
3028+  9EBF D0          	RET	NC		; no dragons after level 5
3029+  9EC0 FE 04       	CP	4		; no dragons on level 4
3030+  9EC2 C8          	RET	Z		; (    ' ')
3031+  9EC3             
3032+  9EC3 3A 07 AA    	LD	A,(L_FAA8)	;====DRAGON====
3033+  9EC6 21 56 D2    	LD	HL,L_C745+11*13+1
3034+  9EC9 FE 01       	CP	#01
3035+  9ECB 20 03       	JR	NZ,L_7C56
3036+  9ECD 21 C6 D1    	LD	HL,L_C745
3037+  9ED0 FE 03       L_7C56	CP	#03
3038+  9ED2 20 03       	JR	NZ,L_7C5D
3039+  9ED4 21 C5 D2    	LD	HL,L_C745+11*23+2
3040+  9ED7 06 03       L_7C5D	LD	B,#03
3041+  9ED9 3A 0D AA    	LD	A,(L_FAAE)
3042+  9EDC 3D          	DEC	A
3043+  9EDD 32 0D AA    	LD	(L_FAAE),A
3044+  9EE0 4F          	LD	C,A
3045+  9EE1 C3 5A A3    	JP	L_9BX0
3046+  9EE4             
3047+  9EE4 CD 15 8F    L_7C86	CALL	L_70F0
3048+  9EE7 FE 92       	CP	#92
3049+  9EE9 C0          	RET	NZ
3050+  9EEA CD E3 A8    	CALL	L_6440
3051+  9EED             
3052+  9EED CD 8E A4    	CALL	CLEARLINE
3053+  9EF0 11 6C DD    	LD	DE,TX63CC
3054+  9EF3 CD EB 84    	CALL	PRINT
3055+  9EF6 11 95 DD    	LD	DE,TX644E
3056+  9EF9 CD EB 84    	CALL	PRINT
3057+  9EFC             
3058+  9EFC 3E 01       	LD	A,1
3059+  9EFE 32 11 AA    	LD	(L_FAB2),A	; set gun
3060+  9F01 3A 10 AA    	LD	A,(L_FAB1)
3061+  9F04 C6 32       	ADD	A,50		; add bullets
3062+  9F06 FE 64       	CP	100
3063+  9F08 38 02       	JR	C,L_7CC9
3064+  9F0A 3E 63       	LD	A,99
3065+  9F0C 32 10 AA    L_7CC9	LD	(L_FAB1),A
3066+  9F0F CD 10 8F    	CALL	PRNTBUL		; print bullets
3067+  9F12 C3 24 8F    	JP	L_710B		; del object
3068+  9F15             
3069+  9F15 3E 0D       EGG	LD	A,#0D
3070+  9F17 92          	SUB	D
3071+  9F18 CB 3F       	SRL	A
3072+  9F1A C6 07       	ADD	A,7
3073+  9F1C 47          	LD	B,A
3074+  9F1D 21 24 AA    	LD	HL,SPR_EGG
3075+  9F20 7A          	LD	A,D
3076+  9F21 FE 0A       	CP	#0A
3077+  9F23 38 03       	JR	C,EGG2
3078+  9F25 C3 5C A3    EGGS	JP	DRAWSPR
3079+  9F28             
3080+  9F28 FE 08       EGG2	CP	#08
3081+  9F2A 38 05       	JR	C,EGG3
3082+  9F2C 21 30 AA    	LD	HL,SPR_EGG+11+1
3083+  9F2F 18 F4       	JR	EGGS
3084+  9F31 21 52 AA    EGG3	LD	HL,SPR_EGG+11*4+2
3085+  9F34 18 EF       	JR	EGGS
3086+  9F36             
3087+  9F36 3E 0D       STONE	LD	A,#0D
3088+  9F38 92          	SUB	D
3089+  9F39 CB 3F       	SRL	A
3090+  9F3B C6 08       	ADD	A,8
3091+  9F3D 47          	LD	B,A
3092+  9F3E 21 D8 AA    	LD	HL,SPR_STONE
3093+  9F41 7A          	LD	A,D
3094+  9F42 FE 0A       	CP	#0A
3095+  9F44 38 03       	JR	C,STONE2
3096+  9F46 C3 5C A3    STONES	JP	DRAWSPR
3097+  9F49 FE 08       STONE2	CP	#08
3098+  9F4B 38 05       	JR	C,STONE3
3099+  9F4D 21 E4 AA    	LD	HL,SPR_STONE+11+1
3100+  9F50 18 F4       	JR	STONES
3101+  9F52 FE 05       STONE3	CP	#05
3102+  9F54 38 05       	JR	C,STONE4
3103+  9F56 21 FB AA    	LD	HL,SPR_STONE+11*3+2
3104+  9F59 18 EB       	JR	STONES
3105+  9F5B 21 33 AB    STONE4	LD	HL,SPR_STONE+11*3+11*5+3
3106+  9F5E 18 E6       	JR	STONES
3107+  9F60             
3108+  9F60 7A          L_7CCF	LD	A,D		;  
3109+  9F61 FE 0A       	CP	#0A
3110+  9F63 38 0A       	JR	C,L_7CDX
3111+  9F65 06 0A       	LD	B,#0A
3112+  9F67 21 55 D3    	LD	HL,L_CD36
3113+  9F6A C5          	PUSH	BC
3114+  9F6B 0D          	DEC	C
3115+  9F6C C3 55 A3    	JP	L_9BXX
3116+  9F6F             
3117+  9F6F FE 07       L_7CDX	CP	#07
3118+  9F71 38 0B       	JR	C,L_7CDD
3119+  9F73 06 0A       	LD	B,#0A
3120+  9F75 21 98 D3    	LD	HL,L_CD37
3121+  9F78 C5          	PUSH	BC
3122+  9F79 0D          	DEC	C
3123+  9F7A 0D          	DEC	C
3124+  9F7B C3 55 A3    	JP	L_9BXX
3125+  9F7E             
3126+  9F7E FE 04       L_7CDD	CP	#04
3127+  9F80 38 11       	JR	C,L_7CEA
3128+  9F82 47          	LD	B,A
3129+  9F83 3E 0B       	LD	A,#0B
3130+  9F85 90          	SUB	B
3131+  9F86 C6 05       	ADD	A,5
3132+  9F88 47          	LD	B,A
3133+  9F89             
3134+  9F89 21 28 D4    	LD	HL,L_CDDD
3135+  9F8C C5          	PUSH	BC
3136+  9F8D 0D          	DEC	C
3137+  9F8E 0D          	DEC	C
3138+  9F8F 0D          	DEC	C
3139+  9F90 C3 55 A3    	JP	L_9BXX
3140+  9F93             ;
3141+  9F93 47          L_7CEA	LD	B,A
3142+  9F94 3E 0C       	LD	A,#0C
3143+  9F96 90          	SUB	B
3144+  9F97 C6 02       	ADD	A,2
3145+  9F99 47          	LD	B,A
3146+  9F9A 21 31 D5    	LD	HL,L_CEFC
3147+  9F9D C5          	PUSH	BC
3148+  9F9E 0D          	DEC	C
3149+  9F9F 0D          	DEC	C
3150+  9FA0 0D          	DEC	C
3151+  9FA1 0D          	DEC	C
3152+  9FA2 C3 55 A3    	JP	L_9BXX
3153+  9FA5             
3154+  9FA5 CD D8 90    L_7D41	CALL	L_7270		; some monster nearby?
3155+  9FA8 FE C0       	CP	#C0
3156+  9FAA D8          	RET	C
3157+  9FAB FE D1       	CP	#D1
3158+  9FAD D0          	RET	NC		; no monsters nearby
3159+  9FAE FE D0       	CP	#D0
3160+  9FB0 30 04       	JR	NC,NRBNGOAT	; GOAT or not?
3161+  9FB2 AF          	XOR	A
3162+  9FB3 32 D8 98    	LD	(GOATMUS),A
3163+  9FB6 C3 87 90    NRBNGOAT	JP	DECHEAL		; player's life dec by monster
3164+  9FB9             
3165+  9FB9 42          L_7D4D	LD	B,D
3166+  9FBA CB 38       	SRL	B
3167+  9FBC 3E 0F       	LD	A,#0F
3168+  9FBE 90          	SUB	B
3169+  9FBF 47          	LD	B,A
3170+  9FC0             
3171+  9FC0 7A          	LD	A,D
3172+  9FC1 FE 08       	CP	8
3173+  9FC3 38 10       	JR	C,HEARTH1
3174+  9FC5             
3175+  9FC5 04          HEARTH2	INC	B
3176+  9FC6 21 87 D8    	LD	HL,L_D1CC+178
3177+  9FC9 3A 0A AA    	LD	A,(L_FAAB)
3178+  9FCC A7          	AND	A
3179+  9FCD 20 03       	JR	NZ,HEART2P
3180+  9FCF 21 B4 D8    	LD	HL,L_D1CC+178+45
3181+  9FD2 C3 5A A3    HEART2P	JP	L_9BX0
3182+  9FD5             
3183+  9FD5 21 D5 D7    HEARTH1	LD	HL,L_D1CC
3184+  9FD8 3A 0A AA    	LD	A,(L_FAAB)
3185+  9FDB A7          	AND	A
3186+  9FDC 20 03       	JR	NZ,L_7D60
3187+  9FDE 21 39 D8    	LD	HL,L_D1CC+100
3188+  9FE1 C3 5A A3    L_7D60	JP	L_9BX0
3189+  9FE4             
3190+  9FE4 CD 15 8F    L_7D64	CALL	L_70F0		;   - ?
3191+  9FE7 FE 9E       	CP	#9E
3192+  9FE9 C0          	RET	NZ
3193+  9FEA             
3194+  9FEA CD 8E A4    	CALL	CLEARLINE
3195+  9FED 11 6C DD    	LD	DE,TX63CC
3196+  9FF0 CD EB 84    	CALL	PRINT
3197+  9FF3 11 79 DD    	LD	DE,TFHEALZ
3198+  9FF6 CD EB 84    	CALL	PRINT
3199+  9FF9             
3200+  9FF9 CD 24 8F    	CALL	L_710B
3201+  9FFC 06 32       	LD	B,50
3202+  9FFE 3A 0E AA    	LD	A,(L_FAAF)
3203+  A001 80          	ADD	A,B
3204+  A002 FE 64       	CP	100
3205+  A004 38 02       	JR	C,NOTMAX1
3206+  A006 3E 63       	LD	A,99
3207+  A008 32 0E AA    NOTMAX1	LD	(L_FAAF),A
3208+  A00B CD 52 8F    	CALL	L_7133
3209+  A00E C3 E3 A8    	JP	L_6440
3210+  A011             
3211+  A011             ;==================================================
3212+  A011             ; MONSTER APPROACHING
3213+  A011             ;==================================================
3214+  A011             
3215+  A011 2A 02 AA    L_7D98	LD	HL,(L_FAA3)	; player pos
3216+  A014 7E          	LD	A,(HL)		; map's byte
3217+  A015 A7          	AND	A
3218+  A016 C8          	RET	Z
3219+  A017 FE 03       	CP	3
3220+  A019 28 30       	JR	Z,APRGOATS
3221+  A01B FE 01       	CP	1		; 1,2 - id  
3222+  A01D 28 0B       	JR	Z,APRMON1
3223+  A01F FE 02       	CP	2
3224+  A021 C0          	RET	NZ
3225+  A022             
3226+  A022 3E F1       	LD	A,-15
3227+  A024 32 95 A0    	LD	(MON_LR+1),A
3228+  A027 3C          	INC	A
3229+  A028 18 06       	JR	APRMOXX
3230+  A02A 3E 0F       APRMON1	LD	A,15
3231+  A02C 32 95 A0    	LD	(MON_LR+1),A
3232+  A02F 3D          	DEC	A
3233+  A030 32 AA A0    APRMOXX	LD	(MON_TD+1),A
3234+  A033 3E 07       	LD	A,#07		; set the lifes
3235+  A035 32 0C AA    	LD	(L_FAAD),A	; of current monster
3236+  A038 CD 6A A0    	CALL	APRMON
3237+  A03B 22 08 AA    	LD	(L_FAA9),HL
3238+  A03E CD 8E A4    	CALL	CLEARLINE
3239+  A041 AF          	XOR	A
3240+  A042 32 08 98    	LD	(MONCOLR+1),A
3241+  A045 11 A0 DD    	LD	DE,TX647B	; 'monster approaching'
3242+  A048 C3 EB 84    	JP	PRINT
3243+  A04B             
3244+  A04B 3E 0F       APRGOATS	LD	A,15		;  
3245+  A04D 32 95 A0    	LD	(MON_LR+1),A	;   
3246+  A050 CD 6A A0    	CALL	APRMON
3247+  A053 EB          	EX	DE,HL		; pos -> DE
3248+  A054 15          	DEC	D
3249+  A055 CD 0C 8C    	CALL	SETGOAT0
3250+  A058 1C          	INC	E
3251+  A059 1C          	INC	E
3252+  A05A 1C          	INC	E
3253+  A05B CD 10 8C    	CALL	SETGOAT
3254+  A05E 14          	INC	D
3255+  A05F 14          	INC	D
3256+  A060 1C          	INC	E
3257+  A061 CD 10 8C    	CALL	SETGOAT
3258+  A064 1D          	DEC	E
3259+  A065 1D          	DEC	E
3260+  A066 1D          	DEC	E
3261+  A067 C3 10 8C    	JP	SETGOAT
3262+  A06A             
3263+  A06A             APRMON	;--  
3264+  A06A             	;--    --
3265+  A06A E5          	PUSH	HL
3266+  A06B 7E          	LD	A,(HL)
3267+  A06C 2C          	INC	L
3268+  A06D BE          	CP	(HL)
3269+  A06E 28 29       	JR	Z,MDEL_H
3270+  A070 2D          	DEC	L
3271+  A071 2D          	DEC	L
3272+  A072 BE          	CP	(HL)
3273+  A073 28 24       	JR	Z,MDEL_H
3274+  A075 2C          	INC	L
3275+  A076 24          	INC	H
3276+  A077 BE          	CP	(HL)
3277+  A078 28 0A       	JR	Z,MDEL_V
3278+  A07A 25          	DEC	H
3279+  A07B 25          	DEC	H
3280+  A07C BE          	CP	(HL)
3281+  A07D 28 05       	JR	Z,MDEL_V
3282+  A07F E1          	POP	HL		;    
3283+  A080 21 00 00    	LD	HL,#0000
3284+  A083 C9          	RET
3285+  A084             
3286+  A084 25          MDEL_V	DEC	H
3287+  A085 BE          	CP	(HL)
3288+  A086 20 02       	JR	NZ,MDEL_V1
3289+  A088 18 FA       	JR	MDEL_V
3290+  A08A 24          MDEL_V1	INC	H
3291+  A08B BE          	CP	(HL)
3292+  A08C 20 04       	JR	NZ,MDEL_V2
3293+  A08E 36 00       	LD	(HL),0
3294+  A090 18 F8       	JR	MDEL_V1
3295+  A092 E1          MDEL_V2	POP	HL
3296+  A093 7D          	LD	A,L
3297+  A094 C6 0F       MON_LR	ADD	A,15
3298+  A096 6F          	LD	L,A
3299+  A097 18 13       	JR	SETMONTOEMPTY
3300+  A099             
3301+  A099 2D          MDEL_H	DEC	L
3302+  A09A BE          	CP	(HL)
3303+  A09B 20 02       	JR	NZ,MDEL_H1
3304+  A09D 18 FA       	JR	MDEL_H
3305+  A09F 2C          MDEL_H1	INC	L
3306+  A0A0 BE          	CP	(HL)
3307+  A0A1 20 04       	JR	NZ,MDEL_H2
3308+  A0A3 36 00       	LD	(HL),0
3309+  A0A5 18 F8       	JR	MDEL_H1
3310+  A0A7 E1          MDEL_H2	POP	HL
3311+  A0A8 7C          	LD	A,H
3312+  A0A9 C6 0E       MON_TD	ADD	A,14
3313+  A0AB 67          	LD	H,A
3314+  A0AC             
3315+  A0AC             SETMONTOEMPTY
3316+  A0AC AF          	XOR	A
3317+  A0AD BE          SMTE1	CP	(HL)
3318+  A0AE C8          	RET	Z
3319+  A0AF 2D          	DEC	L	;  
3320+  A0B0 18 FB       	JR	SMTE1	;   
3321+  A0B2             
3322+  A0B2             ;==================================================
3323+  A0B2             
3324+  A0B2 3E 47       L_7DDX	LD	A,7+64
3325+  A0B4 32 2F A4    	LD	(SPRCOLR),A
3326+  A0B7 CD BF A0    	CALL	L_7DD6
3327+  A0BA AF          	XOR	A
3328+  A0BB 32 2F A4    	LD	(SPRCOLR),A
3329+  A0BE C9          	RET
3330+  A0BF             
3331+  A0BF 7A          L_7DD6	LD	A,D		;  
3332+  A0C0 FE 0A       	CP	#0A
3333+  A0C2 D0          	RET	NC
3334+  A0C3 47          	LD	B,A
3335+  A0C4 CB 3F       	SRL	A
3336+  A0C6 3E 12       	LD	A,#12
3337+  A0C8 90          	SUB	B
3338+  A0C9 47          	LD	B,A
3339+  A0CA 21 E1 D8    	LD	HL,L_D289
3340+  A0CD AF          	XOR	A
3341+  A0CE CD 5A A3    	CALL	L_9BX0
3342+  A0D1             
3343+  A0D1 CD 15 8F    	CALL	L_70F0		;   ?
3344+  A0D4 FE 9D       	CP	#9D		;  2?
3345+  A0D6 28 2C       	JR	Z,GETKEY2
3346+  A0D8 FE 9C       	CP	#9C		;  1?
3347+  A0DA C0          	RET	NZ
3348+  A0DB             
3349+  A0DB 01 1F 0C    	LD	BC,#0C1F
3350+  A0DE 21 E1 D8    	LD	HL,L_D289
3351+  A0E1 CD 5A A4    	CALL	DRAWSPR_REAL
3352+  A0E4             
3353+  A0E4 3A 0B AA    	LD	A,(L_KEYS)	;   1
3354+  A0E7 CB C7       	SET	0,A
3355+  A0E9 32 0B AA    GETKEYA	LD	(L_KEYS),A
3356+  A0EC C5          	PUSH	BC
3357+  A0ED CD E3 A8    	CALL	L_6440
3358+  A0F0 CD 8E A4    	CALL	CLEARLINE
3359+  A0F3 11 6C DD    	LD	DE,TX63CC
3360+  A0F6 CD EB 84    	CALL	PRINT
3361+  A0F9 11 8D DD    	LD	DE,TX63E2
3362+  A0FC CD EB 84    	CALL	PRINT
3363+  A0FF CD 24 8F    	CALL	L_710B
3364+  A102 C1          	POP	BC
3365+  A103 C9          	RET
3366+  A104             
3367+  A104 01 1F 0F    GETKEY2	LD	BC,#0F1F
3368+  A107 21 E1 D8    	LD	HL,L_D289
3369+  A10A 3E 47       	LD	A,7+64
3370+  A10C 32 2F A4    	LD	(SPRCOLR),A
3371+  A10F CD 5A A4    	CALL	DRAWSPR_REAL
3372+  A112 AF          	XOR	A
3373+  A113 32 2F A4    	LD	(SPRCOLR),A
3374+  A116             
3375+  A116 3A 0B AA    	LD	A,(L_KEYS)	;   2
3376+  A119 CB CF       	SET	1,A
3377+  A11B 18 CC       	JR	GETKEYA
3378+  A11D             
3379+  A11D             ;==================================================
3380+  A11D             
3381+  A11D             OPEN_DOORS
3382+  A11D 3A 0B AA    	LD	A,(L_KEYS)
3383+  A120 A7          	AND	A
3384+  A121 C8          	RET	Z
3385+  A122 CB 5F       	BIT	3,A
3386+  A124 20 09       	JR	NZ,OPEN_DOOR1
3387+  A126 CB 67       	BIT	4,A
3388+  A128 20 0E       	JR	NZ,OPEN_DOOR2
3389+  A12A CB 6F       	BIT	5,A
3390+  A12C 20 13       	JR	NZ,OPEN_DOOR3
3391+  A12E C9          	RET
3392+  A12F             
3393+  A12F             OPEN_DOOR1
3394+  A12F CD A4 8C    	CALL	CLEARKEY1
3395+  A132 16 F6       	LD	D,%11110110
3396+  A134 1E 67       	LD	E,#67
3397+  A136 18 10       	JR	OPDOORS
3398+  A138             OPEN_DOOR2
3399+  A138 CD 9F 8C    	CALL	CLEARKEY2
3400+  A13B 16 ED       	LD	D,%11101101
3401+  A13D 1E 68       	LD	E,#68
3402+  A13F 18 07       	JR	OPDOORS
3403+  A141             OPEN_DOOR3
3404+  A141 CD 9A 8C    	CALL	CLEARKEY3
3405+  A144 16 DB       	LD	D,%11011011
3406+  A146 1E 6A       	LD	E,#6A
3407+  A148 C5          OPDOORS	PUSH	BC
3408+  A149 21 00 E0    	LD	HL,L_UMAP
3409+  A14C 01 00 1E    	LD	BC,#1E00
3410+  A14F 7E          OPDOOR2	LD	A,(HL)
3411+  A150 BB          	CP	E
3412+  A151 28 0F       	JR	Z,OPDOOR1
3413+  A153 23          	INC	HL
3414+  A154 0B          	DEC	BC
3415+  A155 78          	LD	A,B
3416+  A156 B1          	OR	C
3417+  A157 20 F6       	JR	NZ,OPDOOR2
3418+  A159 C1          	POP	BC
3419+  A15A 3A 0B AA    	LD	A,(L_KEYS)
3420+  A15D A2          	AND	D
3421+  A15E 32 0B AA    	LD	(L_KEYS),A
3422+  A161 C9          	RET
3423+  A162             
3424+  A162 01 26 26    OPDOOR1	LD	BC,#2626
3425+  A165 CD 06 A9    	CALL	FXBEEP
3426+  A168 C1          	POP	BC
3427+  A169 36 00       	LD	(HL),0
3428+  A16B 23          	INC	HL
3429+  A16C 7E          	LD	A,(HL)
3430+  A16D BB          	CP	E
3431+  A16E 20 03       	JR	NZ,OPDOORH
3432+  A170 36 00       	LD	(HL),0
3433+  A172 C9          	RET
3434+  A173 2B          OPDOORH	DEC	HL
3435+  A174 24          	INC	H
3436+  A175 7E          	LD	A,(HL)
3437+  A176 BB          	CP	E
3438+  A177 C0          	RET	NZ
3439+  A178 36 00       	LD	(HL),0
3440+  A17A C9          	RET
3441+  A17B             
3442+  A17B             DOOR_OPEN_BEGIN
3443+  A17B D6 66       	SUB	#66		; #67,68,70 --> 1,2,4
3444+  A17D 5F          	LD	E,A		; store
3445+  A17E 3E 01       DOORVIS	LD	A,1		; (var)
3446+  A180 3C          	INC	A
3447+  A181 32 7F A1    	LD	(DOORVIS+1),A
3448+  A184 FE 10       	CP	16
3449+  A186 D8          	RET	C
3450+  A187 3A 0B AA    	LD	A,(L_KEYS)
3451+  A18A 47          	LD	B,A		; store
3452+  A18B A3          	AND	E		; door same as key
3453+  A18C A7          	AND	A		; key=0?
3454+  A18D C8          	RET	Z
3455+  A18E CB 47       	BIT	0,A
3456+  A190 20 09       	JR	NZ,OBEDUR1
3457+  A192 CB 4F       	BIT	1,A
3458+  A194 20 0A       	JR	NZ,OBEDUR2
3459+  A196 CB 57       	BIT	2,A
3460+  A198 20 0B       	JR	NZ,OBEDUR3
3461+  A19A C9          	RET
3462+  A19B 78          OBEDUR1	LD	A,B
3463+  A19C CB DF       	SET	3,A
3464+  A19E 18 08       	JR	OBEDURS
3465+  A1A0 78          OBEDUR2	LD	A,B
3466+  A1A1 CB E7       	SET	4,A
3467+  A1A3 18 03       	JR	OBEDURS
3468+  A1A5 78          OBEDUR3	LD	A,B
3469+  A1A6 CB EF       	SET	5,A
3470+  A1A8 32 0B AA    OBEDURS	LD	(L_KEYS),A
3471+  A1AB C9          	RET
3472+  A1AC             
3473+  A1AC CD 7B A1    L_7EX1	CALL	DOOR_OPEN_BEGIN
3474+  A1AF 3E 05       	LD	A,5		; color of door 1
3475+  A1B1 18 0C       	JR	L_7EX
3476+  A1B3 CD 7B A1    L_7EX2	CALL	DOOR_OPEN_BEGIN
3477+  A1B6 3E 47       	LD	A,7+64		; color of door 2
3478+  A1B8 18 05       	JR	L_7EX
3479+  A1BA             
3480+  A1BA CD 7B A1    L_7E1F	CALL	DOOR_OPEN_BEGIN
3481+  A1BD             
3482+  A1BD 3E 46       	LD	A,64+6		; ====  ====
3483+  A1BF 32 86 96    L_7EX	LD	(WALCLR+1),A
3484+  A1C2 CD B4 94    	CALL	WAL1CLR		; temp color for 'white' wall sprites
3485+  A1C5             
3486+  A1C5 06 08       	LD	B,#08
3487+  A1C7 7A          	LD	A,D
3488+  A1C8 FE 0D       	CP	13
3489+  A1CA 28 40       	JR	Z,DOORD13
3490+  A1CC FE 0C       	CP	12
3491+  A1CE 28 34       	JR	Z,DOORD12
3492+  A1D0 FE 0B       	CP	11
3493+  A1D2 28 26       	JR	Z,DOORD11
3494+  A1D4             
3495+  A1D4 21 BE 96    	LD	HL,WALPAT3
3496+  A1D7 22 31 96    	LD	(CALWAL1+1),HL
3497+  A1DA 22 A1 96    	LD	(CALWAL2+1),HL
3498+  A1DD             
3499+  A1DD 3E 0D       	LD	A,13
3500+  A1DF 92          	SUB	D
3501+  A1E0 CB 3F       	SRL	A
3502+  A1E2 3C          	INC	A
3503+  A1E3 47          	LD	B,A
3504+  A1E4 7A          	LD	A,D
3505+  A1E5 FE 06       	CP	6
3506+  A1E7 30 05       	JR	NC,DDOOR1
3507+  A1E9 3E 06       	LD	A,6
3508+  A1EB 92          	SUB	D
3509+  A1EC 80          	ADD	A,B
3510+  A1ED 47          	LD	B,A
3511+  A1EE 7A          DDOOR1	LD	A,D
3512+  A1EF CB 3F       	SRL	A
3513+  A1F1 CD C4 95    	CALL	WALL
3514+  A1F4 3A F8 A9    WAL1RES	LD	A,(V_WLCLR)	; restore color
3515+  A1F7 C3 B4 94    	JP	WAL1CLR		; of 'white' wall
3516+  A1FA             
3517+  A1FA 06 07       DOORD11	LD	B,#07		;   11
3518+  A1FC 21 B3 B4    	LD	HL,L_9D17
3519+  A1FF CD 5A A3    	CALL	L_9BX0
3520+  A202 18 F0       	JR	WAL1RES
3521+  A204 21 EB B4    DOORD12	LD	HL,L_9D4F
3522+  A207 CD 5A A3    	CALL	L_9BX0
3523+  A20A 18 E8       	JR	WAL1RES
3524+  A20C 21 0D B5    DOORD13	LD	HL,L_9D71
3525+  A20F CD 5A A3    	CALL	L_9BX0
3526+  A212 18 E0       	JR	WAL1RES
3527+  A214             
3528+  A214 7A          L_7E40	LD	A,D		;====  ====
3529+  A215 FE 07       	CP	#07
3530+  A217 38 20       	JR	C,L_7E66
3531+  A219 21 90 D7    	LD	HL,L_D187
3532+  A21C 3A 07 AA    	LD	A,(L_FAA8)
3533+  A21F FE 01       	CP	#01
3534+  A221 20 02       	JR	NZ,L_7E51
3535+  A223 06 08       	LD	B,#08
3536+  A225 FE 02       L_7E51	CP	#02
3537+  A227 20 02       	JR	NZ,L_7E57
3538+  A229 06 0A       	LD	B,#0A
3539+  A22B FE 03       L_7E57	CP	#03
3540+  A22D 20 02       	JR	NZ,L_7E5D
3541+  A22F 06 0C       	LD	B,#0C
3542+  A231 FE 04       L_7E5D	CP	#04
3543+  A233 CA 7D A2    	JP	Z,L_7EAC
3544+  A236 C3 5A A3    	JP	L_9BX0
3545+  A239             
3546+  A239 FE 03       L_7E66	CP	#03
3547+  A23B 38 20       	JR	C,L_7E8B
3548+  A23D 21 9C D7    	LD	HL,L_D193
3549+  A240 3A 07 AA    	LD	A,(L_FAA8)
3550+  A243 FE 01       	CP	#01
3551+  A245 20 02       	JR	NZ,L_7E76
3552+  A247 06 05       	LD	B,#05
3553+  A249 FE 02       L_7E76	CP	#02
3554+  A24B 20 02       	JR	NZ,L_7E7C
3555+  A24D 06 09       	LD	B,#09
3556+  A24F FE 03       L_7E7C	CP	#03
3557+  A251 20 02       	JR	NZ,L_7E82
3558+  A253 06 0E       	LD	B,#0E
3559+  A255 FE 04       L_7E82	CP	#04
3560+  A257 CA 7D A2    	JP	Z,L_7EAC
3561+  A25A C3 5A A3    	JP	L_9BX0
3562+  A25D             
3563+  A25D 21 B3 D7    L_7E8B	LD	HL,L_D1AA
3564+  A260 3A 07 AA    	LD	A,(L_FAA8)
3565+  A263 FE 01       	CP	#01
3566+  A265 20 02       	JR	NZ,L_7E97
3567+  A267 06 03       	LD	B,#03
3568+  A269 FE 02       L_7E97	CP	#02
3569+  A26B 20 02       	JR	NZ,L_7E9D
3570+  A26D 06 09       	LD	B,#09
3571+  A26F FE 03       L_7E9D	CP	#03
3572+  A271 20 02       	JR	NZ,L_7EA3
3573+  A273 06 0F       	LD	B,#0F
3574+  A275 FE 04       L_7EA3	CP	#04
3575+  A277 CA 7D A2    	JP	Z,L_7EAC
3576+  A27A C3 5A A3    	JP	L_9BX0
3577+  A27D             ;
3578+  A27D 06 1E       L_7EAC	LD	B,#1E
3579+  A27F CD E5 A8    	CALL	L_6442
3580+  A282 CD 15 8F    	CALL	L_70F0
3581+  A285 FE A2       	CP	#A2
3582+  A287 C0          	RET	NZ
3583+  A288 C3 87 90    	JP	DECHEAL
3584+  A28B             
3585+  A28B 7A          L_7ECC	LD	A,D		; ===== HAND ON THE WALL (QUAKE sign, , ) ====
3586+  A28C 06 0A       	LD	B,#0A
3587+  A28E FE 0B       	CP	11
3588+  A290 38 08       	JR	C,L_7EDX
3589+  A292 21 F8 D8    	LD	HL,L_D35X
3590+  A295 CD 5A A3    	CALL	L_9BX0
3591+  A298 18 1E       	JR	L_7EF0
3592+  A29A             
3593+  A29A FE 08       L_7EDX	CP	#08
3594+  A29C 38 08       	JR	C,L_7EDC
3595+  A29E 21 04 D9    	LD	HL,L_D35C
3596+  A2A1 CD 5A A3    	CALL	L_9BX0
3597+  A2A4 18 12       	JR	L_7EF0
3598+  A2A6             
3599+  A2A6 FE 05       L_7EDC	CP	#05
3600+  A2A8 38 08       	JR	C,L_7EE9
3601+  A2AA 21 31 D9    	LD	HL,L_D389
3602+  A2AD CD 5A A3    	CALL	L_9BX0
3603+  A2B0 18 06       	JR	L_7EF0
3604+  A2B2             
3605+  A2B2 21 95 D9    L_7EE9	LD	HL,L_D3ED
3606+  A2B5 CD 5A A3    	CALL	L_9BX0
3607+  A2B8 CD 15 8F    L_7EF0	CALL	L_70F0		;   ?
3608+  A2BB FE 9B       	CP	#9B		;     ?
3609+  A2BD C0          	RET	NZ
3610+  A2BE CD E3 A8    	CALL	L_6440		; 'get' sound fx
3611+  A2C1 CD 24 8F    	CALL	L_710B		; delete object
3612+  A2C4             
3613+  A2C4 3A 16 AA    	LD	A,(L_FAB7)	;   
3614+  A2C7 3C          	INC	A
3615+  A2C8 32 16 AA    	LD	(L_FAB7),A
3616+  A2CB FE 01       	CP	1
3617+  A2CD 28 0F       	JR	Z,DRWSGN1
3618+  A2CF             
3619+  A2CF 01 1F 0B    	LD	BC,#0B1F
3620+  A2D2 CD E1 A2    	CALL	DRWSGN
3621+  A2D5             
3622+  A2D5 3A 0B AA    	LD	A,(L_KEYS)	;   3 (= )
3623+  A2D8 CB D7       	SET	2,A
3624+  A2DA 32 0B AA    	LD	(L_KEYS),A
3625+  A2DD C9          	RET
3626+  A2DE             
3627+  A2DE 01 1F 09    DRWSGN1	LD	BC,#091F
3628+  A2E1 21 F8 D8    DRWSGN	LD	HL,L_D35X
3629+  A2E4 C3 5A A4    	JP	DRAWSPR_REAL
3630+  A2E7             
3631+  A2E7 CD 15 8F    L_7F30	CALL	L_70F0		; FOUND ARMORS
3632+  A2EA FE 93       	CP	#93
3633+  A2EC C0          	RET	NZ
3634+  A2ED 06 32       	LD	B,50
3635+  A2EF 3A 0F AA    	LD	A,(L_FAB0)
3636+  A2F2 80          	ADD	A,B
3637+  A2F3 FE 64       	CP	100
3638+  A2F5 38 02       	JR	C,NOTMAX2
3639+  A2F7 3E 63       	LD	A,99
3640+  A2F9 32 0F AA    NOTMAX2	LD	(L_FAB0),A
3641+  A2FC FE C9       	CP	#C9
3642+  A2FE 38 05       	JR	C,L_7F48
3643+  A300 3E C8       	LD	A,#C8
3644+  A302 32 0F AA    	LD	(L_FAB0),A
3645+  A305 CD 8E A4    L_7F48	CALL	CLEARLINE
3646+  A308 11 82 DD    	LD	DE,TX63D9
3647+  A30B CD EB 84    	CALL	PRINT
3648+  A30E 11 6C DD    	LD	DE,TX63CC
3649+  A311 CD EB 84    	CALL	PRINT
3650+  A314 CD 24 8F    	CALL	L_710B
3651+  A317 CD E3 A8    	CALL	L_6440
3652+  A31A C3 52 8F    	JP	L_7133
3653+  A31D             
3654+  A31D 4F          L_7FB0	LD	C,A
3655+  A31E 21 00 00    	LD	HL,#0000
3656+  A321 22 FE A9    	LD	(L_FA9F),HL
3657+  A324 22 FF A9    	LD	(L_FAA0),HL	; (it's for FAA1)
3658+  A327             
3659+  A327 CB 41       	BIT	0,C
3660+  A329 28 05       	JR	Z,NOTB0
3661+  A32B 3E 01       	LD	A,1
3662+  A32D 32 FE A9    	LD	(L_FA9F),A
3663+  A330 CB 49       NOTB0	BIT	1,C
3664+  A332 28 05       	JR	Z,NOTB1
3665+  A334 3E 02       	LD	A,2
3666+  A336 32 FE A9    	LD	(L_FA9F),A
3667+  A339 CB 51       NOTB1	BIT	2,C
3668+  A33B 28 05       	JR	Z,NOTB2
3669+  A33D 3E 02       	LD	A,2
3670+  A33F 32 FF A9    	LD	(L_FAA0),A
3671+  A342 CB 59       NOTB2	BIT	3,C
3672+  A344 28 05       	JR	Z,NOTB3
3673+  A346 3E 01       	LD	A,1
3674+  A348 32 FF A9    	LD	(L_FAA0),A
3675+  A34B CB 61       NOTB3	BIT	4,C
3676+  A34D 28 05       	JR	Z,NOTB4
3677+  A34F 3E 01       	LD	A,1
3678+  A351 32 00 AA    	LD	(L_FAA1),A
3679+  A354             NOTB4
3680+  A354 C9          	RET
3681+  A355             
3682+  A355             ;==================================================
3683+  A355             ; DRAW SPRITES
3684+  A355             ;==================================================
3685+  A355             
3686+  A355 CD 5A A3    L_9BXX	CALL	L_9BX0	; only for JPs!
3687+  A358 C1          	POP	BC	; no CALLs!
3688+  A359 C9          	RET
3689+  A35A             
3690+  A35A 05          L_9BX0	DEC	B
3691+  A35B 05          	DEC	B	; and next DRAWSPR
3692+  A35C             
3693+  A35C             	INCLUDE "Qsprt.txt"
0001++ A35C             ;--------------------------------------------------------
0002++ A35C             
0003++ A35C             ; in:	HL = sprite set address
0004++ A35C             ;	BC = coords
0005++ A35C             ;	(SPRDIR) = mirror marker
0006++ A35C             ;--------------------------------------------------------
0007++ A35C             
0008++ A35C AF          DRAWSPR	XOR	A
0009++ A35D 32 F7 A3    DRWSPRA	LD	(SPMOD1),A
0010++ A360 32 05 A4    	LD	(SPMOD2),A
0011++ A363             
0012++ A363 D9          	EXX
0013++ A364 21 F4 A3    	LD	HL,SPRBLOCK_NOMIR
0014++ A367 A7          	AND	A		; mode = NOP?
0015++ A368 20 03       	JR	NZ,SPRNOP1
0016++ A36A 21 0C A4    	LD	HL,SPRBLOCK_NOMIR_NOP
0017++ A36D 11 00 00    SPRNOP1	LD	DE,#0000	; code of NOP: NOP
0018++ A370 3A 2E A4    	LD	A,(SPRDIR)
0019++ A373 A7          	AND	A		; CP 0
0020++ A374 28 06       	JR	Z,NOMIR1
0021++ A376 21 FE A3    	LD	HL,SPRBLOCK_MIR
0022++ A379 11 ED 44    	LD	DE,#44ED	; code of NEG (#ED44)
0023++ A37C 22 C6 A3    NOMIR1	LD	(SPMOD3+1),HL
0024++ A37F ED 53 BB A3 	LD	(SPMOD5),DE
0025++ A383 21 00 73    	LD	HL,MIRTAB
0026++ A386 D9          	EXX
0027++ A387             
0028++ A387 3A 2D A4    	LD	A,(SPRMAXY)
0029++ A38A 32 A6 A3    	LD	(SPMOD7+1),A
0030++ A38D             
0031++ A38D E5          	PUSH	HL
0032++ A38E 7E          	LD	A,(HL)
0033++ A38F 23          	INC	HL
0034++ A390 A7          	AND	A		;  0 
0035++ A391 CA F1 A3    	JP	Z,NOSPR
0036++ A394             
0037++ A394 E5          	PUSH	HL
0038++ A395 6F          	LD	L,A
0039++ A396 26 00       	LD	H,0
0040++ A398 5D          	LD	E,L
0041++ A399 54          	LD	D,H
0042++ A39A 29          	ADD	HL,HL
0043++ A39B 19          	ADD	HL,DE
0044++ A39C D1          	POP	DE
0045++ A39D 19          	ADD	HL,DE
0046++ A39E EB          	EX	DE,HL
0047++ A39F F5          PTBL1	PUSH	AF
0048++ A3A0 C5          	PUSH	BC
0049++ A3A1 7E          	LD	A,(HL)
0050++ A3A2 23          	INC	HL
0051++ A3A3 E5          	PUSH	HL
0052++ A3A4 80          	ADD	A,B
0053++ A3A5 FE 00       SPMOD7	CP	0		; max Y coord (self-mod)
0054++ A3A7 30 40       	JR	NC,PTBL4
0055++ A3A9             
0056++ A3A9 D5          	PUSH	DE
0057++ A3AA             	;--------------------------
0058++ A3AA             	; like "3742" routine
0059++ A3AA             	; in: A=Line; out: HL=addr
0060++ A3AA             	;--------------------------
0061++ A3AA 57          	LD	D,A
0062++ A3AB 0F          	RRCA
0063++ A3AC 0F          	RRCA
0064++ A3AD 0F          	RRCA
0065++ A3AE E6 E0       	AND	#E0
0066++ A3B0 6F          	LD	L,A
0067++ A3B1 7A          	LD	A,D
0068++ A3B2 E6 18       	AND	#18
0069++ A3B4 F6 40       ADRHI1	OR	#40	; (GLOBAL Self-mod!) scr addr hi
0070++ A3B6 67          	LD	H,A
0071++ A3B7             	;--------------------------
0072++ A3B7 D1          	POP	DE
0073++ A3B8             
0074++ A3B8 E3          	EX	(SP),HL
0075++ A3B9 7E          	LD	A,(HL)
0076++ A3BA E3          	EX	(SP),HL
0077++ A3BB             
0078++ A3BB ED 44       SPMOD5	NEG			; self-mod NEG / NOP: NOP
0079++ A3BD             
0080++ A3BD 81          	ADD	A,C
0081++ A3BE FE 1E       SPXLIM	CP	30		; (mod 32/30 for real/virt)
0082++ A3C0 30 27       	JR	NC,PTBL4
0083++ A3C2 85          	ADD	A,L
0084++ A3C3 6F          	LD	L,A
0085++ A3C4 E5          	PUSH	HL
0086++ A3C5             
0087++ A3C5 CD FE A3    SPMOD3	CALL	SPRBLOCK_MIR	; self-mod
0088++ A3C8             
0089++ A3C8 C1          	POP	BC		; begin attr section
0090++ A3C9 78          	LD	A,B
0091++ A3CA E6 18       	AND	#18
0092++ A3CC CB 2F       	SRA	A
0093++ A3CE CB 2F       	SRA	A
0094++ A3D0 CB 2F       	SRA	A
0095++ A3D2 C6 58       ADRHI2	ADD	A,#58	; (GLOBAL Self-mod!) attr hi
0096++ A3D4 47          	LD	B,A
0097++ A3D5 E1          	POP	HL
0098++ A3D6 3A 2F A4    	LD	A,(SPRCOLR)	;   
0099++ A3D9 A7          	AND	A		;   0
0100++ A3DA 20 03       	JR	NZ,SPSETCL	;    
0101++ A3DC 23          	INC	HL
0102++ A3DD 7E          	LD	A,(HL)
0103++ A3DE 2B          	DEC	HL
0104++ A3DF 02          SPSETCL	LD	(BC),A		; set color attr
0105++ A3E0             
0106++ A3E0 C1          PTBL3	POP	BC
0107++ A3E1 F1          	POP	AF
0108++ A3E2 23          	INC	HL
0109++ A3E3 23          	INC	HL
0110++ A3E4 3D          	DEC	A
0111++ A3E5 20 B8       	JR	NZ,PTBL1
0112++ A3E7 E1          	POP	HL
0113++ A3E8 C9          	RET
0114++ A3E9             
0115++ A3E9 21 08 00    PTBL4	LD	HL,8
0116++ A3EC 19          	ADD	HL,DE
0117++ A3ED EB          	EX	DE,HL
0118++ A3EE E1          	POP	HL
0119++ A3EF 18 EF       	JR	PTBL3
0120++ A3F1             
0121++ A3F1 EB          NOSPR	EX	DE,HL		; next data -> DE
0122++ A3F2 E1          	POP	HL
0123++ A3F3 C9          	RET
0124++ A3F4             
0125++ A3F4             SPRBLOCK_NOMIR
0126++ A3F4 06 08       	LD	B,8
0127++ A3F6 1A          PTBL5	LD	A,(DE)
0128++ A3F7 00          SPMOD1	NOP
0129++ A3F8 77          	LD	(HL),A
0130++ A3F9 13          	INC	DE
0131++ A3FA 24          	INC	H
0132++ A3FB 10 F9       	DJNZ	PTBL5
0133++ A3FD C9          	RET
0134++ A3FE             
0135++ A3FE             SPRBLOCK_MIR
0136++ A3FE 06 08       	LD	B,8
0137++ A400 1A          PTBL2	LD	A,(DE)
0138++ A401 D9          	EXX		;   HL  MIRROR TABLE
0139++ A402 6F          	LD    L,A
0140++ A403 7E          	LD    A,(HL)
0141++ A404 D9          	EXX
0142++ A405 00          SPMOD2	NOP
0143++ A406 77          	LD	(HL),A
0144++ A407 13          	INC	DE
0145++ A408 24          	INC	H
0146++ A409 10 F5       	DJNZ	PTBL2
0147++ A40B C9          	RET
0148++ A40C             
0149++ A40C             SPRBLOCK_NOMIR_NOP
0150++ A40C             ;  :   ,   ,
0151++ A40C             ;    ( DUP    NOP)
0152++ A40C             	DUP 8
0153++ A40C 1A          >	LD	A,(DE)
0154++ A40D 77          >	LD	(HL),A
0155++ A40E 13          >	INC	DE
0156++ A40F 24          >	INC	H
0153++ A410 1A          >	LD	A,(DE)
0154++ A411 77          >	LD	(HL),A
0155++ A412 13          >	INC	DE
0156++ A413 24          >	INC	H
0153++ A414 1A          >	LD	A,(DE)
0154++ A415 77          >	LD	(HL),A
0155++ A416 13          >	INC	DE
0156++ A417 24          >	INC	H
0153++ A418 1A          >	LD	A,(DE)
0154++ A419 77          >	LD	(HL),A
0155++ A41A 13          >	INC	DE
0156++ A41B 24          >	INC	H
0153++ A41C 1A          >	LD	A,(DE)
0154++ A41D 77          >	LD	(HL),A
0155++ A41E 13          >	INC	DE
0156++ A41F 24          >	INC	H
0153++ A420 1A          >	LD	A,(DE)
0154++ A421 77          >	LD	(HL),A
0155++ A422 13          >	INC	DE
0156++ A423 24          >	INC	H
0153++ A424 1A          >	LD	A,(DE)
0154++ A425 77          >	LD	(HL),A
0155++ A426 13          >	INC	DE
0156++ A427 24          >	INC	H
0153++ A428 1A          >	LD	A,(DE)
0154++ A429 77          >	LD	(HL),A
0155++ A42A 13          >	INC	DE
0156++ A42B 24          >	INC	H
0158++ A42C C9          	RET
0159++ A42D             
0160++ A42D             ;---------------------------------------------------------
0161++ A42D             
0162++ A42D             
0163++ A42D 18          SPRMAXY	DEFB	24	; (var) Y >= SPRMAXY don't printed
0164++ A42E 00          SPRDIR	DEFB	0	;  
0165++ A42F 00          SPRCOLR	DEFB	0	;    (>0)
0166++ A430             
0167++ A430             SPRPUT	EQU	0
0168++ A430             SPROR	EQU	#B6	; code of  OR (HL)
0169++ A430             SPRAND	EQU	#A6	; code of AND (HL)
0170++ A430             SPRXOR	EQU	#AE	; code of XOR (HL)
0171++ A430             
0172++ A430             ;---------------------------------------------------------
0173++ A430             ;   /  
0174++ A430             ;---------------------------------------------------------
0175++ A430             
0176++ A430             SETSCREEN_REAL
0177++ A430 3E 20       	LD	A,32
0178++ A432 32 BF A3    	LD	(SPXLIM+1),A
0179++ A435 3E 18       	LD	A,24
0180++ A437 32 2D A4    	LD	(SPRMAXY),A
0181++ A43A             	;     
0182++ A43A 3E 40       	LD	A,#40
0183++ A43C 32 B5 A3    	LD	(ADRHI1+1),A
0184++ A43F 3E 58       	LD	A,#58
0185++ A441 32 D3 A3    	LD	(ADRHI2+1),A
0186++ A444 C9          	RET
0187++ A445             
0188++ A445             SETSCREEN_VIRTUAL
0189++ A445 3E 1E       	LD	A,30
0190++ A447 32 BF A3    	LD	(SPXLIM+1),A
0191++ A44A 3E 10       	LD	A,16
0192++ A44C 32 2D A4    	LD	(SPRMAXY),A
0193++ A44F             	;     
0194++ A44F 3E 60       	LD	A,VSCRHI
0195++ A451 32 B5 A3    	LD	(ADRHI1+1),A
0196++ A454 3E 70       	LD	A,VATRHI
0197++ A456 32 D3 A3    	LD	(ADRHI2+1),A
0198++ A459 C9          	RET
0199++ A45A             
3694+  A45A             
3695+  A45A             DRAWSPR_REAL
3696+  A45A E5          	PUSH	HL
3697+  A45B CD 30 A4    	CALL	SETSCREEN_REAL
3698+  A45E E1          	POP	HL
3699+  A45F AF          	XOR	A
3700+  A460 CD 5C A3    	CALL	DRAWSPR
3701+  A463 C3 45 A4    	JP	SETSCREEN_VIRTUAL
3702+  A466             
3703+  A466             ;==================================================
3704+  A466             
3705+  A466             ATRFILL
3706+  A466             ;--	LD	HL,VATTR
3707+  A466             ;--	LD	DE,VATTR+1
3708+  A466             ;--	LD	(HL),A
3709+  A466             ;--	LD	BC,#0200
3710+  A466             ;--	LDIR
3711+  A466             
3712+  A466 4F          	LD	C,A		; store fill color
3713+  A467 3A 00 70    	LD	A,(VATTR)
3714+  A46A E6 38       	AND	%111000
3715+  A46C FE 10       	CP	16		; already red-filled
3716+  A46E C8          	RET	Z
3717+  A46F 79          	LD	A,C		; restore
3718+  A470 E6 38       	AND	%111000		; modify to hidden attr
3719+  A472 47          	LD	B,A
3720+  A473 CB 3F       	SRL	A
3721+  A475 CB 3F       	SRL	A
3722+  A477 CB 3F       	SRL	A
3723+  A479 B0          	OR	B
3724+  A47A 47          	LD	B,A		; store hidden attr
3725+  A47B 21 00 70    	LD	HL,VATTR
3726+  A47E 11 FE 01    	LD	DE,32*16-2
3727+  A481 70          ATRFL2	LD	(HL),B
3728+  A482 23          ATRFL1	INC	HL
3729+  A483 1B          	DEC	DE
3730+  A484 7A          	LD	A,D
3731+  A485 B3          	OR	E
3732+  A486 C8          	RET	Z
3733+  A487 AF          	XOR	A		; current attr
3734+  A488 BE          	CP	(HL)		; is hidden?
3735+  A489 28 F6       	JR	Z,ATRFL2	; don't change
3736+  A48B 71          	LD	(HL),C
3737+  A48C 18 F4       	JR	ATRFL1
3738+  A48E             
3739+  A48E             CLEARLINE
3740+  A48E 11 6E DE    	LD	DE,TXCLEAR
3741+  A491 CD EB 84    CLRLN1	CALL	PRINT
3742+  A494 3E 07       	LD	A,7
3743+  A496 32 00 58    	LD	(#5800),A
3744+  A499 21 00 58    	LD	HL,#5800
3745+  A49C 11 01 58    	LD	DE,#5801
3746+  A49F 01 1F 00    	LD	BC,31
3747+  A4A2 ED B0       	LDIR
3748+  A4A4 3E 0C       	LD	A,12
3749+  A4A6 32 17 AA    	LD	(L_FAB8),A	;    
3750+  A4A9 C9          	RET
3751+  A4AA             
3752+  A4AA             ;-----------------------------------------------
3753+  A4AA             
3754+  A4AA             	INCLUDE "Qvscr.txt"
0001++ A4AA 21 00 70    VCLEAR	LD	HL,VATTR	;   
0002++ A4AD 11 01 70    	LD	DE,VATTR+1
0003++ A4B0 36 00       	LD	(HL),#0
0004++ A4B2             
0005++ A4B2             ;===	LD	BC,#02FF
0006++ A4B2             ;===	LDIR
0007++ A4B2             ;===	RET
0008++ A4B2             
0009++ A4B2 3E 22       	LD	A,34		; 34*15=510
0010++ A4B4             CLRV1
0011++ A4B4 ED A0       > LDI
0011++ A4B6 ED A0       > LDI
0011++ A4B8 ED A0       > LDI
0011++ A4BA ED A0       > LDI
0011++ A4BC ED A0       > LDI
0011++ A4BE ED A0       > LDI
0011++ A4C0 ED A0       > LDI
0011++ A4C2 ED A0       > LDI
0011++ A4C4 ED A0       > LDI
0011++ A4C6 ED A0       > LDI
0011++ A4C8 ED A0       > LDI
0011++ A4CA ED A0       > LDI
0011++ A4CC ED A0       > LDI
0011++ A4CE ED A0       > LDI
0011++ A4D0 ED A0       > LDI
0012++ A4D2 3D          	DEC	A
0013++ A4D3 20 DF       	JR	NZ,CLRV1
0014++ A4D5 C9          	RET
0015++ A4D6             
0016++ A4D6             
0017++ A4D6             ;--------------------------------------------------------
0018++ A4D6             ;   
0019++ A4D6             ;    
0020++ A4D6             ;    LDI
0021++ A4D6             ; ,   
0022++ A4D6             ; ( ,   )
0023++ A4D6             ;--------------------------------------------------------
0024++ A4D6             
0025++ A4D6             PUTVRT
0026++ A4D6 06 10       	LD	B,16
0027++ A4D8 C5          PUTVR1	PUSH	BC
0028++ A4D9             
0029++ A4D9 05          	DEC	B
0030++ A4DA 78          	LD	A,B
0031++ A4DB C6 02       SCROFS1	ADD	A,2	; (Mod it for Row)
0032++ A4DD CD E4 A4    	CALL	PUTVRA
0033++ A4E0 C1          	POP	BC
0034++ A4E1 10 F5       	DJNZ	PUTVR1
0035++ A4E3 C9          	RET
0036++ A4E4             PUTVRA
0037++ A4E4             	;       
0038++ A4E4             	;    ,   
0039++ A4E4             	;     
0040++ A4E4             
0041++ A4E4 CD 9E 0E    	CALL	3742	; string idx (real scr) -> scr addr
0042++ A4E7 2C          	INC	L	; offset from left
0043++ A4E8 E5          	PUSH	HL	; store scr addr
0044++ A4E9 E5          	PUSH	HL	; store scr addr
0045++ A4EA             
0046++ A4EA 78          	LD	A,B	; string idx in virt screen
0047++ A4EB CD 9E 0E    	CALL	3742	; A=string idx -> HL=scr addr
0048++ A4EE 2C          	INC	L	; offset from left
0049++ A4EF 3E 20       	LD	A,VSCROFF
0050++ A4F1 84          	ADD	A,H	;  HL -  
0051++ A4F2 67          	LD	H,A	;  
0052++ A4F3             
0053++ A4F3 D1          	POP	DE	; restore scr addr
0054++ A4F4             
0055++ A4F4 06 08       PUTVFX	LD	B,8
0056++ A4F6 C5          PUTVRB	PUSH	BC
0057++ A4F7 D5          	PUSH	DE
0058++ A4F8 E5          	PUSH	HL
0059++ A4F9 ED A0       > LDI
0059++ A4FB ED A0       > LDI
0059++ A4FD ED A0       > LDI
0059++ A4FF ED A0       > LDI
0059++ A501 ED A0       > LDI
0059++ A503 ED A0       > LDI
0059++ A505 ED A0       > LDI
0059++ A507 ED A0       > LDI
0059++ A509 ED A0       > LDI
0059++ A50B ED A0       > LDI
0059++ A50D ED A0       > LDI
0059++ A50F ED A0       > LDI
0059++ A511 ED A0       > LDI
0059++ A513 ED A0       > LDI
0059++ A515 ED A0       > LDI
0059++ A517 ED A0       > LDI
0059++ A519 ED A0       > LDI
0059++ A51B ED A0       > LDI
0059++ A51D ED A0       > LDI
0059++ A51F ED A0       > LDI
0059++ A521 ED A0       > LDI
0059++ A523 ED A0       > LDI
0059++ A525 ED A0       > LDI
0059++ A527 ED A0       > LDI
0059++ A529 ED A0       > LDI
0059++ A52B ED A0       > LDI
0059++ A52D ED A0       > LDI
0059++ A52F ED A0       > LDI
0059++ A531 ED A0       > LDI
0060++ A533 E1          	POP	HL
0061++ A534 D1          	POP	DE
0062++ A535 14          	INC	D
0063++ A536 24          	INC	H
0064++ A537 C1          	POP	BC
0065++ A538 10 BC       	DJNZ	PUTVRB
0066++ A53A             
0067++ A53A             	;  
0068++ A53A D1          	POP	DE		; restore scr addr
0069++ A53B             
0070++ A53B 7A          	LD	A,D		; scr addr -> attr addr
0071++ A53C E6 18       	AND	#18
0072++ A53E CB 2F       	SRA	A
0073++ A540 CB 2F       	SRA	A
0074++ A542 CB 2F       	SRA	A
0075++ A544 C6 58       	ADD	A,#58		; real attr hi
0076++ A546 57          	LD	D,A
0077++ A547             
0078++ A547 6B          	LD	L,E		; calc attr addr
0079++ A548 7A          	LD	A,D		; in virt scr
0080++ A549 C6 18       	ADD	A,VATROFF
0081++ A54B 67          	LD	H,A
0082++ A54C 01 C0 FF    SCROFS2	LD	BC,-64		; row offset (Mod)
0083++ A54F 09          	ADD	HL,BC
0084++ A550 ED A0       > LDI
0084++ A552 ED A0       > LDI
0084++ A554 ED A0       > LDI
0084++ A556 ED A0       > LDI
0084++ A558 ED A0       > LDI
0084++ A55A ED A0       > LDI
0084++ A55C ED A0       > LDI
0084++ A55E ED A0       > LDI
0084++ A560 ED A0       > LDI
0084++ A562 ED A0       > LDI
0084++ A564 ED A0       > LDI
0084++ A566 ED A0       > LDI
0084++ A568 ED A0       > LDI
0084++ A56A ED A0       > LDI
0084++ A56C ED A0       > LDI
0084++ A56E ED A0       > LDI
0084++ A570 ED A0       > LDI
0084++ A572 ED A0       > LDI
0084++ A574 ED A0       > LDI
0084++ A576 ED A0       > LDI
0084++ A578 ED A0       > LDI
0084++ A57A ED A0       > LDI
0084++ A57C ED A0       > LDI
0084++ A57E ED A0       > LDI
0084++ A580 ED A0       > LDI
0084++ A582 ED A0       > LDI
0084++ A584 ED A0       > LDI
0084++ A586 ED A0       > LDI
0084++ A588 ED A0       > LDI
0085++ A58A C9          	RET
0086++ A58B             
0087++ A58B             
3755+  A58B             
3756+  A58B             ;-----------------------------------------------
3757+  A58B             ; Byte in range [00..99] to ASCII (2-char)
3758+  A58B             ; Input: A = number to convert (if>99, then 99)
3759+  A58B             ; Output: 2-digits ASCII string at (DE)
3760+  A58B             ;-----------------------------------------------
3761+  A58B             B99TODECSTR
3762+  A58B FE 64       	CP	100
3763+  A58D 38 02       	JR	C,B99_OK
3764+  A58F 3E 63       	LD	A,99
3765+  A591 6F          B99_OK	LD	L,A
3766+  A592 26 00       	LD	H,0
3767+  A594 11 21 AA    	LD	DE,NUMSTR+3
3768+  A597 D5          	PUSH	DE
3769+  A598 CD AF A5    	CALL	B99DECS
3770+  A59B D1          	POP	DE
3771+  A59C C9          	RET
3772+  A59D             ;-----------------------------------------------
3773+  A59D             ; Shared part of num to string conversion procedures
3774+  A59D             ;-----------------------------------------------
3775+  A59D             
3776+  A59D 01 F0 D8    WRDDECS	LD	BC,-10000
3777+  A5A0 CD B6 A5    	CALL	WRDDEC1
3778+  A5A3 01 18 FC    	LD	BC,-1000
3779+  A5A6 CD B6 A5    	CALL	WRDDEC1
3780+  A5A9 01 9C FF    BYTDECS	LD	BC,-100
3781+  A5AC CD B6 A5    	CALL	WRDDEC1
3782+  A5AF 01 F6 FF    B99DECS	LD	BC,-10
3783+  A5B2 CD B6 A5    	CALL	WRDDEC1
3784+  A5B5 48          	LD	C,B
3785+  A5B6 3E 2F       WRDDEC1	LD	A,'0'-1
3786+  A5B8 3C          WRDDEC2	INC	A
3787+  A5B9 09          	ADD	HL,BC
3788+  A5BA 38 FC       	JR	C,WRDDEC2
3789+  A5BC ED 42       	SBC	HL,BC
3790+  A5BE 12          	LD	(DE),A
3791+  A5BF 13          	INC	DE
3792+  A5C0 C9          	RET
3793+  A5C1             
3794+  A5C1             PRINTNUM
3795+  A5C1 C5          	PUSH	BC
3796+  A5C2 CD 8B A5    	CALL	B99TODECSTR
3797+  A5C5 C1          	POP	BC
3798+  A5C6 C3 EB 84    	JP	PRINT
3799+  A5C9             
3800+  A5C9             CLEARGAMEWIN
3801+  A5C9 CD 8E A4    	CALL	CLEARLINE
3802+  A5CC 21 00 60    	LD	HL,VSCR
3803+  A5CF 11 01 60    	LD	DE,VSCR+1
3804+  A5D2 36 00       	LD	(HL),0
3805+  A5D4 01 FF 0F    	LD	BC,2048*2-1
3806+  A5D7 ED B0       	LDIR
3807+  A5D9 21 00 70    	LD	HL,VATTR
3808+  A5DC 11 01 70    	LD	DE,VATTR+1
3809+  A5DF 36 07       	LD	(HL),7
3810+  A5E1 01 FF 01    	LD	BC,16*32-1
3811+  A5E4 ED B0       	LDIR
3812+  A5E6 C3 D6 A4    	JP	PUTVRT
3813+  A5E9             
3814+  A5E9             ;-----------------------------------------------
3815+  A5E9             
3816+  A5E9             CHANGESPRITECOLOR
3817+  A5E9 46          	LD	B,(HL)
3818+  A5EA 23          CHSPC1	INC	HL
3819+  A5EB 23          	INC	HL
3820+  A5EC 23          	INC	HL
3821+  A5ED 7E          	LD	A,(HL)
3822+  A5EE BA          	CP	D
3823+  A5EF 20 01       	JR	NZ,CHSPC2
3824+  A5F1 73          	LD	(HL),E
3825+  A5F2 10 F6       CHSPC2	DJNZ	CHSPC1
3826+  A5F4 C9          	RET
3827+  A5F5             
3828+  A5F5             ;-----------------------------------------------
3829+  A5F5             ; Unpacking and creating maps
3830+  A5F5             ;-----------------------------------------------
3831+  A5F5             
3832+  A5F5             GREEN_TREES
3833+  A5F5 11 04 06    	LD	DE,#0604
3834+  A5F8 CD 09 A6    	CALL	RED_TREES1
3835+  A5FB 11 07 02    	LD	DE,#0207
3836+  A5FE 18 09       	JR	RED_TREES1
3837+  A600             RED_TREES
3838+  A600 11 06 04    	LD	DE,#0406
3839+  A603 CD 09 A6    	CALL	RED_TREES1
3840+  A606 11 02 07    	LD	DE,#0702
3841+  A609             RED_TREES1
3842+  A609 21 4A C3    	LD	HL,L_B5FE
3843+  A60C CD E9 A5    	CALL	CHANGESPRITECOLOR
3844+  A60F 21 8D C3    	LD	HL,L_B641
3845+  A612 CD E9 A5    	CALL	CHANGESPRITECOLOR
3846+  A615 21 12 C4    	LD	HL,L_B6C6
3847+  A618 CD E9 A5    	CALL	CHANGESPRITECOLOR
3848+  A61B 21 3C C5    	LD	HL,L_B7F0
3849+  A61E CD E9 A5    	CALL	CHANGESPRITECOLOR
3850+  A621 21 6E C7    	LD	HL,L_BA38
3851+  A624 CD E9 A5    	CALL	CHANGESPRITECOLOR
3852+  A627 21 0B CB    	LD	HL,L_BDE0
3853+  A62A CD E9 A5    	CALL	CHANGESPRITECOLOR
3854+  A62D 21 95 CD    	LD	HL,L_C05F
3855+  A630 C3 E9 A5    	JP	CHANGESPRITECOLOR
3856+  A633             
3857+  A633             EMPTY_MAP1
3858+  A633 21 00 E0    	LD	HL,L_UMAP
3859+  A636 11 01 E0    	LD	DE,L_UMAP+1
3860+  A639 01 FF 1D    	LD	BC,30*256-1
3861+  A63C 36 00       	LD	(HL),0
3862+  A63E ED B0       	LDIR
3863+  A640 C9          	RET
3864+  A641             
3865+  A641 C5          RIAD	PUSH	BC
3866+  A642 72          RIAD1	LD	(HL),D
3867+  A643 79          	LD	A,C
3868+  A644 85          	ADD	A,L
3869+  A645 6F          	LD	L,A
3870+  A646 10 FA       	DJNZ	RIAD1
3871+  A648 C1          	POP	BC
3872+  A649 C9          	RET
3873+  A64A             
3874+  A64A DD 72 00    BOXIXI	LD	(IX+0),D
3875+  A64D DD 72 01    	LD	(IX+1),D
3876+  A650 DD 73 02    	LD	(IX+2),E
3877+  A653 DD 73 03    	LD	(IX+3),E
3878+  A656 DD 72 04    	LD	(IX+4),D
3879+  A659 DD 72 05    	LD	(IX+5),D
3880+  A65C DD 24       	INC	IXH
3881+  A65E C9          	RET
3882+  A65F             
3883+  A65F             BOXIT1_01
3884+  A65F 01 10 01    	LD	BC,#0110
3885+  A662 C5          BOXIT1	PUSH	BC
3886+  A663 11 66 66    BOXI1A	LD	DE,#6666
3887+  A666 CD 4A A6    	CALL	BOXIXI
3888+  A669 CD 4A A6    	CALL	BOXIXI
3889+  A66C 11 0A 65    	LD	DE,#650A
3890+  A66F CD 4A A6    	CALL	BOXIXI
3891+  A672 CD 4A A6    	CALL	BOXIXI
3892+  A675 11 66 66    	LD	DE,#6666
3893+  A678 CD 4A A6    	CALL	BOXIXI
3894+  A67B CD 4A A6    	CALL	BOXIXI
3895+  A67E DD 25       > DEC	IXH
3895+  A680 DD 25       > DEC	IXH
3895+  A682 DD 25       > DEC	IXH
3895+  A684 DD 25       > DEC	IXH
3895+  A686 DD 25       > DEC	IXH
3895+  A688 DD 25       > DEC	IXH
3896+  A68A 79          	LD	A,C
3897+  A68B DD 85       	ADD	A,IXL
3898+  A68D DD 6F       	LD	IXL,A
3899+  A68F 10 D2       	DJNZ	BOXI1A
3900+  A691 C1          	POP	BC
3901+  A692 C9          	RET
3902+  A693             
3903+  A693 DD 21 0E E7 EXMAPL5	LD	IX,L_UMAP+256*7+14
3904+  A697 01 10 03    	LD	BC,#0310
3905+  A69A CD 62 A6    	CALL	BOXIT1
3906+  A69D DD 21 0E F1 	LD	IX,L_UMAP+256*17+14
3907+  A6A1 01 10 03    	LD	BC,#0310
3908+  A6A4 CD 62 A6    	CALL	BOXIT1
3909+  A6A7 DD 21 4E E7 	LD	IX,L_UMAP+256*7+78
3910+  A6AB 01 10 02    	LD	BC,#0210
3911+  A6AE CD 62 A6    	CALL	BOXIT1
3912+  A6B1 DD 21 AE E7 	LD	IX,L_UMAP+256*7+174
3913+  A6B5 01 10 02    	LD	BC,#0210
3914+  A6B8 CD 62 A6    	CALL	BOXIT1
3915+  A6BB DD 21 4E F1 	LD	IX,L_UMAP+256*17+78
3916+  A6BF 01 10 08    	LD	BC,#0810
3917+  A6C2 CD 62 A6    	CALL	BOXIT1
3918+  A6C5 DD 21 E9 E5 	LD	IX,L_UMAP+256*5+233
3919+  A6C9 CD 5F A6    	CALL	BOXIT1_01
3920+  A6CC DD 21 E9 F3 	LD	IX,L_UMAP+256*19+233
3921+  A6D0 C3 5F A6    	JP	BOXIT1_01
3922+  A6D3             
3923+  A6D3 CD 00 A6    EXMAPL8	CALL	RED_TREES
3924+  A6D6 18 10       	JR	EXMAP71
3925+  A6D8             
3926+  A6D8 21 00 E0    EXMAPL7	LD	HL,L_UMAP
3927+  A6DB 7E          EXMAP72	LD	A,(HL)
3928+  A6DC FE A0       	CP	#A0		; tree?
3929+  A6DE 20 02       	JR	NZ,NOTTREE
3930+  A6E0 36 00       	LD	(HL),0		; delete trees in hell
3931+  A6E2 23          NOTTREE	INC	HL
3932+  A6E3 7C          	LD	A,H
3933+  A6E4 FE FF       	CP	L_UMAP/256+31
3934+  A6E6 20 F3       	JR	NZ,EXMAP72
3935+  A6E8             
3936+  A6E8 11 00 E0    EXMAP71	LD	DE,L_UMAP
3937+  A6EB 21 00 FD    	LD	HL,L_UMAP+256*29
3938+  A6EE 06 0F       	LD	B,15
3939+  A6F0 C5          EXMAP92	PUSH	BC
3940+  A6F1 06 00       	LD	B,0	; 256
3941+  A6F3 4E          EXMAP91	LD	C,(HL)
3942+  A6F4 1A          	LD	A,(DE)
3943+  A6F5 77          	LD	(HL),A
3944+  A6F6 79          	LD	A,C
3945+  A6F7 12          	LD	(DE),A
3946+  A6F8 23          	INC	HL
3947+  A6F9 13          	INC	DE
3948+  A6FA 10 F7       	DJNZ	EXMAP91
3949+  A6FC 01 00 FE    	LD	BC,-512
3950+  A6FF 09          	ADD	HL,BC
3951+  A700 C1          	POP	BC
3952+  A701 10 ED       	DJNZ	EXMAP92
3953+  A703 C9          	RET
3954+  A704             
3955+  A704 CD 31 A8    REDOORA	CALL	REDOORB
3956+  A707 3A FA A9    	LD	A,(LEVEL)	;  
3957+  A70A FE 02       	CP	2		;  
3958+  A70C 28 12       	JR	Z,EXMAPL2
3959+  A70E D6 05       	SUB	5		; cp 5
3960+  A710 28 81       	JR	Z,EXMAPL5
3961+  A712 3D          	DEC	A		; cp 6
3962+  A713 CA AA A7    	JP	Z,EXMAPL6
3963+  A716 3D          	DEC	A		; cp 7
3964+  A717 28 BF       	JR	Z,EXMAPL7
3965+  A719 3D          	DEC	A		; cp 8
3966+  A71A 28 B7       	JR	Z,EXMAPL8
3967+  A71C 3D          	DEC	A		; cp 9
3968+  A71D 28 4E       	JR	Z,EXMAPL9
3969+  A71F C9          	RET
3970+  A720             
3971+  A720 16 A0       EXMAPL2	LD	D,#A0		; object
3972+  A722 01 04 0B    	LD	BC,#0B04	; count and offset
3973+  A725 21 05 EA    	LD	HL,L_UMAP+256*10+5
3974+  A728 CD 41 A6    	CALL	RIAD
3975+  A72B 21 05 F3    	LD	HL,L_UMAP+256*19+5
3976+  A72E CD 41 A6    	CALL	RIAD
3977+  A731 06 0E       	LD	B,14
3978+  A733 21 B3 F2    	LD	HL,L_UMAP+256*18+179
3979+  A736 CD 41 A6    	CALL	RIAD
3980+  A739 06 09       	LD	B,9		; count
3981+  A73B 21 45 EA    	LD	HL,L_UMAP+256*10+69
3982+  A73E CD 41 A6    	CALL	RIAD
3983+  A741 21 45 F3    	LD	HL,L_UMAP+256*19+69
3984+  A744 CD 41 A6    	CALL	RIAD
3985+  A747 21 8B EA    	LD	HL,L_UMAP+256*10+139
3986+  A74A CD 41 A6    	CALL	RIAD
3987+  A74D 06 06       	LD	B,6
3988+  A74F 21 6E F3    	LD	HL,L_UMAP+256*19+110
3989+  A752 CD 41 A6    	CALL	RIAD
3990+  A755             
3991+  A755 21 B7 E0    	LD	HL,L_UMAP+183
3992+  A758 CD EF A7    	CALL	HOUSEDN
3993+  A75B 21 C2 E0    	LD	HL,L_UMAP+194
3994+  A75E CD EF A7    	CALL	HOUSEDN
3995+  A761 21 CD E0    	LD	HL,L_UMAP+205
3996+  A764 CD EF A7    	CALL	HOUSEDN
3997+  A767 21 D8 E0    	LD	HL,L_UMAP+216
3998+  A76A C3 EF A7    	JP	HOUSEDN
3999+  A76D             
4000+  A76D DD 21 75 E7 EXMAPL9	LD	IX,L_UMAP+256*7+117
4001+  A771 01 10 02    	LD	BC,#0210
4002+  A774 CD 62 A6    	CALL	BOXIT1
4003+  A777 DD 21 75 F2 	LD	IX,L_UMAP+256*18+117
4004+  A77B 01 10 02    	LD	BC,#0210
4005+  A77E CD 62 A6    	CALL	BOXIT1
4006+  A781 AF          	XOR	A
4007+  A782 32 7C E6    	LD	(L_UMAP+124+256*6),A
4008+  A785 32 82 E6    	LD	(L_UMAP+130+256*6),A
4009+  A788 32 7C F8    	LD	(L_UMAP+124+256*24),A
4010+  A78B 32 82 F8    	LD	(L_UMAP+130+256*24),A
4011+  A78E             	;-----SET EGGS-----
4012+  A78E 3E DF       	LD	A,#DF
4013+  A790 32 06 EE    	LD	(L_UMAP+6+256*14),A
4014+  A793 32 28 EC    	LD	(L_UMAP+40+256*12),A
4015+  A796 32 48 F6    	LD	(L_UMAP+72+256*22),A
4016+  A799             ;====	LD	(L_UMAP+82+256*21),A ===   
4017+  A799 32 D8 EE    	LD	(L_UMAP+216+256*14),A
4018+  A79C 32 BA E8    	LD	(L_UMAP+186+256*8),A
4019+  A79F 32 C2 F8    	LD	(L_UMAP+194+256*24),A
4020+  A7A2 3E 06       	LD	A,6
4021+  A7A4 32 FD A9    	LD	(V_EGCNT),A
4022+  A7A7             	;------------------
4023+  A7A7 C3 D8 A6    	JP	EXMAPL7
4024+  A7AA             
4025+  A7AA 01 08 06    EXMAPL6	LD	BC,#0608	; count and offset
4026+  A7AD 16 A0       	LD	D,#A0		; object
4027+  A7AF 21 6B E2    	LD	HL,L_UMAP+256*2+107
4028+  A7B2 CD 41 A6    	CALL	RIAD
4029+  A7B5             
4030+  A7B5 DD 21 D4 A7 	LD	IX,HTAB_DN
4031+  A7B9 06 05       	LD	B,5
4032+  A7BB DD 66 01    EXMAP61	LD	H,(IX+1)
4033+  A7BE DD 6E 00    	LD	L,(IX)
4034+  A7C1 CD EF A7    	CALL	HOUSEDN
4035+  A7C4 10 F5       	DJNZ	EXMAP61
4036+  A7C6 06 06       	LD	B,6
4037+  A7C8 DD 66 01    EXMAP62	LD	H,(IX+1)
4038+  A7CB DD 6E 00    	LD	L,(IX)
4039+  A7CE CD EA A7    	CALL	HOUSEUP
4040+  A7D1 10 F5       	DJNZ	EXMAP62
4041+  A7D3 C9          	RET
4042+  A7D4             
4043+  A7D4 0F E0       HTAB_DN	DEFW	L_UMAP+256*0+15
4044+  A7D6 59 E6       	DEFW	L_UMAP+256*6+89
4045+  A7D8 B1 F0       	DEFW	L_UMAP+256*16+177
4046+  A7DA C5 F0       	DEFW	L_UMAP+256*16+197
4047+  A7DC C5 E0       	DEFW	L_UMAP+256*0+197
4048+  A7DE             
4049+  A7DE 0F F0       	DEFW	L_UMAP+256*16+15
4050+  A7E0 1A F0       	DEFW	L_UMAP+256*16+26
4051+  A7E2 48 E6       	DEFW	L_UMAP+256*6+72
4052+  A7E4 A0 F0       	DEFW	L_UMAP+256*16+160
4053+  A7E6 D0 F0       	DEFW	L_UMAP+256*16+208
4054+  A7E8 DB F0       	DEFW	L_UMAP+256*16+219
4055+  A7EA             
4056+  A7EA             /*
4057+  A7EA~            	LD	HL,L_UMAP+256*0+15
4058+  A7EA~            	CALL	HOUSEDN
4059+  A7EA~            	LD	HL,L_UMAP+256*6+89
4060+  A7EA~            	CALL	HOUSEDN
4061+  A7EA~            	LD	HL,L_UMAP+256*16+177
4062+  A7EA~            	CALL	HOUSEDN
4063+  A7EA~            	LD	HL,L_UMAP+256*16+197
4064+  A7EA~            	CALL	HOUSEDN
4065+  A7EA~            	LD	HL,L_UMAP+256*0+197
4066+  A7EA~            	CALL	HOUSEDN
4067+  A7EA~            4068+  A7EA~            	LD	HL,L_UMAP+256*16+15
4069+  A7EA~            	CALL	HOUSEUP
4070+  A7EA~            	LD	HL,L_UMAP+256*16+26
4071+  A7EA~            	CALL	HOUSEUP
4072+  A7EA~            	LD	HL,L_UMAP+256*6+72
4073+  A7EA~            	CALL	HOUSEUP
4074+  A7EA~            	LD	HL,L_UMAP+256*16+160
4075+  A7EA~            	CALL	HOUSEUP
4076+  A7EA~            	LD	HL,L_UMAP+256*16+208
4077+  A7EA~            	CALL	HOUSEUP
4078+  A7EA~            	LD	HL,L_UMAP+256*16+219
4079+  A7EA~            	JP	HOUSEUP
4080+  A7EA             */
4081+  A7EA             
4082+  A7EA 11 05 F7    HOUSEUP	LD	DE,-256*9+5
4083+  A7ED 18 03       	JR	HOUSES
4084+  A7EF 11 05 FE    HOUSEDN	LD	DE,-256*2+5
4085+  A7F2             HOUSES
4086+  A7F2 C5          	PUSH	BC		; (v2)
4087+  A7F3 D5          	PUSH	DE
4088+  A7F4 CD 20 A8    	CALL	HOUSE13
4089+  A7F7 CD 0B A8    	CALL	HOUSEV5
4090+  A7FA CD 20 A8    	CALL	HOUSE13
4091+  A7FD D1          	POP	DE
4092+  A7FE 19          	ADD	HL,DE
4093+  A7FF 06 03       	LD	B,3
4094+  A801 AF          	XOR	A
4095+  A802 CD 24 A8    	CALL	HOUSEW		; (v2)
4096+  A805 DD 23       	INC	IX		; (v2) for outer proc
4097+  A807 DD 23       	INC	IX		; (v2)
4098+  A809 C1          	POP	BC		; (v2)
4099+  A80A C9          	RET			; (v2)
4100+  A80B             ;===	JR	HOUSEW		;--v1
4101+  A80B             
4102+  A80B 3E 65       HOUSEV5	LD	A,#65
4103+  A80D 06 05       	LD	B,5
4104+  A80F 77          HOUSEV	LD	(HL),A
4105+  A810 2C          	INC	L
4106+  A811 77          	LD	(HL),A
4107+  A812 11 0A 00    	LD	DE,10
4108+  A815 19          	ADD	HL,DE
4109+  A816 77          	LD	(HL),A
4110+  A817 2C          	INC	L
4111+  A818 77          	LD	(HL),A
4112+  A819 11 F4 00    	LD	DE,244
4113+  A81C 19          	ADD	HL,DE
4114+  A81D 10 F0       	DJNZ	HOUSEV
4115+  A81F C9          	RET
4116+  A820 3E 66       HOUSE13	LD	A,#66
4117+  A822 06 0D       	LD	B,13
4118+  A824 C5          HOUSEW	PUSH	BC
4119+  A825 77          HOUSER	LD	(HL),A
4120+  A826 2C          	INC	L
4121+  A827 10 FC       	DJNZ	HOUSER
4122+  A829 24          	INC	H
4123+  A82A C1          	POP	BC
4124+  A82B 2D          HOUSEL	DEC	L
4125+  A82C 77          	LD	(HL),A
4126+  A82D 10 FC       	DJNZ	HOUSEL
4127+  A82F 24          	INC	H
4128+  A830 C9          	RET
4129+  A831             
4130+  A831 DD 21 FF FD REDOORB	LD	IX,L_UMAP+30*256-1
4131+  A835 11 00 1E    	LD	DE,30*256
4132+  A838 DD 7E 00    REDUR	LD	A,(IX)
4133+  A83B FE 0A       	CP	10
4134+  A83D 28 1C       	JR	Z,REDUR10
4135+  A83F 38 10       	JR	C,REDUR1
4136+  A841 FE 62       	CP	98		; level end mark
4137+  A843 28 0C       	JR	Z,REDUR1
4138+  A845 FE 67       	CP	#67		; door 1
4139+  A847 28 08       	JR	Z,REDUR1
4140+  A849 FE 68       	CP	#68		; door 2
4141+  A84B 28 04       	JR	Z,REDUR1
4142+  A84D FE 6A       	CP	#6A		; door 3
4143+  A84F 20 2D       	JR	NZ,REDUR0
4144+  A851 DD BE 01    REDUR1	CP	(IX+1)		;    
4145+  A854 28 28       	JR	Z,REDUR0	;   ,
4146+  A856 DD BE FF    	CP	(IX-1)		;  
4147+  A859 28 23       	JR	Z,REDUR0	; 
4148+  A85B 4F          REDUR10	LD	C,A		; store byte
4149+  A85C DD E5       	PUSH	IX
4150+  A85E E1          	POP	HL
4151+  A85F 24          REDUR2	INC	H		; next map line
4152+  A860 AF          	XOR	A
4153+  A861 BE          	CP	(HL)		; place is empty?
4154+  A862 20 03       	JR	NZ,REDURX
4155+  A864 71          	LD	(HL),C
4156+  A865 18 F8       DRSINGL	JR	REDUR2
4157+  A867 79          REDURX	LD	A,C		;   
4158+  A868 FE 64       	CP	100		;    ()?
4159+  A86A 38 12       	JR	C,REDUR0
4160+  A86C 25          	DEC	H
4161+  A86D E5          	PUSH	HL
4162+  A86E DD E1       	POP	IX
4163+  A870 DD BE 00    REDURD	CP	(IX)
4164+  A873 20 07       	JR	NZ,REDURZ
4165+  A875 DD 77 01    	LD	(IX+1),A	; 
4166+  A878 DD 25       	DEC	IXH
4167+  A87A 18 F4       	JR	REDURD
4168+  A87C DD 24       REDURZ	INC	IXH		;   
4169+  A87E DD 2B       REDUR0	DEC	IX
4170+  A880 1B          	DEC	DE
4171+  A881 7A          	LD	A,D
4172+  A882 B3          	OR	E
4173+  A883 20 B3       	JR	NZ,REDUR
4174+  A885 C9          	RET
4175+  A886             
4176+  A886             CREATEMAP
4177+  A886             ;===	PUSH	HL
4178+  A886             ;===	CALL	EMPTY_MAP1	;    init
4179+  A886             ;===	POP	HL
4180+  A886             
4181+  A886 7E          CMAPVS	LD	A,(HL)
4182+  A887 23          	INC	HL
4183+  A888 4E          CMAPVS1	LD	C,(HL)
4184+  A889 23          	INC	HL
4185+  A88A 0C          	INC	C		; cp c,255
4186+  A88B 28 0E       	JR	Z,CMAPHS
4187+  A88D 0C          	INC	C		; cp c,254
4188+  A88E 28 F6       	JR	Z,CMAPVS
4189+  A890 0D          	DEC	C
4190+  A891 0D          	DEC	C
4191+  A892 5E          	LD	E,(HL)
4192+  A893 23          	INC	HL
4193+  A894 56          	LD	D,(HL)
4194+  A895 23          	INC	HL
4195+  A896 CD BE A8    	CALL	CMWALV
4196+  A899 18 ED       	JR	CMAPVS1
4197+  A89B             
4198+  A89B 7E          CMAPHS	LD	A,(HL)
4199+  A89C 23          	INC	HL
4200+  A89D 4E          CMAPHS1	LD	C,(HL)
4201+  A89E 23          	INC	HL
4202+  A89F 0C          	INC	C		; cp c,255
4203+  A8A0 28 0E       	JR	Z,CMAPSS
4204+  A8A2 0C          	INC	C		; cp c,254
4205+  A8A3 28 F6       	JR	Z,CMAPHS
4206+  A8A5 0D          	DEC	C
4207+  A8A6 0D          	DEC	C
4208+  A8A7 5E          	LD	E,(HL)
4209+  A8A8 23          	INC	HL
4210+  A8A9 56          	LD	D,(HL)
4211+  A8AA 23          	INC	HL
4212+  A8AB CD CA A8    	CALL	CMWALH
4213+  A8AE 18 ED       	JR	CMAPHS1
4214+  A8B0             
4215+  A8B0 7E          CMAPSS	LD	A,(HL)
4216+  A8B1 23          	INC	HL
4217+  A8B2 3C          	INC	A		; cp 255
4218+  A8B3 CA 04 A7    	JP	Z,REDOORA
4219+  A8B6 3D          	DEC	A
4220+  A8B7 5E          	LD	E,(HL)
4221+  A8B8 23          	INC	HL
4222+  A8B9 56          	LD	D,(HL)
4223+  A8BA 23          	INC	HL
4224+  A8BB 12          	LD	(DE),A
4225+  A8BC 18 F2       	JR	CMAPSS
4226+  A8BE             
4227+  A8BE E5          CMWALV	PUSH	HL
4228+  A8BF EB          	EX	DE,HL
4229+  A8C0 41          	LD	B,C
4230+  A8C1 77          MAPWV1	LD	(HL),A
4231+  A8C2 2C          	INC	L
4232+  A8C3 77          	LD	(HL),A
4233+  A8C4 2D          	DEC	L
4234+  A8C5 24          	INC	H
4235+  A8C6 10 F9       	DJNZ	MAPWV1
4236+  A8C8 E1          	POP	HL
4237+  A8C9 C9          	RET
4238+  A8CA             
4239+  A8CA             CMWALH
4240+  A8CA E5          XLDIR	PUSH	HL
4241+  A8CB EB          	EX	DE,HL
4242+  A8CC 06 00       	LD	B,0
4243+  A8CE 0B          	DEC	BC
4244+  A8CF CD D8 A8    	CALL	XLDIR1
4245+  A8D2 24          	INC	H
4246+  A8D3 CD D8 A8    	CALL	XLDIR1
4247+  A8D6 E1          	POP	HL
4248+  A8D7 C9          	RET
4249+  A8D8 C5          XLDIR1	PUSH	BC
4250+  A8D9 E5          	PUSH	HL
4251+  A8DA 77          	LD	(HL),A
4252+  A8DB 54          	LD	D,H
4253+  A8DC 5D          	LD	E,L
4254+  A8DD 13          	INC	DE
4255+  A8DE ED B0       	LDIR
4256+  A8E0 E1          	POP	HL
4257+  A8E1 C1          	POP	BC
4258+  A8E2 C9          	RET
4259+  A8E3             
4260+  A8E3             
4261+  A8E3             ;-----------------------------------------------
4262+  A8E3             ; SOUND	FX
4263+  A8E3             ;-----------------------------------------------
4264+  A8E3             
4265+  A8E3 06 C5       L_6440	LD	B,#C5
4266+  A8E5 AF          L_6442	XOR	A
4267+  A8E6 EE 10       L_6443	XOR	#10
4268+  A8E8 D3 FE       	OUT	(#FE),A
4269+  A8EA C5          	PUSH	BC
4270+  A8EB 10 FE       L_6448	DJNZ	L_6448
4271+  A8ED C1          	POP	BC
4272+  A8EE 10 F6       	DJNZ	L_6443
4273+  A8F0 C9          	RET
4274+  A8F1             
4275+  A8F1 01 22 44    FXCLICK	LD	BC,#4422
4276+  A8F4 CD 06 A9    	CALL	FXBEEP
4277+  A8F7 01 33 44    	LD	BC,#4433
4278+  A8FA 18 0A       	JR	FXBEEP
4279+  A8FC             
4280+  A8FC 0E 04       FXBEEP3	LD	C,4
4281+  A8FE 06 50       	LD	B,80
4282+  A900 18 04       	JR	FXBEEP
4283+  A902 0E FA       FXBEEP2	LD	C,250	;   : 
4284+  A904 06 06       	LD	B,6	; 
4285+  A906 3E 10       FXBEEP	LD	A,16
4286+  A908 D3 FE       FXBEEPA	OUT	(254),A
4287+  A90A C5          	PUSH	BC
4288+  A90B 41          	LD	B,C
4289+  A90C 10 FE       	DJNZ	$
4290+  A90E 41          	LD	B,C
4291+  A90F 10 FE       	DJNZ	$
4292+  A911 C1          	POP	BC
4293+  A912 EE 10       	XOR	16
4294+  A914 10 F2        	DJNZ	FXBEEPA
4295+  A916 C9          	RET
4296+  A917             
4297+  A917             SOUND_STEP
4298+  A917 CD 1A A9    	CALL	SOUND_TICK
4299+  A91A             SOUND_TICK
4300+  A91A F5          	PUSH	AF
4301+  A91B 3E 10       	LD	A,16
4302+  A91D D3 FE       	OUT	(254),A
4303+  A91F 00          > NOP
4303+  A920 00          > NOP
4303+  A921 00          > NOP
4303+  A922 00          > NOP
4303+  A923 00          > NOP
4303+  A924 00          > NOP
4303+  A925 00          > NOP
4303+  A926 00          > NOP
4303+  A927 00          > NOP
4303+  A928 00          > NOP
4303+  A929 00          > NOP
4303+  A92A 00          > NOP
4303+  A92B 00          > NOP
4303+  A92C 00          > NOP
4303+  A92D 00          > NOP
4303+  A92E 00          > NOP
4304+  A92F EE 10       	XOR	16
4305+  A931 D3 FE       	OUT	(254),A
4306+  A933 F1          	POP	AF
4307+  A934 C9          	RET
4308+  A935             
4309+  A935             ;-----------------------------------------------
4310+  A935             
4311+  A935             WALL_CAP_HOLES
4312+  A935 DD 21 C1 FE 	LD	IX,#9687+KK+29*2	;was*5; then *4
4313+  A939 06 0A       	LD	B,10			;was 3; then  8
4314+  A93B C5          WLCPH5	PUSH	BC
4315+  A93C 06 1B       	LD	B,27
4316+  A93E             WLCPH1
4317+  A93E             
4318+  A93E             ;---	LD	A,(IX+1)	  
4319+  A93E             ;---	AND	A		 
4320+  A93E             ;---	JR	NZ,WLCPH3
4321+  A93E             
4322+  A93E DD 7E 00    	LD	A,(IX)
4323+  A941 FE 65       	CP	#65
4324+  A943 28 10       	JR	Z,WLCPH2
4325+  A945 FE 66       	CP	#66
4326+  A947 28 0C       	JR	Z,WLCPH2
4327+  A949 FE 67       	CP	#67
4328+  A94B 28 08       	JR	Z,WLCPH2
4329+  A94D FE 68       	CP	#68
4330+  A94F 28 04       	JR	Z,WLCPH2
4331+  A951 FE 6A       	CP	#6A
4332+  A953 20 26       	JR	NZ,WLCPH3
4333+  A955 DD BE 02    WLCPH2	CP	(IX+2)
4334+  A958 28 1E       	JR	Z,WLCPH4
4335+  A95A DD BE 1F    	CP	(IX+2+29)
4336+  A95D 28 19       	JR	Z,WLCPH4
4337+  A95F DD BE E5    	CP	(IX+2-29)
4338+  A962 28 14       	JR	Z,WLCPH4
4339+  A964 DD BE 3C    	CP	(IX+2+29*2)
4340+  A967 28 0A       	JR	Z,WLCPH6
4341+  A969 DD BE C8    	CP	(IX+2-29*2)
4342+  A96C 20 0D       	JR	NZ,WLCPH3
4343+  A96E DD 77 E4    	LD	(IX+1-29),A
4344+  A971 18 08       	JR	WLCPH3
4345+  A973 DD 77 1E    WLCPH6	LD	(IX+1+29),A
4346+  A976 18 03       	JR	WLCPH3
4347+  A978 DD 77 01    WLCPH4	LD	(IX+1),A
4348+  A97B DD 23       WLCPH3	INC	IX
4349+  A97D 10 BF       	DJNZ	WLCPH1
4350+  A97F C1          	POP	BC
4351+  A980 DD 23       	INC	IX
4352+  A982 DD 23       	INC	IX
4353+  A984 10 B5       	DJNZ	WLCPH5
4354+  A986             
4355+  A986 21 87 FE    	LD	HL,#9687+KK	; clear invisible
4356+  A989 11 1D 00    	LD	DE,29		; wall sectors
4357+  A98C 06 1D       	LD	B,29		; (z-buffering)
4358+  A98E C5          WFND0	PUSH	BC
4359+  A98F E5          	PUSH	HL
4360+  A990 06 0C       	LD	B,12
4361+  A992 7E          WFND1	LD	A,(HL)
4362+  A993 FE 64       	CP	#64
4363+  A995 28 18       	JR	Z,WFND3
4364+  A997 FE 65       	CP	#65
4365+  A999 28 0D       	JR	Z,WFND2
4366+  A99B FE 66       	CP	#66
4367+  A99D 28 09       	JR	Z,WFND2
4368+  A99F 19          	ADD	HL,DE
4369+  A9A0 10 F0       	DJNZ	WFND1
4370+  A9A2 E1          WFND9	POP	HL
4371+  A9A3 2C          	INC	L
4372+  A9A4 C1          	POP	BC
4373+  A9A5 10 E7       	DJNZ	WFND0
4374+  A9A7 C9          	RET
4375+  A9A8             
4376+  A9A8 19          WFND2	ADD	HL,DE
4377+  A9A9 36 00       	LD	(HL),0
4378+  A9AB 10 FB       	DJNZ	WFND2
4379+  A9AD 18 F3       	JR	WFND9
4380+  A9AF             
4381+  A9AF 19          WFND3	ADD	HL,DE
4382+  A9B0 BE          	CP	(HL)		;   
4383+  A9B1 20 02       	JR	NZ,WFND3A	; z-  
4384+  A9B3 36 00       	LD	(HL),0		;  
4385+  A9B5 10 F8       WFND3A	DJNZ	WFND3
4386+  A9B7 18 E9       	JR	WFND9
4387+  A9B9             
4388+  A9B9             SCR_ATTR_SET1
4389+  A9B9 01 FF 01    	LD	BC,767-32*8
4390+  A9BC 21 00 58    SATRS58	LD	HL,#5800
4391+  A9BF 54          SATRSET	LD	D,H
4392+  A9C0 5D          	LD	E,L
4393+  A9C1 13          	INC	DE
4394+  A9C2 77          	LD	(HL),A      
4395+  A9C3 ED B0       	LDIR
4396+  A9C5 C9          	RET
4397+  A9C6             
4398+  A9C6 06 08       THAW	LD	B,8		;   8 
4399+  A9C8 11 00 00    	LD	DE,0		;   
4400+  A9CB 21 00 60    THAW1	LD	HL,VSCR		;   
4401+  A9CE D5          	PUSH	DE
4402+  A9CF 1A          THAW2	LD	A,(DE)		;    
4403+  A9D0 A6          	AND	(HL)		;    
4404+  A9D1 77          	LD	(HL),A		;   
4405+  A9D2 23          	INC	HL		;   
4406+  A9D3 13          	INC	DE
4407+  A9D4 7C          	LD	A,H		;,    
4408+  A9D5 FE 70       	CP	VSCRHI+#10	;     
4409+  A9D7 20 F6       	JR	NZ,THAW2	;  
4410+  A9D9 C5          	PUSH	BC
4411+  A9DA CD D6 A4    	CALL	PUTVRT
4412+  A9DD C1          	POP	BC
4413+  A9DE D1          	POP	DE
4414+  A9DF 21 64 00    	LD	HL,100
4415+  A9E2 19          	ADD	HL,DE		;     100
4416+  A9E3 EB          	EX	DE,HL		; HL  DE
4417+  A9E4 10 E5       	DJNZ	THAW1		; 
4418+  A9E6 C9          	RET
4419+  A9E7             
4420+  A9E7 24          INC_Y	INC	H
4421+  A9E8 7C          	LD	A,H
4422+  A9E9 E6 07       	AND	7
4423+  A9EB C0          	RET	NZ
4424+  A9EC 7D          	LD	A,L
4425+  A9ED C6 20       	ADD	A,32
4426+  A9EF 6F          	LD	L,A
4427+  A9F0 D8          	RET	C
4428+  A9F1 7C          	LD	A,H
4429+  A9F2 D6 08       	SUB	8
4430+  A9F4 67          	LD	H,A
4431+  A9F5 C9          	RET
4432+  A9F6             
4433+  A9F6             
4434+  A9F6             ;-----------------------------------------------
4435+  A9F6             
4436+  A9F6             ;CLEARMAPSYM			;  
4437+  A9F6             ;	PUSH	BC		;  
4438+  A9F6             ;	LD	HL,L_UMAP
4439+  A9F6             ;	LD	BC,#1E00
4440+  A9F6             ;L_7F20	LD	A,(HL)
4441+  A9F6             ;	CP	E
4442+  A9F6             ;	JR	NZ,L_7F28
4443+  A9F6             ;	LD	(HL),0
4444+  A9F6             ;L_7F28	INC	HL
4445+  A9F6             ;	DEC	BC
4446+  A9F6             ;	LD	A,B
4447+  A9F6             ;	OR	C
4448+  A9F6             ;	JR	NZ,L_7F20
4449+  A9F6             ;	POP	BC
4450+  A9F6             ;	RET
4451+  A9F6             
4452+  A9F6             ;-----------------------------------------------
4453+  A9F6             ; VAR
4454+  A9F6             ;-----------------------------------------------
4455+  A9F6             
4456+  A9F6 1E 03       V_EXMAP	DEFW	#031E	;  "exit"   (   !)
4457+  A9F8 05 04       V_WLCLR	DEFW	#0405
4458+  A9FA 00          LEVEL	DEFB	0
4459+  A9FB 00          V_FRCNT	DEFB	0	; 0/1  
4460+  A9FC 00          V_JTCNT	DEFB	0	;  (, ) 
4461+  A9FD 00          V_EGCNT	DEFB	0	; 
4462+  A9FE             
4463+  A9FE 00          L_FA9F	DB	#00	;(var):    - -
4464+  A9FF 00          L_FAA0	DB	#00	;(var):    - (1)-(2)
4465+  AA00 00          L_FAA1	DB	#00	;(var):    - (1)
4466+  AA01             
4467+  AA01 0D          L_FAA2	DB	#0D	;(var): player rotation angle
4468+  AA02 EB          L_FAA3	DB	#EB	;(var): player XY
4469+  AA03 ED          L_FAA4	DB	#ED	;(var): player XY
4470+  AA04 00          L_FAA5	DB	#00	; 0..3 (    )
4471+  AA05 00          L_FAA6	DB	#00	;
4472+  AA06 02          L_FAA7	DB	#02	;
4473+  AA07 04          L_FAA8	DB	#04	;  
4474+  AA08 00 00       L_FAA9	DEFW	#0000	;monster XY
4475+  AA0A 00          L_FAAB	DB	#00	;  0/1
4476+  AA0B 00          L_KEYS	DB	#00	;
4477+  AA0C 00          L_FAAD	DB	#00	; 
4478+  AA0D 66          L_FAAE	DB	#66	; 
4479+  AA0E 05          L_FAAF	DB	#05	; 
4480+  AA0F 00          L_FAB0	DB	#00	; ()
4481+  AA10 2F          L_FAB1	DB	#2F	;bullets
4482+  AA11 00          L_FAB2	DB	#00	;  (0=)
4483+  AA12 00          L_FAB3	DB	#00	;(unused)
4484+  AA13 00          L_FAB4	DB	#00	;(unused)
4485+  AA14 00          L_FAB5	DB	#00	;  ; >=1 -   
4486+  AA15 03          L_FAB6	DB	#03	;
4487+  AA16 02          L_FAB7	DB	#02	; QUAKE sign count
4488+  AA17 00          L_FAB8	DB	#00	;   
4489+  AA18 00          L_FAB9	DB	#00	;
4490+  AA19 00          	DB	#00	;
4491+  AA1A 00          L_FABB	DB	#00	;
4492+  AA1B 00          L_FABC	DB	#00	;
4493+  AA1C 00 00       L_FABD	DEFW	#0000	;  
4494+  AA1E             
4495+  AA1E             NUMSTR	DEFB	0,0,0,0,0,0	; 5 chars + #0
4495+  AA1E 000000000000
4496+  AA24             
4497+  AA24             ;-------------------------------------------------
4498+  AA24             
4499+  AA24             	IF DEBUG=1
4500+  AA24~            PRINTNUM00
4501+  AA24~            	PUSH	AF
4502+  AA24~            	PUSH	BC		; for test purpose
4503+  AA24~            	LD	BC,00		; not present in
4504+  AA24~            	CALL	PRINTNUM	; normal build
4505+  AA24~            	POP	BC
4506+  AA24~            	POP	AF
4507+  AA24~            	RET
4508+  AA24             	ENDIF
4509+  AA24             
0084   AA24             	INCLUDE "Qsprdata.txt"
0001+  AA24             SPR_EGG
0002+  AA24             	INCBIN	"res\egg.spr"
0003+  AA7F             
0004+  AA7F             SPR_HOUSE
0005+  AA7F             	INCBIN	"res\house.spr"
0006+  AAD8             
0007+  AAD8             SPR_STONE
0008+  AAD8             	INCBIN	"res\stone.spr"
0009+  AB76             
0010+  AB76             SPR_MOON
0011+  AB76             	INCBIN	"res\moon.spr"
0012+  ABF1             
0013+  ABF1             SPR_OGRADA
0014+  ABF1             	INCBIN	"res\ograda.spr"
0015+  AC57             
0016+  AC57             SPR_FLAME
0017+  AC57             	INCBIN	"res\flame.spr"
0018+  ACB1             
0019+  ACB1             SPR_BOOM2
0020+  ACB1             	INCBIN	"res\boom2.spr"
0021+  ACDE             
0022+  ACDE             SPR_BKG1
0023+  ACDE             	INCBIN	"res\bkg1.spr"
0024+  AD58             
0025+  AD58             SPR_GOAT0
0026+  AD58             	INCBIN	"res\goat0.spr"
0027+  ADFF             SPR_GOAT1
0028+  ADFF             	INCBIN	"res\goat1.spr"
0029+  AFA5             SPR_GOAT2
0030+  AFA5             	INCBIN	"res\goat2.spr"
0031+  B2F8             SPR_GOAT3
0032+  B2F8             	INCBIN	"res\goat3.spr"
0033+  B464             
0034+  B464             MAPEXITMARK
0035+  B464             	INCBIN	"res\exit.spr"
0036+  B47B             
0037+  B47B 05          L_9CDF	DB	#05
0038+  B47C 00          	DB	#00
0039+  B47D 00          	DB	#00
0040+  B47E 06          	DB	#06
0041+  B47F 01          	DB	#01
0042+  B480 00          	DB	#00
0043+  B481 06          	DB	#06
0044+  B482 02          	DB	#02
0045+  B483 00          	DB	#00
0046+  B484 06          	DB	#06
0047+  B485 03          	DB	#03
0048+  B486 00          	DB	#00
0049+  B487 06          	DB	#06
0050+  B488 04          	DB	#04
0051+  B489 00          	DB	#00
0052+  B48A 06          	DB	#06
0053+  B48B 44          	DB	#44
0054+  B48C 10          	DB	#10
0055+  B48D 82          	DB	#82
0056+  B48E 10          	DB	#10
0057+  B48F 45          	DB	#45
0058+  B490 10          	DB	#10
0059+  B491 AA          	DB	#AA
0060+  B492 11          	DB	#11
0061+  B493 AA          	DB	#AA
0062+  B494 55          	DB	#55
0063+  B495 A8          	DB	#A8
0064+  B496 15          	DB	#15
0065+  B497 A2          	DB	#A2
0066+  B498 55          	DB	#55
0067+  B499 AA          	DB	#AA
0068+  B49A 45          	DB	#45
0069+  B49B AA          	DB	#AA
0070+  B49C 55          	DB	#55
0071+  B49D AA          	DB	#AA
0072+  B49E 55          	DB	#55
0073+  B49F AA          	DB	#AA
0074+  B4A0 55          	DB	#55
0075+  B4A1 AA          	DB	#AA
0076+  B4A2 55          	DB	#55
0077+  B4A3 AA          	DB	#AA
0078+  B4A4 15          	DB	#15
0079+  B4A5 AA          	DB	#AA
0080+  B4A6 51          	DB	#51
0081+  B4A7 8A          	DB	#8A
0082+  B4A8 55          	DB	#55
0083+  B4A9 A2          	DB	#A2
0084+  B4AA 15          	DB	#15
0085+  B4AB A8          	DB	#A8
0086+  B4AC 45          	DB	#45
0087+  B4AD 10          	DB	#10
0088+  B4AE A2          	DB	#A2
0089+  B4AF 08          	DB	#08
0090+  B4B0 45          	DB	#45
0091+  B4B1 00          	DB	#00
0092+  B4B2 22          	DB	#22
0093+  B4B3 05          L_9D17	DB	#05
0094+  B4B4 00          	DB	#00
0095+  B4B5 00          	DB	#00
0096+  B4B6 05          	DB	#05
0097+  B4B7 01          	DB	#01
0098+  B4B8 00          	DB	#00
0099+  B4B9 05          	DB	#05
0100+  B4BA 02          	DB	#02
0101+  B4BB 00          	DB	#00
0102+  B4BC 05          	DB	#05
0103+  B4BD 03          	DB	#03
0104+  B4BE 00          	DB	#00
0105+  B4BF 05          	DB	#05
0106+  B4C0 04          	DB	#04
0107+  B4C1 00          	DB	#00
0108+  B4C2 05          	DB	#05
0109+  B4C3 00          	DB	#00
0110+  B4C4 00          	DB	#00
0111+  B4C5 00          	DB	#00
0112+  B4C6 00          	DB	#00
0113+  B4C7 44          	DB	#44
0114+  B4C8 10          	DB	#10
0115+  B4C9 82          	DB	#82
0116+  B4CA 00          	DB	#00
0117+  B4CB 55          	DB	#55
0118+  B4CC 20          	DB	#20
0119+  B4CD 8A          	DB	#8A
0120+  B4CE 51          	DB	#51
0121+  B4CF AA          	DB	#AA
0122+  B4D0 05          	DB	#05
0123+  B4D1 A8          	DB	#A8
0124+  B4D2 15          	DB	#15
0125+  B4D3 A2          	DB	#A2
0126+  B4D4 55          	DB	#55
0127+  B4D5 A8          	DB	#A8
0128+  B4D6 15          	DB	#15
0129+  B4D7 AA          	DB	#AA
0130+  B4D8 51          	DB	#51
0131+  B4D9 8A          	DB	#8A
0132+  B4DA 55          	DB	#55
0133+  B4DB A2          	DB	#A2
0134+  B4DC 15          	DB	#15
0135+  B4DD 88          	DB	#88
0136+  B4DE 55          	DB	#55
0137+  B4DF A0          	DB	#A0
0138+  B4E0 05          	DB	#05
0139+  B4E1 20          	DB	#20
0140+  B4E2 8A          	DB	#8A
0141+  B4E3 00          	DB	#00
0142+  B4E4 51          	DB	#51
0143+  B4E5 00          	DB	#00
0144+  B4E6 22          	DB	#22
0145+  B4E7 00          	DB	#00
0146+  B4E8 00          	DB	#00
0147+  B4E9 00          	DB	#00
0148+  B4EA 00          	DB	#00
0149+  B4EB 03          L_9D4F	DB	#03
0150+  B4EC 00          	DB	#00
0151+  B4ED 00          	DB	#00
0152+  B4EE 05          	DB	#05
0153+  B4EF 01          	DB	#01
0154+  B4F0 00          	DB	#00
0155+  B4F1 04          	DB	#04
0156+  B4F2 02          	DB	#02
0157+  B4F3 00          	DB	#00
0158+  B4F4 04          	DB	#04
0159+  B4F5 44          	DB	#44
0160+  B4F6 10          	DB	#10
0161+  B4F7 8A          	DB	#8A
0162+  B4F8 00          	DB	#00
0163+  B4F9 55          	DB	#55
0164+  B4FA 20          	DB	#20
0165+  B4FB 8A          	DB	#8A
0166+  B4FC 41          	DB	#41
0167+  B4FD AA          	DB	#AA
0168+  B4FE 01          	DB	#01
0169+  B4FF A8          	DB	#A8
0170+  B500 15          	DB	#15
0171+  B501 82          	DB	#82
0172+  B502 55          	DB	#55
0173+  B503 88          	DB	#88
0174+  B504 01          	DB	#01
0175+  B505 A8          	DB	#A8
0176+  B506 41          	DB	#41
0177+  B507 10          	DB	#10
0178+  B508 A4          	DB	#A4
0179+  B509 00          	DB	#00
0180+  B50A 49          	DB	#49
0181+  B50B 00          	DB	#00
0182+  B50C 22          	DB	#22
0183+  B50D 03          L_9D71	DB	#03
0184+  B50E 00          	DB	#00
0185+  B50F 00          	DB	#00
0186+  B510 04          	DB	#04
0187+  B511 01          	DB	#01
0188+  B512 00          	DB	#00
0189+  B513 04          	DB	#04
0190+  B514 02          	DB	#02
0191+  B515 00          	DB	#00
0192+  B516 04          	DB	#04
0193+  B517 00          	DB	#00
0194+  B518 00          	DB	#00
0195+  B519 00          	DB	#00
0196+  B51A 00          	DB	#00
0197+  B51B 44          	DB	#44
0198+  B51C 10          	DB	#10
0199+  B51D AA          	DB	#AA
0200+  B51E 00          	DB	#00
0201+  B51F 82          	DB	#82
0202+  B520 15          	DB	#15
0203+  B521 40          	DB	#40
0204+  B522 24          	DB	#24
0205+  B523 88          	DB	#88
0206+  B524 45          	DB	#45
0207+  B525 10          	DB	#10
0208+  B526 82          	DB	#82
0209+  B527 00          	DB	#00
0210+  B528 45          	DB	#45
0211+  B529 00          	DB	#00
0212+  B52A 22          	DB	#22
0213+  B52B 00          	DB	#00
0214+  B52C 00          	DB	#00
0215+  B52D 00          	DB	#00
0216+  B52E 00          	DB	#00
0217+  B52F             
0218+  B52F 01          L_9D93	DB	#01	; 
0219+  B530 00          	DB	#00
0220+  B531 00          	DB	#00
0221+  B532 07          	DB	#07
0222+  B533 40          	DB	#40
0223+  B534 A3          	DB	#A3
0224+  B535 D5          	DB	#D5
0225+  B536 4B          	DB	#4B
0226+  B537 36          	DB	#36
0227+  B538 70          	DB	#70
0228+  B539 2A          	DB	#2A
0229+  B53A 00          	DB	#00
0230+  B53B 01          L_9D9F	DB	#01	; 
0231+  B53C 00          	DB	#00
0232+  B53D 00          	DB	#00
0233+  B53E 07          	DB	#07
0234+  B53F 00          	DB	#00
0235+  B540 00          	DB	#00
0236+  B541 1E          	DB	#1E
0237+  B542 3C          	DB	#3C
0238+  B543 56          	DB	#56
0239+  B544 A9          	DB	#A9
0240+  B545 C6          	DB	#C6
0241+  B546 00          	DB	#00
0242+  B547 06          L_9DAB	DB	#06	; 
0243+  B548 00          	DB	#00
0244+  B549 00          	DB	#00
0245+  B54A 07          	DB	#07
0246+  B54B 00          	DB	#00
0247+  B54C 01          	DB	#01
0248+  B54D 04          	DB	#04
0249+  B54E 00          	DB	#00
0250+  B54F 02          	DB	#02
0251+  B550 07          	DB	#07
0252+  B551 01          	DB	#01
0253+  B552 00          	DB	#00
0254+  B553 05          	DB	#05
0255+  B554 01          	DB	#01
0256+  B555 01          	DB	#01
0257+  B556 06          	DB	#06
0258+  B557 01          	DB	#01
0259+  B558 02          	DB	#02
0260+  B559 06          	DB	#06
0261+  B55A 3C          	DB	#3C
0262+  B55B 42          	DB	#42
0263+  B55C 5D          	DB	#5D
0264+  B55D 2E          	DB	#2E
0265+  B55E 13          	DB	#13
0266+  B55F 0D          	DB	#0D
0267+  B560 02          	DB	#02
0268+  B561 02          	DB	#02
0269+  B562 00          	DB	#00
0270+  B563 00          	DB	#00
0271+  B564 00          	DB	#00
0272+  B565 B9          	DB	#B9
0273+  B566 5A          	DB	#5A
0274+  B567 A7          	DB	#A7
0275+  B568 5B          	DB	#5B
0276+  B569 FA          	DB	#FA
0277+  B56A 00          	DB	#00
0278+  B56B 70          	DB	#70
0279+  B56C 88          	DB	#88
0280+  B56D 74          	DB	#74
0281+  B56E F4          	DB	#F4
0282+  B56F C8          	DB	#C8
0283+  B570 B0          	DB	#B0
0284+  B571 40          	DB	#40
0285+  B572 05          	DB	#05
0286+  B573 05          	DB	#05
0287+  B574 06          	DB	#06
0288+  B575 07          	DB	#07
0289+  B576 02          	DB	#02
0290+  B577 01          	DB	#01
0291+  B578 01          	DB	#01
0292+  B579 00          	DB	#00
0293+  B57A 75          	DB	#75
0294+  B57B 77          	DB	#77
0295+  B57C 6B          	DB	#6B
0296+  B57D 77          	DB	#77
0297+  B57E E9          	DB	#E9
0298+  B57F 41          	DB	#41
0299+  B580 82          	DB	#82
0300+  B581 04          	DB	#04
0301+  B582 90          	DB	#90
0302+  B583 28          	DB	#28
0303+  B584 28          	DB	#28
0304+  B585 A0          	DB	#A0
0305+  B586 80          	DB	#80
0306+  B587 40          	DB	#40
0307+  B588 80          	DB	#80
0308+  B589 00          	DB	#00
0309+  B58A 06          L_9DEE	DB	#06	; 
0310+  B58B 00          	DB	#00
0311+  B58C 00          	DB	#00
0312+  B58D 05          	DB	#05
0313+  B58E 00          	DB	#00
0314+  B58F 01          	DB	#01
0315+  B590 04          	DB	#04
0316+  B591 00          	DB	#00
0317+  B592 02          	DB	#02
0318+  B593 07          	DB	#07
0319+  B594 01          	DB	#01
0320+  B595 00          	DB	#00
0321+  B596 07          	DB	#07
0322+  B597 01          	DB	#01
0323+  B598 01          	DB	#01
0324+  B599 06          	DB	#06
0325+  B59A 01          	DB	#01
0326+  B59B 02          	DB	#02
0327+  B59C 07          	DB	#07
0328+  B59D 00          	DB	#00
0329+  B59E 00          	DB	#00
0330+  B59F 00          	DB	#00
0331+  B5A0 00          	DB	#00
0332+  B5A1 00          	DB	#00
0333+  B5A2 02          	DB	#02
0334+  B5A3 07          	DB	#07
0335+  B5A4 07          	DB	#07
0336+  B5A5 00          	DB	#00
0337+  B5A6 00          	DB	#00
0338+  B5A7 00          	DB	#00
0339+  B5A8 1A          	DB	#1A
0340+  B5A9 C5          	DB	#C5
0341+  B5AA 75          	DB	#75
0342+  B5AB 6F          	DB	#6F
0343+  B5AC 6A          	DB	#6A
0344+  B5AD 00          	DB	#00
0345+  B5AE 00          	DB	#00
0346+  B5AF 00          	DB	#00
0347+  B5B0 00          	DB	#00
0348+  B5B1 60          	DB	#60
0349+  B5B2 B0          	DB	#B0
0350+  B5B3 D0          	DB	#D0
0351+  B5B4 A0          	DB	#A0
0352+  B5B5 0A          	DB	#0A
0353+  B5B6 16          	DB	#16
0354+  B5B7 15          	DB	#15
0355+  B5B8 0A          	DB	#0A
0356+  B5B9 04          	DB	#04
0357+  B5BA 00          	DB	#00
0358+  B5BB 00          	DB	#00
0359+  B5BC 00          	DB	#00
0360+  B5BD 72          	DB	#72
0361+  B5BE 29          	DB	#29
0362+  B5BF C5          	DB	#C5
0363+  B5C0 42          	DB	#42
0364+  B5C1 24          	DB	#24
0365+  B5C2 00          	DB	#00
0366+  B5C3 00          	DB	#00
0367+  B5C4 00          	DB	#00
0368+  B5C5 D0          	DB	#D0
0369+  B5C6 68          	DB	#68
0370+  B5C7 74          	DB	#74
0371+  B5C8 BA          	DB	#BA
0372+  B5C9 BA          	DB	#BA
0373+  B5CA 44          	DB	#44
0374+  B5CB 38          	DB	#38
0375+  B5CC 00          	DB	#00
0376+  B5CD 09          L_9E31	DB	#09	; 
0377+  B5CE 00          	DB	#00
0378+  B5CF 00          	DB	#00
0379+  B5D0 07          	DB	#07
0380+  B5D1 00          	DB	#00
0381+  B5D2 01          	DB	#01
0382+  B5D3 07          	DB	#07
0383+  B5D4 00          	DB	#00
0384+  B5D5 02          	DB	#02
0385+  B5D6 07          	DB	#07
0386+  B5D7 01          	DB	#01
0387+  B5D8 00          	DB	#00
0388+  B5D9 06          	DB	#06
0389+  B5DA 01          	DB	#01
0390+  B5DB 01          	DB	#01
0391+  B5DC 05          	DB	#05
0392+  B5DD 01          	DB	#01
0393+  B5DE 02          	DB	#02
0394+  B5DF 04          	DB	#04
0395+  B5E0 02          	DB	#02
0396+  B5E1 00          	DB	#00
0397+  B5E2 05          	DB	#05
0398+  B5E3 02          	DB	#02
0399+  B5E4 01          	DB	#01
0400+  B5E5 04          	DB	#04
0401+  B5E6 02          	DB	#02
0402+  B5E7 02          	DB	#02
0403+  B5E8 06          	DB	#06
0404+  B5E9 70          	DB	#70
0405+  B5EA 8C          	DB	#8C
0406+  B5EB B3          	DB	#B3
0407+  B5EC 5C          	DB	#5C
0408+  B5ED 5F          	DB	#5F
0409+  B5EE 2F          	DB	#2F
0410+  B5EF 17          	DB	#17
0411+  B5F0 0B          	DB	#0B
0412+  B5F1 00          	DB	#00
0413+  B5F2 00          	DB	#00
0414+  B5F3 00          	DB	#00
0415+  B5F4 80          	DB	#80
0416+  B5F5 58          	DB	#58
0417+  B5F6 5C          	DB	#5C
0418+  B5F7 AC          	DB	#AC
0419+  B5F8 AD          	DB	#AD
0420+  B5F9 00          	DB	#00
0421+  B5FA 00          	DB	#00
0422+  B5FB 06          	DB	#06
0423+  B5FC 19          	DB	#19
0424+  B5FD 25          	DB	#25
0425+  B5FE 5D          	DB	#5D
0426+  B5FF BA          	DB	#BA
0427+  B600 7A          	DB	#7A
0428+  B601 05          	DB	#05
0429+  B602 02          	DB	#02
0430+  B603 01          	DB	#01
0431+  B604 02          	DB	#02
0432+  B605 05          	DB	#05
0433+  B606 06          	DB	#06
0434+  B607 05          	DB	#05
0435+  B608 06          	DB	#06
0436+  B609 D2          	DB	#D2
0437+  B60A 2D          	DB	#2D
0438+  B60B C0          	DB	#C0
0439+  B60C BD          	DB	#BD
0440+  B60D 7A          	DB	#7A
0441+  B60E 76          	DB	#76
0442+  B60F 7A          	DB	#7A
0443+  B610 74          	DB	#74
0444+  B611 E4          	DB	#E4
0445+  B612 98          	DB	#98
0446+  B613 60          	DB	#60
0447+  B614 98          	DB	#98
0448+  B615 66          	DB	#66
0449+  B616 E5          	DB	#E5
0450+  B617 CD          	DB	#CD
0451+  B618 C9          	DB	#C9
0452+  B619 05          	DB	#05
0453+  B61A 02          	DB	#02
0454+  B61B 01          	DB	#01
0455+  B61C 03          	DB	#03
0456+  B61D 01          	DB	#01
0457+  B61E 00          	DB	#00
0458+  B61F 00          	DB	#00
0459+  B620 00          	DB	#00
0460+  B621 79          	DB	#79
0461+  B622 7A          	DB	#7A
0462+  B623 35          	DB	#35
0463+  B624 C0          	DB	#C0
0464+  B625 00          	DB	#00
0465+  B626 42          	DB	#42
0466+  B627 21          	DB	#21
0467+  B628 02          	DB	#02
0468+  B629 9A          	DB	#9A
0469+  B62A EC          	DB	#EC
0470+  B62B 64          	DB	#64
0471+  B62C 28          	DB	#28
0472+  B62D 50          	DB	#50
0473+  B62E A0          	DB	#A0
0474+  B62F 00          	DB	#00
0475+  B630 00          	DB	#00
0476+  B631 09          L_9E95	DB	#09	; 
0477+  B632 00          	DB	#00
0478+  B633 00          	DB	#00
0479+  B634 05          	DB	#05
0480+  B635 00          	DB	#00
0481+  B636 01          	DB	#01
0482+  B637 06          	DB	#06
0483+  B638 00          	DB	#00
0484+  B639 02          	DB	#02
0485+  B63A 07          	DB	#07
0486+  B63B 01          	DB	#01
0487+  B63C 00          	DB	#00
0488+  B63D 07          	DB	#07
0489+  B63E 01          	DB	#01
0490+  B63F 01          	DB	#01
0491+  B640 05          	DB	#05
0492+  B641 01          	DB	#01
0493+  B642 02          	DB	#02
0494+  B643 07          	DB	#07
0495+  B644 02          	DB	#02
0496+  B645 00          	DB	#00
0497+  B646 07          	DB	#07
0498+  B647 02          	DB	#02
0499+  B648 01          	DB	#01
0500+  B649 04          	DB	#04
0501+  B64A 02          	DB	#02
0502+  B64B 02          	DB	#02
0503+  B64C 07          	DB	#07
0504+  B64D 00          	DB	#00
0505+  B64E 00          	DB	#00
0506+  B64F 00          	DB	#00
0507+  B650 00          	DB	#00
0508+  B651 00          	DB	#00
0509+  B652 00          	DB	#00
0510+  B653 03          	DB	#03
0511+  B654 05          	DB	#05
0512+  B655 00          	DB	#00
0513+  B656 00          	DB	#00
0514+  B657 00          	DB	#00
0515+  B658 00          	DB	#00
0516+  B659 0E          	DB	#0E
0517+  B65A 31          	DB	#31
0518+  B65B 86          	DB	#86
0519+  B65C 79          	DB	#79
0520+  B65D 00          	DB	#00
0521+  B65E 00          	DB	#00
0522+  B65F 00          	DB	#00
0523+  B660 00          	DB	#00
0524+  B661 00          	DB	#00
0525+  B662 00          	DB	#00
0526+  B663 80          	DB	#80
0527+  B664 20          	DB	#20
0528+  B665 0A          	DB	#0A
0529+  B666 0C          	DB	#0C
0530+  B667 2A          	DB	#2A
0531+  B668 2C          	DB	#2C
0532+  B669 4A          	DB	#4A
0533+  B66A 54          	DB	#54
0534+  B66B BA          	DB	#BA
0535+  B66C B7          	DB	#B7
0536+  B66D F4          	DB	#F4
0537+  B66E ED          	DB	#ED
0538+  B66F F5          	DB	#F5
0539+  B670 E9          	DB	#E9
0540+  B671 F3          	DB	#F3
0541+  B672 F5          	DB	#F5
0542+  B673 6A          	DB	#6A
0543+  B674 80          	DB	#80
0544+  B675 CC          	DB	#CC
0545+  B676 CA          	DB	#CA
0546+  B677 BA          	DB	#BA
0547+  B678 52          	DB	#52
0548+  B679 6C          	DB	#6C
0549+  B67A 68          	DB	#68
0550+  B67B B4          	DB	#B4
0551+  B67C BA          	DB	#BA
0552+  B67D B2          	DB	#B2
0553+  B67E 48          	DB	#48
0554+  B67F 30          	DB	#30
0555+  B680 00          	DB	#00
0556+  B681 00          	DB	#00
0557+  B682 00          	DB	#00
0558+  B683 00          	DB	#00
0559+  B684 00          	DB	#00
0560+  B685 00          	DB	#00
0561+  B686 85          	DB	#85
0562+  B687 42          	DB	#42
0563+  B688 04          	DB	#04
0564+  B689 00          	DB	#00
0565+  B68A 00          	DB	#00
0566+  B68B 00          	DB	#00
0567+  B68C 00          	DB	#00
0568+  B68D DA          	DB	#DA
0569+  B68E 5D          	DB	#5D
0570+  B68F 2D          	DB	#2D
0571+  B690 2D          	DB	#2D
0572+  B691 12          	DB	#12
0573+  B692 0C          	DB	#0C
0574+  B693 00          	DB	#00
0575+  B694 00          	DB	#00
0576+  B695 CA          	DB	#CA
0577+  B696 D5          	DB	#D5
0578+  B697             
0579+  B697 05          L_9FF4	DB	#05
0580+  B698 00          	DB	#00
0581+  B699 00          	DB	#00
0582+  B69A 02          	DB	#02
0583+  B69B 01          	DB	#01
0584+  B69C 00          	DB	#00
0585+  B69D 02          	DB	#02
0586+  B69E 02          	DB	#02
0587+  B69F 00          	DB	#00
0588+  B6A0 02          	DB	#02
0589+  B6A1 03          	DB	#03
0590+  B6A2 00          	DB	#00
0591+  B6A3 02          	DB	#02
0592+  B6A4 04          	DB	#04
0593+  B6A5 00          	DB	#00
0594+  B6A6 02          	DB	#02
0595+  B6A7 44          	DB	#44
0596+  B6A8 12          	DB	#12
0597+  B6A9 B0          	DB	#B0
0598+  B6AA 16          	DB	#16
0599+  B6AB 45          	DB	#45
0600+  B6AC 18          	DB	#18
0601+  B6AD AA          	DB	#AA
0602+  B6AE 5D          	DB	#5D
0603+  B6AF AE          	DB	#AE
0604+  B6B0 55          	DB	#55
0605+  B6B1 E8          	DB	#E8
0606+  B6B2 75          	DB	#75
0607+  B6B3 A2          	DB	#A2
0608+  B6B4 5D          	DB	#5D
0609+  B6B5 AE          	DB	#AE
0610+  B6B6 45          	DB	#45
0611+  B6B7 EA          	DB	#EA
0612+  B6B8 D5          	DB	#D5
0613+  B6B9 EE          	DB	#EE
0614+  B6BA 55          	DB	#55
0615+  B6BB AA          	DB	#AA
0616+  B6BC 77          	DB	#77
0617+  B6BD FA          	DB	#FA
0618+  B6BE 55          	DB	#55
0619+  B6BF AB          	DB	#AB
0620+  B6C0 75          	DB	#75
0621+  B6C1 CB          	DB	#CB
0622+  B6C2 51          	DB	#51
0623+  B6C3 8A          	DB	#8A
0624+  B6C4 55          	DB	#55
0625+  B6C5 AE          	DB	#AE
0626+  B6C6 1D          	DB	#1D
0627+  B6C7 A8          	DB	#A8
0628+  B6C8 45          	DB	#45
0629+  B6C9 10          	DB	#10
0630+  B6CA B2          	DB	#B2
0631+  B6CB 38          	DB	#38
0632+  B6CC 45          	DB	#45
0633+  B6CD 00          	DB	#00
0634+  B6CE 22          	DB	#22
0635+  B6CF 05          L_A02C	DB	#05
0636+  B6D0 00          	DB	#00
0637+  B6D1 00          	DB	#00
0638+  B6D2 02          	DB	#02
0639+  B6D3 01          	DB	#01
0640+  B6D4 00          	DB	#00
0641+  B6D5 02          	DB	#02
0642+  B6D6 02          	DB	#02
0643+  B6D7 00          	DB	#00
0644+  B6D8 02          	DB	#02
0645+  B6D9 03          	DB	#03
0646+  B6DA 00          	DB	#00
0647+  B6DB 02          	DB	#02
0648+  B6DC 04          	DB	#04
0649+  B6DD 00          	DB	#00
0650+  B6DE 02          	DB	#02
0651+  B6DF 00          	DB	#00
0652+  B6E0 00          	DB	#00
0653+  B6E1 00          	DB	#00
0654+  B6E2 00          	DB	#00
0655+  B6E3 44          	DB	#44
0656+  B6E4 10          	DB	#10
0657+  B6E5 86          	DB	#86
0658+  B6E6 00          	DB	#00
0659+  B6E7 55          	DB	#55
0660+  B6E8 30          	DB	#30
0661+  B6E9 9A          	DB	#9A
0662+  B6EA 51          	DB	#51
0663+  B6EB AE          	DB	#AE
0664+  B6EC 05          	DB	#05
0665+  B6ED B8          	DB	#B8
0666+  B6EE 15          	DB	#15
0667+  B6EF BB          	DB	#BB
0668+  B6F0 5D          	DB	#5D
0669+  B6F1 A8          	DB	#A8
0670+  B6F2 95          	DB	#95
0671+  B6F3 AE          	DB	#AE
0672+  B6F4 DD          	DB	#DD
0673+  B6F5 8A          	DB	#8A
0674+  B6F6 57          	DB	#57
0675+  B6F7 A2          	DB	#A2
0676+  B6F8 75          	DB	#75
0677+  B6F9 E8          	DB	#E8
0678+  B6FA 55          	DB	#55
0679+  B6FB A0          	DB	#A0
0680+  B6FC 0D          	DB	#0D
0681+  B6FD 34          	DB	#34
0682+  B6FE 9A          	DB	#9A
0683+  B6FF 00          	DB	#00
0684+  B700 51          	DB	#51
0685+  B701 00          	DB	#00
0686+  B702 22          	DB	#22
0687+  B703 00          	DB	#00
0688+  B704 00          	DB	#00
0689+  B705 00          	DB	#00
0690+  B706 00          	DB	#00
0691+  B707 03          L_A064	DB	#03
0692+  B708 00          	DB	#00
0693+  B709 00          	DB	#00
0694+  B70A 01          	DB	#01
0695+  B70B 01          	DB	#01
0696+  B70C 00          	DB	#00
0697+  B70D 01          	DB	#01
0698+  B70E 02          	DB	#02
0699+  B70F 00          	DB	#00
0700+  B710 01          	DB	#01
0701+  B711 44          	DB	#44
0702+  B712 10          	DB	#10
0703+  B713 8A          	DB	#8A
0704+  B714 20          	DB	#20
0705+  B715 75          	DB	#75
0706+  B716 20          	DB	#20
0707+  B717 8A          	DB	#8A
0708+  B718 5D          	DB	#5D
0709+  B719 AE          	DB	#AE
0710+  B71A C1          	DB	#C1
0711+  B71B AE          	DB	#AE
0712+  B71C 15          	DB	#15
0713+  B71D 9A          	DB	#9A
0714+  B71E 6D          	DB	#6D
0715+  B71F 98          	DB	#98
0716+  B720 01          	DB	#01
0717+  B721 A8          	DB	#A8
0718+  B722 37          	DB	#37
0719+  B723 72          	DB	#72
0720+  B724 A4          	DB	#A4
0721+  B725 00          	DB	#00
0722+  B726 59          	DB	#59
0723+  B727 00          	DB	#00
0724+  B728 22          	DB	#22
0725+  B729 03          L_A086	DB	#03
0726+  B72A 00          	DB	#00
0727+  B72B 00          	DB	#00
0728+  B72C 01          	DB	#01
0729+  B72D 01          	DB	#01
0730+  B72E 00          	DB	#00
0731+  B72F 01          	DB	#01
0732+  B730 02          	DB	#02
0733+  B731 00          	DB	#00
0734+  B732 01          	DB	#01
0735+  B733 00          	DB	#00
0736+  B734 00          	DB	#00
0737+  B735 00          	DB	#00
0738+  B736 00          	DB	#00
0739+  B737 44          	DB	#44
0740+  B738 10          	DB	#10
0741+  B739 AE          	DB	#AE
0742+  B73A 00          	DB	#00
0743+  B73B C2          	DB	#C2
0744+  B73C 15          	DB	#15
0745+  B73D 40          	DB	#40
0746+  B73E 26          	DB	#26
0747+  B73F 88          	DB	#88
0748+  B740 45          	DB	#45
0749+  B741 30          	DB	#30
0750+  B742 82          	DB	#82
0751+  B743 18          	DB	#18
0752+  B744 45          	DB	#45
0753+  B745 00          	DB	#00
0754+  B746 22          	DB	#22
0755+  B747 00          	DB	#00
0756+  B748 00          	DB	#00
0757+  B749 00          	DB	#00
0758+  B74A 00          	DB	#00
0759+  B74B             L_A0A8			; Monster, dist.1
0760+  B74B             	INCBIN	"res\41128.spr"
0761+  B833             L_A2A4			; Monster, dist.2
0762+  B833             	INCBIN	"res\41636.spr"
0763+  B9EC             L_A616			; Monster, dist.3
0764+  B9EC             	INCBIN	"res\42518.spr"
0765+  BD3C             
0766+  BD3C             L_AD24			;   
0767+  BD3C             	INCBIN	"res\44324.spr"
0768+  BF37             
0769+  BF37 09          L_AF1F	DB	#09
0770+  BF38 00          	DB	#00
0771+  BF39 00          	DB	#00
0772+  BF3A 06          	DB	#06
0773+  BF3B 00          	DB	#00
0774+  BF3C 01          	DB	#01
0775+  BF3D 0E          	DB	#0E
0776+  BF3E 00          	DB	#00
0777+  BF3F 02          	DB	#02
0778+  BF40 06          	DB	#06
0779+  BF41 01          	DB	#01
0780+  BF42 00          	DB	#00
0781+  BF43 06          	DB	#06
0782+  BF44 01          	DB	#01
0783+  BF45 01          	DB	#01
0784+  BF46 03          	DB	#03
0785+  BF47 01          	DB	#01
0786+  BF48 02          	DB	#02
0787+  BF49 06          	DB	#06
0788+  BF4A 02          	DB	#02
0789+  BF4B 00          	DB	#00
0790+  BF4C 06          	DB	#06
0791+  BF4D 02          	DB	#02
0792+  BF4E 01          	DB	#01
0793+  BF4F 16          	DB	#16
0794+  BF50 02          	DB	#02
0795+  BF51 02          	DB	#02
0796+  BF52 06          	DB	#06
0797+  BF53 0F          	DB	#0F
0798+  BF54 1F          	DB	#1F
0799+  BF55 3C          	DB	#3C
0800+  BF56 6B          	DB	#6B
0801+  BF57 F7          	DB	#F7
0802+  BF58 EB          	DB	#EB
0803+  BF59 DD          	DB	#DD
0804+  BF5A DE          	DB	#DE
0805+  BF5B E7          	DB	#E7
0806+  BF5C C3          	DB	#C3
0807+  BF5D A5          	DB	#A5
0808+  BF5E B5          	DB	#B5
0809+  BF5F 2C          	DB	#2C
0810+  BF60 24          	DB	#24
0811+  BF61 24          	DB	#24
0812+  BF62 00          	DB	#00
0813+  BF63 F0          	DB	#F0
0814+  BF64 F8          	DB	#F8
0815+  BF65 3C          	DB	#3C
0816+  BF66 D6          	DB	#D6
0817+  BF67 EF          	DB	#EF
0818+  BF68 D7          	DB	#D7
0819+  BF69 BB          	DB	#BB
0820+  BF6A 7B          	DB	#7B
0821+  BF6B 81          	DB	#81
0822+  BF6C 00          	DB	#00
0823+  BF6D 78          	DB	#78
0824+  BF6E 04          	DB	#04
0825+  BF6F 18          	DB	#18
0826+  BF70 04          	DB	#04
0827+  BF71 78          	DB	#78
0828+  BF72 81          	DB	#81
0829+  BF73 00          	DB	#00
0830+  BF74 24          	DB	#24
0831+  BF75 42          	DB	#42
0832+  BF76 66          	DB	#66
0833+  BF77 7E          	DB	#7E
0834+  BF78 7E          	DB	#7E
0835+  BF79 3C          	DB	#3C
0836+  BF7A 00          	DB	#00
0837+  BF7B 81          	DB	#81
0838+  BF7C 00          	DB	#00
0839+  BF7D 3E          	DB	#3E
0840+  BF7E 2A          	DB	#2A
0841+  BF7F 2A          	DB	#2A
0842+  BF80 22          	DB	#22
0843+  BF81 00          	DB	#00
0844+  BF82 81          	DB	#81
0845+  BF83 DE          	DB	#DE
0846+  BF84 DD          	DB	#DD
0847+  BF85 EB          	DB	#EB
0848+  BF86 F7          	DB	#F7
0849+  BF87 6B          	DB	#6B
0850+  BF88 3C          	DB	#3C
0851+  BF89 1F          	DB	#1F
0852+  BF8A 8F          	DB	#8F
0853+  BF8B 00          	DB	#00
0854+  BF8C 18          	DB	#18
0855+  BF8D 20          	DB	#20
0856+  BF8E 18          	DB	#18
0857+  BF8F 85          	DB	#85
0858+  BF90 99          	DB	#99
0859+  BF91 C3          	DB	#C3
0860+  BF92 E7          	DB	#E7
0861+  BF93 7B          	DB	#7B
0862+  BF94 BB          	DB	#BB
0863+  BF95 D7          	DB	#D7
0864+  BF96 EF          	DB	#EF
0865+  BF97 D6          	DB	#D6
0866+  BF98 3C          	DB	#3C
0867+  BF99 F8          	DB	#F8
0868+  BF9A F1          	DB	#F1
0869+  BF9B 09          L_AF83	DB	#09
0870+  BF9C 00          	DB	#00
0871+  BF9D 00          	DB	#00
0872+  BF9E 06          	DB	#06
0873+  BF9F 00          	DB	#00
0874+  BFA0 01          	DB	#01
0875+  BFA1 06          	DB	#06
0876+  BFA2 00          	DB	#00
0877+  BFA3 02          	DB	#02
0878+  BFA4 0E          	DB	#0E
0879+  BFA5 01          	DB	#01
0880+  BFA6 00          	DB	#00
0881+  BFA7 06          	DB	#06
0882+  BFA8 01          	DB	#01
0883+  BFA9 01          	DB	#01
0884+  BFAA 03          	DB	#03
0885+  BFAB 01          	DB	#01
0886+  BFAC 02          	DB	#02
0887+  BFAD 06          	DB	#06
0888+  BFAE 02          	DB	#02
0889+  BFAF 00          	DB	#00
0890+  BFB0 16          	DB	#16
0891+  BFB1 02          	DB	#02
0892+  BFB2 01          	DB	#01
0893+  BFB3 06          	DB	#06
0894+  BFB4 02          	DB	#02
0895+  BFB5 02          	DB	#02
0896+  BFB6 06          	DB	#06
0897+  BFB7 0F          	DB	#0F
0898+  BFB8 17          	DB	#17
0899+  BFB9 21          	DB	#21
0900+  BFBA 44          	DB	#44
0901+  BFBB 82          	DB	#82
0902+  BFBC D5          	DB	#D5
0903+  BFBD CB          	DB	#CB
0904+  BFBE E6          	DB	#E6
0905+  BFBF FF          	DB	#FF
0906+  BFC0 EF          	DB	#EF
0907+  BFC1 83          	DB	#83
0908+  BFC2 ED          	DB	#ED
0909+  BFC3 6E          	DB	#6E
0910+  BFC4 2C          	DB	#2C
0911+  BFC5 29          	DB	#29
0912+  BFC6 12          	DB	#12
0913+  BFC7 F0          	DB	#F0
0914+  BFC8 F8          	DB	#F8
0915+  BFC9 C0          	DB	#C0
0916+  BFCA 02          	DB	#02
0917+  BFCB 43          	DB	#43
0918+  BFCC C3          	DB	#C3
0919+  BFCD 57          	DB	#57
0920+  BFCE 67          	DB	#67
0921+  BFCF F0          	DB	#F0
0922+  BFD0 D8          	DB	#D8
0923+  BFD1 DE          	DB	#DE
0924+  BFD2 81          	DB	#81
0925+  BFD3 DE          	DB	#DE
0926+  BFD4 DC          	DB	#DC
0927+  BFD5 E8          	DB	#E8
0928+  BFD6 F3          	DB	#F3
0929+  BFD7 00          	DB	#00
0930+  BFD8 34          	DB	#34
0931+  BFD9 62          	DB	#62
0932+  BFDA 60          	DB	#60
0933+  BFDB 72          	DB	#72
0934+  BFDC 7E          	DB	#7E
0935+  BFDD 3C          	DB	#3C
0936+  BFDE 00          	DB	#00
0937+  BFDF 4F          	DB	#4F
0938+  BFE0 97          	DB	#97
0939+  BFE1 3B          	DB	#3B
0940+  BFE2 7B          	DB	#7B
0941+  BFE3 81          	DB	#81
0942+  BFE4 7B          	DB	#7B
0943+  BFE5 1B          	DB	#1B
0944+  BFE6 4F          	DB	#4F
0945+  BFE7 E4          	DB	#E4
0946+  BFE8 E2          	DB	#E2
0947+  BFE9 C9          	DB	#C9
0948+  BFEA C6          	DB	#C6
0949+  BFEB 40          	DB	#40
0950+  BFEC 03          	DB	#03
0951+  BFED 1F          	DB	#1F
0952+  BFEE 8F          	DB	#8F
0953+  BFEF 88          	DB	#88
0954+  BFF0 15          	DB	#15
0955+  BFF1 34          	DB	#34
0956+  BFF2 76          	DB	#76
0957+  BFF3 B7          	DB	#B7
0958+  BFF4 C1          	DB	#C1
0959+  BFF5 F7          	DB	#F7
0960+  BFF6 FF          	DB	#FF
0961+  BFF7 A7          	DB	#A7
0962+  BFF8 33          	DB	#33
0963+  BFF9 4B          	DB	#4B
0964+  BFFA 11          	DB	#11
0965+  BFFB 22          	DB	#22
0966+  BFFC 84          	DB	#84
0967+  BFFD E8          	DB	#E8
0968+  BFFE F1          	DB	#F1
0969+  BFFF 09          L_AFE7	DB	#09
0970+  C000 00          	DB	#00
0971+  C001 00          	DB	#00
0972+  C002 06          	DB	#06
0973+  C003 00          	DB	#00
0974+  C004 01          	DB	#01
0975+  C005 06          	DB	#06
0976+  C006 00          	DB	#00
0977+  C007 02          	DB	#02
0978+  C008 06          	DB	#06
0979+  C009 01          	DB	#01
0980+  C00A 00          	DB	#00
0981+  C00B 16          	DB	#16
0982+  C00C 01          	DB	#01
0983+  C00D 01          	DB	#01
0984+  C00E 03          	DB	#03
0985+  C00F 01          	DB	#01
0986+  C010 02          	DB	#02
0987+  C011 0E          	DB	#0E
0988+  C012 02          	DB	#02
0989+  C013 00          	DB	#00
0990+  C014 06          	DB	#06
0991+  C015 02          	DB	#02
0992+  C016 01          	DB	#01
0993+  C017 06          	DB	#06
0994+  C018 02          	DB	#02
0995+  C019 02          	DB	#02
0996+  C01A 06          	DB	#06
0997+  C01B 0F          	DB	#0F
0998+  C01C 1F          	DB	#1F
0999+  C01D 3C          	DB	#3C
1000+  C01E 6B          	DB	#6B
1001+  C01F F7          	DB	#F7
1002+  C020 EB          	DB	#EB
1003+  C021 DD          	DB	#DD
1004+  C022 DE          	DB	#DE
1005+  C023 81          	DB	#81
1006+  C024 44          	DB	#44
1007+  C025 44          	DB	#44
1008+  C026 44          	DB	#44
1009+  C027 54          	DB	#54
1010+  C028 28          	DB	#28
1011+  C029 00          	DB	#00
1012+  C02A 81          	DB	#81
1013+  C02B F0          	DB	#F0
1014+  C02C F8          	DB	#F8
1015+  C02D 3C          	DB	#3C
1016+  C02E D6          	DB	#D6
1017+  C02F EF          	DB	#EF
1018+  C030 D7          	DB	#D7
1019+  C031 BB          	DB	#BB
1020+  C032 7B          	DB	#7B
1021+  C033 F0          	DB	#F0
1022+  C034 C0          	DB	#C0
1023+  C035 A4          	DB	#A4
1024+  C036 2A          	DB	#2A
1025+  C037 2A          	DB	#2A
1026+  C038 92          	DB	#92
1027+  C039 C0          	DB	#C0
1028+  C03A F0          	DB	#F0
1029+  C03B 00          	DB	#00
1030+  C03C 3C          	DB	#3C
1031+  C03D 7A          	DB	#7A
1032+  C03E 70          	DB	#70
1033+  C03F 70          	DB	#70
1034+  C040 7A          	DB	#7A
1035+  C041 3C          	DB	#3C
1036+  C042 00          	DB	#00
1037+  C043 0F          	DB	#0F
1038+  C044 03          	DB	#03
1039+  C045 7D          	DB	#7D
1040+  C046 08          	DB	#08
1041+  C047 10          	DB	#10
1042+  C048 7D          	DB	#7D
1043+  C049 03          	DB	#03
1044+  C04A 0F          	DB	#0F
1045+  C04B DE          	DB	#DE
1046+  C04C DD          	DB	#DD
1047+  C04D EB          	DB	#EB
1048+  C04E F7          	DB	#F7
1049+  C04F 6B          	DB	#6B
1050+  C050 3C          	DB	#3C
1051+  C051 1F          	DB	#1F
1052+  C052 8F          	DB	#8F
1053+  C053 81          	DB	#81
1054+  C054 3C          	DB	#3C
1055+  C055 04          	DB	#04
1056+  C056 1C          	DB	#1C
1057+  C057 04          	DB	#04
1058+  C058 3C          	DB	#3C
1059+  C059 00          	DB	#00
1060+  C05A 81          	DB	#81
1061+  C05B 7B          	DB	#7B
1062+  C05C BB          	DB	#BB
1063+  C05D D7          	DB	#D7
1064+  C05E EF          	DB	#EF
1065+  C05F D6          	DB	#D6
1066+  C060 3C          	DB	#3C
1067+  C061 F8          	DB	#F8
1068+  C062 F1          	DB	#F1
1069+  C063 09          L_B04B	DB	#09
1070+  C064 00          	DB	#00
1071+  C065 00          	DB	#00
1072+  C066 16          	DB	#16
1073+  C067 00          	DB	#00
1074+  C068 01          	DB	#01
1075+  C069 06          	DB	#06
1076+  C06A 00          	DB	#00
1077+  C06B 02          	DB	#02
1078+  C06C 06          	DB	#06
1079+  C06D 01          	DB	#01
1080+  C06E 00          	DB	#00
1081+  C06F 06          	DB	#06
1082+  C070 01          	DB	#01
1083+  C071 01          	DB	#01
1084+  C072 03          	DB	#03
1085+  C073 01          	DB	#01
1086+  C074 02          	DB	#02
1087+  C075 06          	DB	#06
1088+  C076 02          	DB	#02
1089+  C077 00          	DB	#00
1090+  C078 06          	DB	#06
1091+  C079 02          	DB	#02
1092+  C07A 01          	DB	#01
1093+  C07B 06          	DB	#06
1094+  C07C 02          	DB	#02
1095+  C07D 02          	DB	#02
1096+  C07E 0E          	DB	#0E
1097+  C07F 0F          	DB	#0F
1098+  C080 17          	DB	#17
1099+  C081 21          	DB	#21
1100+  C082 44          	DB	#44
1101+  C083 88          	DB	#88
1102+  C084 D3          	DB	#D3
1103+  C085 CC          	DB	#CC
1104+  C086 E1          	DB	#E1
1105+  C087 FF          	DB	#FF
1106+  C088 EF          	DB	#EF
1107+  C089 83          	DB	#83
1108+  C08A ED          	DB	#ED
1109+  C08B 6E          	DB	#6E
1110+  C08C 2C          	DB	#2C
1111+  C08D AC          	DB	#AC
1112+  C08E 18          	DB	#18
1113+  C08F F0          	DB	#F0
1114+  C090 E8          	DB	#E8
1115+  C091 84          	DB	#84
1116+  C092 22          	DB	#22
1117+  C093 41          	DB	#41
1118+  C094 AB          	DB	#AB
1119+  C095 D3          	DB	#D3
1120+  C096 67          	DB	#67
1121+  C097 F2          	DB	#F2
1122+  C098 D8          	DB	#D8
1123+  C099 DE          	DB	#DE
1124+  C09A 80          	DB	#80
1125+  C09B DF          	DB	#DF
1126+  C09C DE          	DB	#DE
1127+  C09D E8          	DB	#E8
1128+  C09E F2          	DB	#F2
1129+  C09F 00          	DB	#00
1130+  C0A0 3C          	DB	#3C
1131+  C0A1 7E          	DB	#7E
1132+  C0A2 72          	DB	#72
1133+  C0A3 60          	DB	#60
1134+  C0A4 62          	DB	#62
1135+  C0A5 34          	DB	#34
1136+  C0A6 00          	DB	#00
1137+  C0A7 0F          	DB	#0F
1138+  C0A8 17          	DB	#17
1139+  C0A9 7B          	DB	#7B
1140+  C0AA FB          	DB	#FB
1141+  C0AB 81          	DB	#81
1142+  C0AC 7B          	DB	#7B
1143+  C0AD 1B          	DB	#1B
1144+  C0AE 4F          	DB	#4F
1145+  C0AF E1          	DB	#E1
1146+  C0B0 C4          	DB	#C4
1147+  C0B1 D3          	DB	#D3
1148+  C0B2 8A          	DB	#8A
1149+  C0B3 44          	DB	#44
1150+  C0B4 21          	DB	#21
1151+  C0B5 17          	DB	#17
1152+  C0B6 8F          	DB	#8F
1153+  C0B7 10          	DB	#10
1154+  C0B8 B5          	DB	#B5
1155+  C0B9 34          	DB	#34
1156+  C0BA 76          	DB	#76
1157+  C0BB B7          	DB	#B7
1158+  C0BC C1          	DB	#C1
1159+  C0BD F7          	DB	#F7
1160+  C0BE FF          	DB	#FF
1161+  C0BF 27          	DB	#27
1162+  C0C0 13          	DB	#13
1163+  C0C1 FB          	DB	#FB
1164+  C0C2 41          	DB	#41
1165+  C0C3 22          	DB	#22
1166+  C0C4 84          	DB	#84
1167+  C0C5 E8          	DB	#E8
1168+  C0C6 F1          	DB	#F1
1169+  C0C7 09          L_B0AF	DB	#09
1170+  C0C8 00          	DB	#00
1171+  C0C9 00          	DB	#00
1172+  C0CA 06          	DB	#06
1173+  C0CB 00          	DB	#00
1174+  C0CC 01          	DB	#01
1175+  C0CD 16          	DB	#16
1176+  C0CE 00          	DB	#00
1177+  C0CF 02          	DB	#02
1178+  C0D0 06          	DB	#06
1179+  C0D1 01          	DB	#01
1180+  C0D2 00          	DB	#00
1181+  C0D3 06          	DB	#06
1182+  C0D4 01          	DB	#01
1183+  C0D5 01          	DB	#01
1184+  C0D6 03          	DB	#03
1185+  C0D7 01          	DB	#01
1186+  C0D8 02          	DB	#02
1187+  C0D9 06          	DB	#06
1188+  C0DA 02          	DB	#02
1189+  C0DB 00          	DB	#00
1190+  C0DC 06          	DB	#06
1191+  C0DD 02          	DB	#02
1192+  C0DE 01          	DB	#01
1193+  C0DF 0E          	DB	#0E
1194+  C0E0 02          	DB	#02
1195+  C0E1 02          	DB	#02
1196+  C0E2 06          	DB	#06
1197+  C0E3 0F          	DB	#0F
1198+  C0E4 1F          	DB	#1F
1199+  C0E5 3C          	DB	#3C
1200+  C0E6 6B          	DB	#6B
1201+  C0E7 F7          	DB	#F7
1202+  C0E8 EB          	DB	#EB
1203+  C0E9 DD          	DB	#DD
1204+  C0EA DE          	DB	#DE
1205+  C0EB E7          	DB	#E7
1206+  C0EC C3          	DB	#C3
1207+  C0ED 99          	DB	#99
1208+  C0EE A1          	DB	#A1
1209+  C0EF 18          	DB	#18
1210+  C0F0 04          	DB	#04
1211+  C0F1 18          	DB	#18
1212+  C0F2 00          	DB	#00
1213+  C0F3 F0          	DB	#F0
1214+  C0F4 F8          	DB	#F8
1215+  C0F5 3C          	DB	#3C
1216+  C0F6 D6          	DB	#D6
1217+  C0F7 EF          	DB	#EF
1218+  C0F8 D7          	DB	#D7
1219+  C0F9 BB          	DB	#BB
1220+  C0FA 7B          	DB	#7B
1221+  C0FB 81          	DB	#81
1222+  C0FC 00          	DB	#00
1223+  C0FD 44          	DB	#44
1224+  C0FE 54          	DB	#54
1225+  C0FF 54          	DB	#54
1226+  C100 7C          	DB	#7C
1227+  C101 00          	DB	#00
1228+  C102 81          	DB	#81
1229+  C103 00          	DB	#00
1230+  C104 3C          	DB	#3C
1231+  C105 7E          	DB	#7E
1232+  C106 7E          	DB	#7E
1233+  C107 66          	DB	#66
1234+  C108 42          	DB	#42
1235+  C109 24          	DB	#24
1236+  C10A 00          	DB	#00
1237+  C10B 81          	DB	#81
1238+  C10C 00          	DB	#00
1239+  C10D 1E          	DB	#1E
1240+  C10E 20          	DB	#20
1241+  C10F 18          	DB	#18
1242+  C110 20          	DB	#20
1243+  C111 1E          	DB	#1E
1244+  C112 81          	DB	#81
1245+  C113 DE          	DB	#DE
1246+  C114 DD          	DB	#DD
1247+  C115 EB          	DB	#EB
1248+  C116 F7          	DB	#F7
1249+  C117 6B          	DB	#6B
1250+  C118 3C          	DB	#3C
1251+  C119 1F          	DB	#1F
1252+  C11A 8F          	DB	#8F
1253+  C11B 00          	DB	#00
1254+  C11C 24          	DB	#24
1255+  C11D 24          	DB	#24
1256+  C11E 34          	DB	#34
1257+  C11F AD          	DB	#AD
1258+  C120 A5          	DB	#A5
1259+  C121 C3          	DB	#C3
1260+  C122 E7          	DB	#E7
1261+  C123 7B          	DB	#7B
1262+  C124 BB          	DB	#BB
1263+  C125 D7          	DB	#D7
1264+  C126 EF          	DB	#EF
1265+  C127 D6          	DB	#D6
1266+  C128 3C          	DB	#3C
1267+  C129 F8          	DB	#F8
1268+  C12A F1          	DB	#F1
1269+  C12B             L_B113			; compass
1270+  C12B             	INCBIN	"res\45331.spr"
1271+  C18F             
1272+  C18F 09          L_B177	DB	#09	; compass
1273+  C190 00          	DB	#00
1274+  C191 00          	DB	#00
1275+  C192 06          	DB	#06
1276+  C193 00          	DB	#00
1277+  C194 01          	DB	#01
1278+  C195 06          	DB	#06
1279+  C196 00          	DB	#00
1280+  C197 02          	DB	#02
1281+  C198 06          	DB	#06
1282+  C199 01          	DB	#01
1283+  C19A 00          	DB	#00
1284+  C19B 0E          	DB	#0E
1285+  C19C 01          	DB	#01
1286+  C19D 01          	DB	#01
1287+  C19E 03          	DB	#03
1288+  C19F 01          	DB	#01
1289+  C1A0 02          	DB	#02
1290+  C1A1 16          	DB	#16
1291+  C1A2 02          	DB	#02
1292+  C1A3 00          	DB	#00
1293+  C1A4 06          	DB	#06
1294+  C1A5 02          	DB	#02
1295+  C1A6 01          	DB	#01
1296+  C1A7 06          	DB	#06
1297+  C1A8 02          	DB	#02
1298+  C1A9 02          	DB	#02
1299+  C1AA 06          	DB	#06
1300+  C1AB 0F          	DB	#0F
1301+  C1AC 1F          	DB	#1F
1302+  C1AD 3C          	DB	#3C
1303+  C1AE 6B          	DB	#6B
1304+  C1AF F7          	DB	#F7
1305+  C1B0 EB          	DB	#EB
1306+  C1B1 DD          	DB	#DD
1307+  C1B2 DE          	DB	#DE
1308+  C1B3 81          	DB	#81
1309+  C1B4 3C          	DB	#3C
1310+  C1B5 20          	DB	#20
1311+  C1B6 38          	DB	#38
1312+  C1B7 20          	DB	#20
1313+  C1B8 3C          	DB	#3C
1314+  C1B9 00          	DB	#00
1315+  C1BA 81          	DB	#81
1316+  C1BB F0          	DB	#F0
1317+  C1BC F8          	DB	#F8
1318+  C1BD 3C          	DB	#3C
1319+  C1BE D6          	DB	#D6
1320+  C1BF EF          	DB	#EF
1321+  C1C0 D7          	DB	#D7
1322+  C1C1 BB          	DB	#BB
1323+  C1C2 7B          	DB	#7B
1324+  C1C3 F0          	DB	#F0
1325+  C1C4 C0          	DB	#C0
1326+  C1C5 BE          	DB	#BE
1327+  C1C6 08          	DB	#08
1328+  C1C7 10          	DB	#10
1329+  C1C8 BE          	DB	#BE
1330+  C1C9 C0          	DB	#C0
1331+  C1CA F0          	DB	#F0
1332+  C1CB 00          	DB	#00
1333+  C1CC 3C          	DB	#3C
1334+  C1CD 5E          	DB	#5E
1335+  C1CE 0E          	DB	#0E
1336+  C1CF 0E          	DB	#0E
1337+  C1D0 5E          	DB	#5E
1338+  C1D1 3C          	DB	#3C
1339+  C1D2 00          	DB	#00
1340+  C1D3 0F          	DB	#0F
1341+  C1D4 03          	DB	#03
1342+  C1D5 49          	DB	#49
1343+  C1D6 54          	DB	#54
1344+  C1D7 54          	DB	#54
1345+  C1D8 25          	DB	#25
1346+  C1D9 03          	DB	#03
1347+  C1DA 0F          	DB	#0F
1348+  C1DB DE          	DB	#DE
1349+  C1DC DD          	DB	#DD
1350+  C1DD EB          	DB	#EB
1351+  C1DE F7          	DB	#F7
1352+  C1DF 6B          	DB	#6B
1353+  C1E0 3C          	DB	#3C
1354+  C1E1 1F          	DB	#1F
1355+  C1E2 8F          	DB	#8F
1356+  C1E3 81          	DB	#81
1357+  C1E4 00          	DB	#00
1358+  C1E5 14          	DB	#14
1359+  C1E6 2A          	DB	#2A
1360+  C1E7 2A          	DB	#2A
1361+  C1E8 22          	DB	#22
1362+  C1E9 22          	DB	#22
1363+  C1EA 81          	DB	#81
1364+  C1EB 7B          	DB	#7B
1365+  C1EC BB          	DB	#BB
1366+  C1ED D7          	DB	#D7
1367+  C1EE EF          	DB	#EF
1368+  C1EF D6          	DB	#D6
1369+  C1F0 3C          	DB	#3C
1370+  C1F1 F8          	DB	#F8
1371+  C1F2 F1          	DB	#F1
1372+  C1F3             L_B1DB			; compass
1373+  C1F3             	INCBIN	"res\45531.spr"
1374+  C257             
1375+  C257             L_B23F
1376+  C257             	INCBIN	"res\45631.spr"
1377+  C34A             
1378+  C34A             L_B5FE
1379+  C34A             	INCBIN	"res\tree.spr"
1380+  CF43             
1381+  CF43             L_B641	EQU	L_B5FE+11*6+1
1382+  CF43             L_B6C6	EQU	L_B5FE+11*6+2+11*12
1383+  CF43             L_B7F0	EQU	L_B5FE+11*6+3+11*12+11*27
1384+  CF43             L_BA38	EQU	L_B5FE+11*6+4+11*12+11*27+11*51
1385+  CF43             L_BDE0	EQU	L_B5FE+11*6+5+11*12+11*27+11*51+11*84
1386+  CF43             L_C05F	EQU	L_B5FE+11*6+6+11*12+11*27+11*51+11*84+11*59
1387+  CF43             
1388+  CF43             L_C218
1389+  CF43             	INCBIN	"res\box.spr"
1390+  D136             
1391+  D136             L_C54A
1392+  D136             	INCBIN	"res\boom.spr"
1393+  D1C6             
1394+  D1C6             L_C745			; dragon
1395+  D1C6             	INCBIN	"res\dragon.spr"
1396+  D355             
1397+  D355             L_CD36			;  , dist.4 (add)
1398+  D355             	INCBIN	"res\52534.spr"
1399+  D398             
1400+  D398             L_CD37			;  , dist.3
1401+  D398             	INCBIN	"res\52535.spr"
1402+  D428             
1403+  D428             L_CDDD			;  , dist.2
1404+  D428             	INCBIN	"res\52701.spr"
1405+  D531             
1406+  D531 22          L_CEFC	DB	#22
1407+  D532 00          	DB	#00
1408+  D533 02          	DB	#02
1409+  D534 07          	DB	#07
1410+  D535 00          	DB	#00
1411+  D536 05          	DB	#05
1412+  D537 07          	DB	#07
1413+  D538 00          	DB	#00
1414+  D539 06          	DB	#06
1415+  D53A 07          	DB	#07
1416+  D53B 01          	DB	#01
1417+  D53C 01          	DB	#01
1418+  D53D 06          	DB	#06
1419+  D53E 01          	DB	#01
1420+  D53F 02          	DB	#02
1421+  D540 07          	DB	#07
1422+  D541 01          	DB	#01
1423+  D542 03          	DB	#03
1424+  D543 07          	DB	#07
1425+  D544 01          	DB	#01
1426+  D545 04          	DB	#04
1427+  D546 06          	DB	#06
1428+  D547 01          	DB	#01
1429+  D548 05          	DB	#05
1430+  D549 06          	DB	#06
1431+  D54A 01          	DB	#01
1432+  D54B 06          	DB	#06
1433+  D54C 07          	DB	#07
1434+  D54D 01          	DB	#01
1435+  D54E 07          	DB	#07
1436+  D54F 06          	DB	#06
1437+  D550 02          	DB	#02
1438+  D551 00          	DB	#00
1439+  D552 03          	DB	#03
1440+  D553 02          	DB	#02
1441+  D554 01          	DB	#01
1442+  D555 04          	DB	#04
1443+  D556 02          	DB	#02
1444+  D557 02          	DB	#02
1445+  D558 07          	DB	#07
1446+  D559 02          	DB	#02
1447+  D55A 03          	DB	#03
1448+  D55B 06          	DB	#06
1449+  D55C 02          	DB	#02
1450+  D55D 04          	DB	#04
1451+  D55E 04          	DB	#04
1452+  D55F 02          	DB	#02
1453+  D560 05          	DB	#05
1454+  D561 07          	DB	#07
1455+  D562 02          	DB	#02
1456+  D563 06          	DB	#06
1457+  D564 03          	DB	#03
1458+  D565 02          	DB	#02
1459+  D566 07          	DB	#07
1460+  D567 03          	DB	#03
1461+  D568 03          	DB	#03
1462+  D569 00          	DB	#00
1463+  D56A 02          	DB	#02
1464+  D56B 03          	DB	#03
1465+  D56C 01          	DB	#01
1466+  D56D 03          	DB	#03
1467+  D56E 03          	DB	#03
1468+  D56F 02          	DB	#02
1469+  D570 04          	DB	#04
1470+  D571 03          	DB	#03
1471+  D572 03          	DB	#03
1472+  D573 04          	DB	#04
1473+  D574 03          	DB	#03
1474+  D575 04          	DB	#04
1475+  D576 06          	DB	#06
1476+  D577 03          	DB	#03
1477+  D578 05          	DB	#05
1478+  D579 03          	DB	#03
1479+  D57A 03          	DB	#03
1480+  D57B 06          	DB	#06
1481+  D57C 02          	DB	#02
1482+  D57D 03          	DB	#03
1483+  D57E 07          	DB	#07
1484+  D57F 02          	DB	#02
1485+  D580 04          	DB	#04
1486+  D581 00          	DB	#00
1487+  D582 02          	DB	#02
1488+  D583 04          	DB	#04
1489+  D584 01          	DB	#01
1490+  D585 02          	DB	#02
1491+  D586 04          	DB	#04
1492+  D587 02          	DB	#02
1493+  D588 03          	DB	#03
1494+  D589 04          	DB	#04
1495+  D58A 03          	DB	#03
1496+  D58B 02          	DB	#02
1497+  D58C 04          	DB	#04
1498+  D58D 04          	DB	#04
1499+  D58E 02          	DB	#02
1500+  D58F 04          	DB	#04
1501+  D590 05          	DB	#05
1502+  D591 02          	DB	#02
1503+  D592 04          	DB	#04
1504+  D593 06          	DB	#06
1505+  D594 02          	DB	#02
1506+  D595 04          	DB	#04
1507+  D596 07          	DB	#07
1508+  D597 02          	DB	#02
1509+  D598 01          	DB	#01
1510+  D599 03          	DB	#03
1511+  D59A 06          	DB	#06
1512+  D59B 0A          	DB	#0A
1513+  D59C 1C          	DB	#1C
1514+  D59D 34          	DB	#34
1515+  D59E 38          	DB	#38
1516+  D59F 68          	DB	#68
1517+  D5A0 10          	DB	#10
1518+  D5A1 18          	DB	#18
1519+  D5A2 0C          	DB	#0C
1520+  D5A3 0A          	DB	#0A
1521+  D5A4 07          	DB	#07
1522+  D5A5 05          	DB	#05
1523+  D5A6 03          	DB	#03
1524+  D5A7 03          	DB	#03
1525+  D5A8 00          	DB	#00
1526+  D5A9 00          	DB	#00
1527+  D5AA 00          	DB	#00
1528+  D5AB 00          	DB	#00
1529+  D5AC 00          	DB	#00
1530+  D5AD 00          	DB	#00
1531+  D5AE 80          	DB	#80
1532+  D5AF C0          	DB	#C0
1533+  D5B0 00          	DB	#00
1534+  D5B1 00          	DB	#00
1535+  D5B2 00          	DB	#00
1536+  D5B3 01          	DB	#01
1537+  D5B4 09          	DB	#09
1538+  D5B5 0D          	DB	#0D
1539+  D5B6 18          	DB	#18
1540+  D5B7 34          	DB	#34
1541+  D5B8 50          	DB	#50
1542+  D5B9 B0          	DB	#B0
1543+  D5BA D0          	DB	#D0
1544+  D5BB B1          	DB	#B1
1545+  D5BC 58          	DB	#58
1546+  D5BD BC          	DB	#BC
1547+  D5BE DF          	DB	#DF
1548+  D5BF AF          	DB	#AF
1549+  D5C0 02          	DB	#02
1550+  D5C1 15          	DB	#15
1551+  D5C2 AA          	DB	#AA
1552+  D5C3 75          	DB	#75
1553+  D5C4 A0          	DB	#A0
1554+  D5C5 03          	DB	#03
1555+  D5C6 2E          	DB	#2E
1556+  D5C7 D5          	DB	#D5
1557+  D5C8 A8          	DB	#A8
1558+  D5C9 55          	DB	#55
1559+  D5CA AA          	DB	#AA
1560+  D5CB 55          	DB	#55
1561+  D5CC 00          	DB	#00
1562+  D5CD B8          	DB	#B8
1563+  D5CE EE          	DB	#EE
1564+  D5CF 55          	DB	#55
1565+  D5D0 01          	DB	#01
1566+  D5D1 01          	DB	#01
1567+  D5D2 A9          	DB	#A9
1568+  D5D3 55          	DB	#55
1569+  D5D4 A3          	DB	#A3
1570+  D5D5 07          	DB	#07
1571+  D5D6 9F          	DB	#9F
1572+  D5D7 7F          	DB	#7F
1573+  D5D8 C0          	DB	#C0
1574+  D5D9 E0          	DB	#E0
1575+  D5DA E8          	DB	#E8
1576+  D5DB E5          	DB	#E5
1577+  D5DC E2          	DB	#E2
1578+  D5DD E5          	DB	#E5
1579+  D5DE CA          	DB	#CA
1580+  D5DF C1          	DB	#C1
1581+  D5E0 00          	DB	#00
1582+  D5E1 00          	DB	#00
1583+  D5E2 00          	DB	#00
1584+  D5E3 00          	DB	#00
1585+  D5E4 00          	DB	#00
1586+  D5E5 80          	DB	#80
1587+  D5E6 C0          	DB	#C0
1588+  D5E7 60          	DB	#60
1589+  D5E8 00          	DB	#00
1590+  D5E9 00          	DB	#00
1591+  D5EA 00          	DB	#00
1592+  D5EB 01          	DB	#01
1593+  D5EC 01          	DB	#01
1594+  D5ED 03          	DB	#03
1595+  D5EE 02          	DB	#02
1596+  D5EF 03          	DB	#03
1597+  D5F0 62          	DB	#62
1598+  D5F1 55          	DB	#55
1599+  D5F2 A8          	DB	#A8
1600+  D5F3 55          	DB	#55
1601+  D5F4 AA          	DB	#AA
1602+  D5F5 54          	DB	#54
1603+  D5F6 AA          	DB	#AA
1604+  D5F7 55          	DB	#55
1605+  D5F8 55          	DB	#55
1606+  D5F9 2B          	DB	#2B
1607+  D5FA 1D          	DB	#1D
1608+  D5FB 06          	DB	#06
1609+  D5FC 90          	DB	#90
1610+  D5FD 40          	DB	#40
1611+  D5FE A3          	DB	#A3
1612+  D5FF 00          	DB	#00
1613+  D600 AA          	DB	#AA
1614+  D601 3F          	DB	#3F
1615+  D602 7F          	DB	#7F
1616+  D603 7F          	DB	#7F
1617+  D604 FE          	DB	#FE
1618+  D605 35          	DB	#35
1619+  D606 8E          	DB	#8E
1620+  D607 71          	DB	#71
1621+  D608 AA          	DB	#AA
1622+  D609 75          	DB	#75
1623+  D60A BA          	DB	#BA
1624+  D60B 7D          	DB	#7D
1625+  D60C BA          	DB	#BA
1626+  D60D 5D          	DB	#5D
1627+  D60E AA          	DB	#AA
1628+  D60F 11          	DB	#11
1629+  D610 BF          	DB	#BF
1630+  D611 5F          	DB	#5F
1631+  D612 9C          	DB	#9C
1632+  D613 48          	DB	#48
1633+  D614 A0          	DB	#A0
1634+  D615 40          	DB	#40
1635+  D616 3A          	DB	#3A
1636+  D617 C0          	DB	#C0
1637+  D618 8A          	DB	#8A
1638+  D619 07          	DB	#07
1639+  D61A 2E          	DB	#2E
1640+  D61B 57          	DB	#57
1641+  D61C BF          	DB	#BF
1642+  D61D 5D          	DB	#5D
1643+  D61E AA          	DB	#AA
1644+  D61F 55          	DB	#55
1645+  D620 B0          	DB	#B0
1646+  D621 50          	DB	#50
1647+  D622 A0          	DB	#A0
1648+  D623 70          	DB	#70
1649+  D624 F8          	DB	#F8
1650+  D625 D0          	DB	#D0
1651+  D626 A8          	DB	#A8
1652+  D627 54          	DB	#54
1653+  D628 06          	DB	#06
1654+  D629 05          	DB	#05
1655+  D62A 07          	DB	#07
1656+  D62B 0F          	DB	#0F
1657+  D62C 0B          	DB	#0B
1658+  D62D 05          	DB	#05
1659+  D62E 1A          	DB	#1A
1660+  D62F 7D          	DB	#7D
1661+  D630 A8          	DB	#A8
1662+  D631 54          	DB	#54
1663+  D632 E8          	DB	#E8
1664+  D633 F8          	DB	#F8
1665+  D634 A0          	DB	#A0
1666+  D635 40          	DB	#40
1667+  D636 91          	DB	#91
1668+  D637 42          	DB	#42
1669+  D638 40          	DB	#40
1670+  D639 00          	DB	#00
1671+  D63A 00          	DB	#00
1672+  D63B 14          	DB	#14
1673+  D63C 88          	DB	#88
1674+  D63D 54          	DB	#54
1675+  D63E 0A          	DB	#0A
1676+  D63F 54          	DB	#54
1677+  D640 0E          	DB	#0E
1678+  D641 11          	DB	#11
1679+  D642 23          	DB	#23
1680+  D643 C7          	DB	#C7
1681+  D644 87          	DB	#87
1682+  D645 4F          	DB	#4F
1683+  D646 24          	DB	#24
1684+  D647 02          	DB	#02
1685+  D648 06          	DB	#06
1686+  D649 B8          	DB	#B8
1687+  D64A D0          	DB	#D0
1688+  D64B A8          	DB	#A8
1689+  D64C D4          	DB	#D4
1690+  D64D BE          	DB	#BE
1691+  D64E E4          	DB	#E4
1692+  D64F E8          	DB	#E8
1693+  D650 02          	DB	#02
1694+  D651 05          	DB	#05
1695+  D652 02          	DB	#02
1696+  D653 11          	DB	#11
1697+  D654 2A          	DB	#2A
1698+  D655 05          	DB	#05
1699+  D656 22          	DB	#22
1700+  D657 C4          	DB	#C4
1701+  D658 AB          	DB	#AB
1702+  D659 5F          	DB	#5F
1703+  D65A BE          	DB	#BE
1704+  D65B 6F          	DB	#6F
1705+  D65C FF          	DB	#FF
1706+  D65D 7F          	DB	#7F
1707+  D65E BF          	DB	#BF
1708+  D65F 7F          	DB	#7F
1709+  D660 AA          	DB	#AA
1710+  D661 54          	DB	#54
1711+  D662 AA          	DB	#AA
1712+  D663 7C          	DB	#7C
1713+  D664 BE          	DB	#BE
1714+  D665 DF          	DB	#DF
1715+  D666 AB          	DB	#AB
1716+  D667 DD          	DB	#DD
1717+  D668 FE          	DB	#FE
1718+  D669 5F          	DB	#5F
1719+  D66A 2B          	DB	#2B
1720+  D66B 57          	DB	#57
1721+  D66C BF          	DB	#BF
1722+  D66D 55          	DB	#55
1723+  D66E 0A          	DB	#0A
1724+  D66F 01          	DB	#01
1725+  D670 00          	DB	#00
1726+  D671 C0          	DB	#C0
1727+  D672 FC          	DB	#FC
1728+  D673 FF          	DB	#FF
1729+  D674 F0          	DB	#F0
1730+  D675 F5          	DB	#F5
1731+  D676 AE          	DB	#AE
1732+  D677 55          	DB	#55
1733+  D678 A8          	DB	#A8
1734+  D679 14          	DB	#14
1735+  D67A BE          	DB	#BE
1736+  D67B 5D          	DB	#5D
1737+  D67C 2A          	DB	#2A
1738+  D67D 54          	DB	#54
1739+  D67E A8          	DB	#A8
1740+  D67F 74          	DB	#74
1741+  D680 86          	DB	#86
1742+  D681 07          	DB	#07
1743+  D682 8F          	DB	#8F
1744+  D683 1F          	DB	#1F
1745+  D684 7F          	DB	#7F
1746+  D685 FF          	DB	#FF
1747+  D686 AF          	DB	#AF
1748+  D687 55          	DB	#55
1749+  D688 10          	DB	#10
1750+  D689 1A          	DB	#1A
1751+  D68A BE          	DB	#BE
1752+  D68B 5D          	DB	#5D
1753+  D68C BA          	DB	#BA
1754+  D68D FF          	DB	#FF
1755+  D68E FF          	DB	#FF
1756+  D68F FF          	DB	#FF
1757+  D690 EA          	DB	#EA
1758+  D691 FF          	DB	#FF
1759+  D692 FF          	DB	#FF
1760+  D693 5F          	DB	#5F
1761+  D694 AA          	DB	#AA
1762+  D695 F5          	DB	#F5
1763+  D696 AA          	DB	#AA
1764+  D697 55          	DB	#55
1765+  D698 BF          	DB	#BF
1766+  D699 7D          	DB	#7D
1767+  D69A FF          	DB	#FF
1768+  D69B FF          	DB	#FF
1769+  D69C FE          	DB	#FE
1770+  D69D F5          	DB	#F5
1771+  D69E AA          	DB	#AA
1772+  D69F 55          	DB	#55
1773+  D6A0 BE          	DB	#BE
1774+  D6A1 55          	DB	#55
1775+  D6A2 FA          	DB	#FA
1776+  D6A3 F4          	DB	#F4
1777+  D6A4 AA          	DB	#AA
1778+  D6A5 55          	DB	#55
1779+  D6A6 AA          	DB	#AA
1780+  D6A7 40          	DB	#40
1781+  D6A8             
1782+  D6A8             SPR_TRIDENT
1783+  D6A8             	INCBIN	"res\trident.spr"
1784+  D790             
1785+  D790 01          L_D187	DB	#01
1786+  D791 00          	DB	#00
1787+  D792 00          	DB	#00
1788+  D793 05          	DB	#05
1789+  D794 08          	DB	#08
1790+  D795 00          	DB	#00
1791+  D796 08          	DB	#08
1792+  D797 08          	DB	#08
1793+  D798 1C          	DB	#1C
1794+  D799 1C          	DB	#1C
1795+  D79A 1C          	DB	#1C
1796+  D79B 08          	DB	#08
1797+  D79C 02          L_D193	DB	#02
1798+  D79D 00          	DB	#00
1799+  D79E 00          	DB	#00
1800+  D79F 05          	DB	#05
1801+  D7A0 01          	DB	#01
1802+  D7A1 00          	DB	#00
1803+  D7A2 05          	DB	#05
1804+  D7A3 08          	DB	#08
1805+  D7A4 10          	DB	#10
1806+  D7A5 00          	DB	#00
1807+  D7A6 08          	DB	#08
1808+  D7A7 10          	DB	#10
1809+  D7A8 08          	DB	#08
1810+  D7A9 10          	DB	#10
1811+  D7AA 18          	DB	#18
1812+  D7AB 34          	DB	#34
1813+  D7AC 38          	DB	#38
1814+  D7AD 34          	DB	#34
1815+  D7AE 7A          	DB	#7A
1816+  D7AF 74          	DB	#74
1817+  D7B0 7A          	DB	#7A
1818+  D7B1 34          	DB	#34
1819+  D7B2 18          	DB	#18
1820+  D7B3 03          L_D1AA	DB	#03
1821+  D7B4 00          	DB	#00
1822+  D7B5 00          	DB	#00
1823+  D7B6 05          	DB	#05
1824+  D7B7 01          	DB	#01
1825+  D7B8 00          	DB	#00
1826+  D7B9 05          	DB	#05
1827+  D7BA 02          	DB	#02
1828+  D7BB 00          	DB	#00
1829+  D7BC 05          	DB	#05
1830+  D7BD 10          	DB	#10
1831+  D7BE 08          	DB	#08
1832+  D7BF 00          	DB	#00
1833+  D7C0 10          	DB	#10
1834+  D7C1 08          	DB	#08
1835+  D7C2 10          	DB	#10
1836+  D7C3 08          	DB	#08
1837+  D7C4 10          	DB	#10
1838+  D7C5 18          	DB	#18
1839+  D7C6 14          	DB	#14
1840+  D7C7 38          	DB	#38
1841+  D7C8 34          	DB	#34
1842+  D7C9 38          	DB	#38
1843+  D7CA 3C          	DB	#3C
1844+  D7CB 38          	DB	#38
1845+  D7CC 7C          	DB	#7C
1846+  D7CD 7A          	DB	#7A
1847+  D7CE 7C          	DB	#7C
1848+  D7CF FE          	DB	#FE
1849+  D7D0 BD          	DB	#BD
1850+  D7D1 BE          	DB	#BE
1851+  D7D2 9D          	DB	#9D
1852+  D7D3 4E          	DB	#4E
1853+  D7D4 3C          	DB	#3C
1854+  D7D5             
1855+  D7D5             L_D1CC	INCBIN	"res\hearth.spr"
1856+  D8E1             
1857+  D8E1 02          L_D289	DB	#02	; key
1858+  D8E2 00          	DB	#00
1859+  D8E3 00          	DB	#00
1860+  D8E4 05          	DB	#05	; key color (blue)
1861+  D8E5 01          	DB	#01
1862+  D8E6 00          	DB	#00
1863+  D8E7 07          	DB	#07
1864+  D8E8 7E          	DB	#7E
1865+  D8E9 EF          	DB	#EF
1866+  D8EA C3          	DB	#C3
1867+  D8EB C3          	DB	#C3
1868+  D8EC C3          	DB	#C3
1869+  D8ED 66          	DB	#66
1870+  D8EE 3C          	DB	#3C
1871+  D8EF 18          	DB	#18
1872+  D8F0 24          	DB	#24
1873+  D8F1 18          	DB	#18
1874+  D8F2 18          	DB	#18
1875+  D8F3 18          	DB	#18
1876+  D8F4 18          	DB	#18
1877+  D8F5 14          	DB	#14
1878+  D8F6 1A          	DB	#1A
1879+  D8F7 14          	DB	#14
1880+  D8F8             
1881+  D8F8             L_D35X
1882+  D8F8             	INCBIN	"res\54107.spr"
1883+  D904             L_D35C			;  (hand on the wall)
1884+  D904             	INCBIN	"res\54108.spr"
1885+  D931             L_D389
1886+  D931             	INCBIN	"res\54153.spr"
1887+  D995             L_D3ED
1888+  D995             	INCBIN	"res\54253.spr"
1889+  DA46             
1890+  DA46             L_D50E			;  
1891+  DA46             	INCBIN	"res\death.spr"
1892+  DD6C             
0085   DD6C             
0086   DD6C             	IF LANGUAG=0
0087   DD6C~            	INCLUDE "Qtext_en.txt"
0088   DD6C             	ENDIF
0089   DD6C             	IF LANGUAG=1
0090   DD6C             	INCLUDE "Qtext_ru.txt"
0001+  DD6C 16 00 00    TX63CC	DB	#16,#00,#00
0002+  DD6F             	DB	"=T",92,"=NAQEL",0
0002+  DD6F 3D545C3D4E4151454C00
0003+  DD79 16 00 0A    TFHEALZ	DB	#16,#00,#0A
0004+  DD7C             	DB	"JIZN]",0
0004+  DD7C 4A495A4E5D00
0005+  DD82 16 00 0A    TX63D9	DB	#16,#00,#0A
0006+  DD85             	DB	"DOSPEXI",0
0006+  DD85 444F535045584900
0007+  DD8D 16 00 0A    TX63E2	DB	#16,#00,#0A
0008+  DD90 4B4C5E4800  	DB	"KL^H",0
0009+  DD95 16 00 0A    TX644E	DB	#16,#00,#0A
0010+  DD98             	DM	"PATRON",92,0
0010+  DD98 504154524F4E5C00
0011+  DDA0             
0012+  DDA0 16 00 00    TX647B	DB	#16,#00,#00
0013+  DDA3             	DM	"PRIBLIJAETSY=MONSTR<",0
0013+  DDA3 505249424C494A41455453593D4D4F4E5354523C00
0014+  DDB8 1607080F07  TX6466	DB	#16,#07,#08, 15,7
0015+  DDBD             	DM	"UROVEN]=PROVALEN",0
0015+  DDBD 55524F56454E5D3D50524F56414C454E00
0016+  DDCE 1609080F07  TXAGAIN	DB	#16,#09,#08, 15,7
0017+  DDD3             	DM	"POPROBU_=EWE=RAZ",0
0017+  DDD3 504F50524F42555F3D4557453D52415A00
0018+  DDE4 16 05 0A    TX6498	DB	#16,#05,#0A
0019+  DDE7             	DM	"POZDRAVLYEM<",0
0019+  DDE7 504F5A445241564C59454D3C00
0020+  DDF4 16 07 08    TX64AA	DB	#16,#07,#08
0021+  DDF7             	DM	"UROVEN]=PRO_DEN",0
0021+  DDF7 55524F56454E5D3D50524F5F44454E00
0022+  DE07             TXEND	DB	#16,#02,#03,15,71,"RODNAY=STRANA=VOZROJDENA<",0
0022+  DE07 1602030F47524F444E41593D535452414E413D564F5A524F4A44454E413C00
0023+  DE26             TXBACK	DB	#16,#09,#03,15,71,"IDI=NA=ODIN=UROVEN]=NAZAD",0
0023+  DE26 1609030F474944493D4E413D4F44494E3D55524F56454E5D3D4E415A414400
0024+  DE45             
0025+  DE45             TXKILL	DB	#16,00,07,"UBE_=VSEX=VRAGOV<",0
0025+  DE45 1600075542455F3D565345583D565241474F563C00
0026+  DE5A             TXEGGS	DB	#16,00,07,"RAZBE_=VSE=Y_CA<",0
0026+  DE5A 16000752415A42455F3D5653453D595F43413C00
0027+  DE6E             
0028+  DE6E 16 00 00    TXCLEAR	DB	#16,#00,#00
0029+  DE71             	DB	"================================",0
0029+  DE71 3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D3D
0029+  DE91 00
0030+  DE92             
0031+  DE92             TXLEVEL	DM	"UROVEN]",0
0031+  DE92 55524F56454E5D00
0032+  DE9A             
0033+  DE9A             TXLEV1	DEFB "TEMN",92,"_=LABIRINT",0
0033+  DE9A 54454D4E5C5F3D4C41424952494E5400
0034+  DEAA             TXLEV2	DEFB "ALLEY=SMERTI",0
0034+  DEAA 414C4C45593D534D4552544900
0035+  DEB7             TXLEV3	DEFB "KORIDOR",92,"=STRAXA",0
0035+  DEB7 4B4F5249444F525C3D53545241584100
0036+  DEC7             TXLEV4	DEFB "SVYTILIWE",0
0036+  DEC7 53565954494C49574500
0037+  DED1             TXLEV5	DEFB "MOST=SUD]B",92,0
0037+  DED1 4D4F53543D5355445D425C00
0038+  DEDD             TXLEV6	DEFB "POKINUTAY=DEREVNY",0
0038+  DEDD 504F4B494E555441593D44455245564E5900
0039+  DEEF 41 44 00    TXLEV7	DEFB "AD",0
0040+  DEF2             TXLEV8	DEFB "POSLEDNI_=RUBEJ",0
0040+  DEF2 504F534C45444E495F3D525542454A00
0041+  DF02             TXLEV9	DEFB "GNEZDO=ZLA",0
0041+  DF02 474E455A444F3D5A4C4100
0042+  DF0D             
0043+  DF0D             TXT_HEALTH
0044+  DF0D 16 13 02    	DB	#16,#13,#02
0045+  DF10             	DB	"JIZN]",0
0045+  DF10 4A495A4E5D00
0046+  DF16             TXT_ARMORS
0047+  DF16 16 15 01    	DB	#16,#15,#01
0048+  DF19             	DB	"DOSPEXI",0
0048+  DF19 444F535045584900
0091   DF21             	ENDIF
0092   DF21             	display $
0093   DF21             	ORG	L_UMAP
0094   E000             QSTORY3	INCBIN "res\Qstory3.hrx"
0095   EBAB             QSTORY4 INCBIN "res\Qstory4.hrx"
0096   F776             QSTORY5 INCBIN "res\Qstory5.hrx"
0097   FEF7             
0098   FEF7             	INCLUDE	"dehrust2.asm"
0001+  FEF7             DEHRUST2: 
0002+  FEF7             ;---		ld	a, (hl)
0003+  FEF7             ;===		inc	hl
0004+  FEF7             ;---		cp	68h
0005+  FEF7             ;---		ret	nz
0006+  FEF7             ;---		ld	a, (hl)
0007+  FEF7             ;===		inc	hl
0008+  FEF7             ;---		cp	72h
0009+  FEF7             ;---		ret	nz
0010+  FEF7             ;---		ld	a, (hl)
0011+  FEF7             ;===		inc	hl
0012+  FEF7             ;---		cp	32h
0013+  FEF7             ;---		ret	nz
0014+  FEF7             ;---		ld	a, (hl)
0015+  FEF7             ;===		inc	hl
0016+  FEF7 17          		rla
0017+  FEF8 08          		ex	af, af'
0018+  FEF9 D5          		push	de
0019+  FEFA 4E          		ld	c, (hl)
0020+  FEFB 23          		inc	hl
0021+  FEFC 46          		ld	b, (hl)
0022+  FEFD 23          		inc	hl
0023+  FEFE 0B          		dec	bc
0024+  FEFF EB          		ex	de, hl
0025+  FF00 09          		add	hl, bc
0026+  FF01 EB          		ex	de, hl
0027+  FF02 4E          		ld	c, (hl)
0028+  FF03 23          		inc	hl
0029+  FF04 46          		ld	b, (hl)
0030+  FF05 09          		add	hl, bc
0031+  FF06 ED 52       		sbc	hl, de
0032+  FF08 19          		add	hl, de
0033+  FF09 38 02       		jr	c, loc_9DB3
0034+  FF0B 54          		ld	d, h
0035+  FF0C 5D          		ld	e, l
0036+  FF0D             loc_9DB3: 
0037+  FF0D C5          		push	bc
0038+  FF0E ED B8       		lddr
0039+  FF10 C1          		pop	bc
0040+  FF11 EB          		ex	de, hl
0041+  FF12 08          		ex	af, af'
0042+  FF13 30 05       		jr	nc, loc_9DC0
0043+  FF15 D1          		pop	de
0044+  FF16 23          		inc	hl
0045+  FF17 ED B0       		ldir
0046+  FF19 C9          		ret
0047+  FF1A             ; ---------------------------------------------------------------------------
0048+  FF1A             loc_9DC0: 
0049+  FF1A 11 07 00    		ld	de, 7
0050+  FF1D 19          		add	hl, de
0051+  FF1E E5          		push	hl
0052+  FF1F D9          		exx
0053+  FF20 E1          		pop	hl
0054+  FF21 D1          		pop	de
0055+  FF22 3E 03       		ld	a, 3
0056+  FF24             loc_9DCA: 
0057+  FF24 2B          		dec	hl
0058+  FF25 46          		ld	b, (hl)
0059+  FF26 2B          		dec	hl
0060+  FF27 4E          		ld	c, (hl)
0061+  FF28 C5          		push	bc
0062+  FF29 3D          		dec	a
0063+  FF2A 20 F8       		jr	nz, loc_9DCA
0064+  FF2C 47          		ld	b, a
0065+  FF2D D9          		exx
0066+  FF2E 11 03 10    		ld	de, 1003h
0067+  FF31 0E 80       		ld	c, 80h
0068+  FF33             loc_9DD9: 
0069+  FF33 7E          		ld	a, (hl)
0070+  FF34 23          		inc	hl
0071+  FF35 D9          		exx
0072+  FF36 12          		ld	(de), a
0073+  FF37 13          		inc	de
0074+  FF38             loc_9DDE: 
0075+  FF38 D9          		exx
0076+  FF39             loc_9DDF: 
0077+  FF39 CB 21       		sla	c
0078+  FF3B 20 04       		jr	nz, loc_9DE7
0079+  FF3D 4E          		ld	c, (hl)
0080+  FF3E 23          		inc	hl
0081+  FF3F CB 11       		rl	c
0082+  FF41             loc_9DE7: 
0083+  FF41 38 F0       		jr	c, loc_9DD9
0084+  FF43 06 01       		ld	b, 1
0085+  FF45             loc_9DEB: 
0086+  FF45 3E 40       		ld	a, 40h
0087+  FF47             loc_9DED: 
0088+  FF47 CB 21       		sla	c
0089+  FF49 20 04       		jr	nz, loc_9DF5
0090+  FF4B 4E          		ld	c, (hl)
0091+  FF4C 23          		inc	hl
0092+  FF4D CB 11       		rl	c
0093+  FF4F             loc_9DF5: 
0094+  FF4F 17          		rla
0095+  FF50 30 F5       		jr	nc, loc_9DED
0096+  FF52 BB          		cp	e
0097+  FF53 38 05       		jr	c, loc_9E00
0098+  FF55 80          		add	a, b
0099+  FF56 47          		ld	b, a
0100+  FF57 AA          		xor	d
0101+  FF58 20 EB       		jr	nz, loc_9DEB
0102+  FF5A             loc_9E00: 
0103+  FF5A 80          		add	a, b
0104+  FF5B FE 04       		cp	4
0105+  FF5D 28 4D       		jr	z, loc_9E52
0106+  FF5F CE FF       		adc	a, 0FFh
0107+  FF61             loc_9E07: 
0108+  FF61 FE 02       		cp	2
0109+  FF63             loc_9E09: 
0110+  FF63 D9          		exx
0111+  FF64 4F          		ld	c, a
0112+  FF65 26 FF       		ld	h, 0FFh
0113+  FF67 D9          		exx
0114+  FF68 38 5C       		jr	c, loc_9E6C
0115+  FF6A 28 29       		jr	z, loc_9E3B
0116+  FF6C CB 21       		sla	c
0117+  FF6E 20 04       		jr	nz, loc_9E1A
0118+  FF70 4E          		ld	c, (hl)
0119+  FF71 23          		inc	hl
0120+  FF72 CB 11       		rl	c
0121+  FF74             loc_9E1A: 
0122+  FF74 38 1F       		jr	c, loc_9E3B
0123+  FF76 3E 7F       		ld	a, 7Fh
0124+  FF78 43          		ld	b, e
0125+  FF79 10 4D       		djnz	loc_9E6E
0126+  FF7B             loc_9E21: 
0127+  FF7B 10 21       		djnz	loc_9E44
0128+  FF7D 47          		ld	b, a
0129+  FF7E 9F          		sbc	a, a
0130+  FF7F             loc_9E25: 
0131+  FF7F CB 21       		sla	c
0132+  FF81 20 04       		jr	nz, loc_9E2D
0133+  FF83 4E          		ld	c, (hl)
0134+  FF84 23          		inc	hl
0135+  FF85 CB 11       		rl	c
0136+  FF87             loc_9E2D: 
0137+  FF87 17          		rla
0138+  FF88 3D          		dec	a
0139+  FF89 04          		inc	b
0140+  FF8A 20 F3       		jr	nz, loc_9E25
0141+  FF8C FE E1       		cp	0E1h
0142+  FF8E 20 02       		jr	nz, loc_9E38
0143+  FF90 7E          		ld	a, (hl)
0144+  FF91 23          		inc	hl
0145+  FF92             loc_9E38: 
0146+  FF92 D9          		exx
0147+  FF93 67          		ld	h, a
0148+  FF94 D9          		exx
0149+  FF95             loc_9E3B: 
0150+  FF95 7E          		ld	a, (hl)
0151+  FF96 23          		inc	hl
0152+  FF97             loc_9E3D: 
0153+  FF97 D9          		exx
0154+  FF98 6F          		ld	l, a
0155+  FF99 19          		add	hl, de
0156+  FF9A ED B0       		ldir
0157+  FF9C 18 9A       		jr	loc_9DDE
0158+  FF9E             ; ---------------------------------------------------------------------------
0159+  FF9E             loc_9E44: 
0160+  FF9E C6 06       		add	a, 6
0161+  FFA0 17          		rla
0162+  FFA1 47          		ld	b, a
0163+  FFA2             loc_9E48: 
0164+  FFA2 7E          		ld	a, (hl)
0165+  FFA3 23          		inc	hl
0166+  FFA4 D9          		exx
0167+  FFA5 12          		ld	(de), a
0168+  FFA6 13          		inc	de
0169+  FFA7 D9          		exx
0170+  FFA8 10 F8       		djnz	loc_9E48
0171+  FFAA 18 8D       		jr	loc_9DDF
0172+  FFAC             ; ---------------------------------------------------------------------------
0173+  FFAC             loc_9E52: 
0174+  FFAC CB 21       		sla	c
0175+  FFAE 20 04       		jr	nz, loc_9E5A
0176+  FFB0 4E          		ld	c, (hl)
0177+  FFB1 23          		inc	hl
0178+  FFB2 CB 11       		rl	c
0179+  FFB4             loc_9E5A: 
0180+  FFB4 7A          		ld	a, d
0181+  FFB5 30 11       		jr	nc, loc_9E6E
0182+  FFB7 7E          		ld	a, (hl)
0183+  FFB8 23          		inc	hl
0184+  FFB9 BA          		cp	d
0185+  FFBA 30 A5       		jr	nc, loc_9E07
0186+  FFBC B7          		or	a
0187+  FFBD 28 18       		jr	z, loc_9E7D
0188+  FFBF D9          		exx
0189+  FFC0 47          		ld	b, a
0190+  FFC1 D9          		exx
0191+  FFC2 7E          		ld	a, (hl)
0192+  FFC3 23          		inc	hl
0193+  FFC4 18 9D       		jr	loc_9E09
0194+  FFC6             ; ---------------------------------------------------------------------------
0195+  FFC6             loc_9E6C: 
0196+  FFC6 3E 3F       		ld	a, 3Fh
0197+  FFC8             loc_9E6E: 
0198+  FFC8 CB 21       		sla	c
0199+  FFCA 20 04       		jr	nz, loc_9E76
0200+  FFCC 4E          		ld	c, (hl)
0201+  FFCD 23          		inc	hl
0202+  FFCE CB 11       		rl	c
0203+  FFD0             loc_9E76: 
0204+  FFD0 17          		rla
0205+  FFD1 30 F5       		jr	nc, loc_9E6E
0206+  FFD3 10 A6       		djnz	loc_9E21
0207+  FFD5 18 C0       		jr	loc_9E3D
0208+  FFD7             ; ---------------------------------------------------------------------------
0209+  FFD7             loc_9E7D: 
0210+  FFD7 21 58 27    		ld	hl, 2758h
0211+  FFDA D9          		exx
0212+  FFDB 06 03       		ld	b, 3
0213+  FFDD EB          		ex	de, hl
0214+  FFDE             loc_9E84: 
0215+  FFDE D1          		pop	de
0216+  FFDF 73          		ld	(hl), e
0217+  FFE0 23          		inc	hl
0218+  FFE1 72          		ld	(hl), d
0219+  FFE2 23          		inc	hl
0220+  FFE3 10 F9       		djnz	loc_9E84
0221+  FFE5 C9          		ret
0099   FFE6             
0100   FFE6             ;=====================================
0101   FFE6             
0102   FFE6             SCR_ATTR_SET3
0103   FFE6 3E 06       	LD	A,6
0104   FFE8 01 FF 02    	LD	BC,767
0105   FFEB C3 BC A9    	JP	SATRS58
0106   FFEE             SCR_ATTR_SET2
0107   FFEE 3E 07       	LD	A,7
0108   FFF0 01 FF 00    	LD	BC,255
0109   FFF3 21 00 5A    	LD	HL,#5800+512
0110   FFF6 C3 BF A9    	JP	SATRSET
0111   FFF9             
0112   FFF9 06 03       DELAY3	LD	B,3
0113   FFFB FB          DELAY0	EI
0114   FFFC 76          	HALT
0115   FFFD 10 FC       	DJNZ	DELAY0
0116   FFFF C9          	RET
0117   0000             
0118   0000             ;=====================================
0119   0000             	display PROGBEGIN,"   ",$
0120   0000             	SAVEBIN "dark_alf.bin",#4100,$-#4100
The_Dark.a80(121): warning: [SAVESNA] RAM <0x4000-0x4001> will be overriden due to 48k snapshot imperfect format.
0121   0000             	SAVESNA "The_Dark.sna",startnew
0122   0000             	IF LANGUAG=0
0123   0000~            	SAVEBIN "The_Dark_en.bin",PROGBEGIN,$-PROGBEGIN
0124   0000             	ENDIF
0125   0000             	IF LANGUAG=1
0126   0000             	SAVEBIN "The_Dark_ru.bin",PROGBEGIN,$-PROGBEGIN
0127   0000             	ENDIF
0128   0000             

Value    Label
------ - -----------------------------------------------------------
0x0001   LANGUAG
0x0001   INTRO
0x0001   DEATH
0x0000   STLEVEL
0x0000   DEBUG
0x4100   guidat
0x5B00   startnew
0x5B03   loop
0x8360   KBDJOY
0x5B0F   loop.l1
0x9106   cheath
0x6000   PROGRUN
0x5D5E   GUIFR1
0x5D96   GUIFR2
0x5DAD   GUIFR3
0x6800   KK
0x0060   VSCRHI
0x6000   VSCR
0x0020   VSCROFF
0x7000   VATTR
0x0070   VATRHI
0x0018   VATROFF
0xE000   L_UMAP
0x6A00 X L_8A00
0x7687 X L_9687
0x7691 X L_9691
0x7697 X L_9697
0x7900 X L_9900
0x7901 X L_9901
0x6000   PROGBEGIN
0x8A81   CLS
0xFFE6   SCR_ATTR_SET3
0x6087   QSTORY1
0x6F38   TXT_INTRO1
0x6040   SHOW1
0xE000   QSTORY3
0x6FBD   TXT_INTRO3
0xEBAB   QSTORY4
0x7030   TXT_INTRO4
0xF776   QSTORY5
0x70C8   TXT_INTRO5
0x8956   GAMESTART
0xA9B9   SCR_ATTR_SET1
0xFEF7   DEHRUST2
0x6077   FADEIN
0xFFEE   SCR_ATTR_SET2
0x84EB   PRINT
0x6C5D   HLAS
0x835A   FPRLOO1
0x6068   FADEOUT
0x606A   FADE1
0xFFF9   DELAY3
0x6079   FADE2
0x6C63   L_EA69
0x6C65   L_EA6B
0x6C99   L_EA9B
0x6C80   L_EA86
0x6C86   L_EA8C
0x6C8A   L_EA90
0x6CC1   L_EAC3
0x6C91   L_EA97
0x833E   FIREPRESSED
0x6CB1   L_EAB3
0x6CB7   L_EAB9
0x6CBA   L_EABC
0x6CF5   L_EAF7
0x6D6A   L_EB6C
0x6CCF   L_EAD1
0x6CDA   L_EADC
0x6D19   L_EB1B
0x6F33   L_ED35
0x6E2C   L_EC2E
0x6CFB   L_EAFD
0x6D02   L_EB04
0x6D31   L_EB33
0x6D07   L_EB09
0x6D32   L_EB34
0x6D34 X L_EB36
0x6D8A   L_EB8C
0x6DB9   L_EBBB
0x6DC2   L_EBC4
0x6E19   L_EC1B
0x6EDB   L_ECDD
0x71BD X TXCTRL1
0x71EC X TXCTR5A
0x720C X TXCTR5B
0x722C X TXCTRL0
0x7300   MIRTAB
0x7400   WALEL1
0x7480   WALEL2
0x74C0   MAP6
0x75E9   MAP5
0x76ED   MAP4
0x7850   MAP3
0x795C   MAP2
0x79F3   MAP1
0x7B47   MAP0
0x7B79   QTABS
0x7B79   L_65A8
0x7D33   L_6762
0x7EED   L_691C
0x80A7   L_6AD6
0x8261   L_6C90
0x8344   FIRERELEASE
0x8351   FIRERELEASE1
0x8357   FIREPRESSLOOP
0x8368   P1CTRL
0x8369   QFONT
0x84E9   FONT
0x84ED   PRINTA
0x8557   TXATTR
0x8519   TXTTAB
0x84F4   TXPR1
0x850F   TXATTRSET
0x8517   TX2ENT
0x8518   TXENTR
0x851F   TXAT
0x8528   PRINTCHAR
0x8540 X PRCHR
0x855B   CHAR_NORMAL
0x855D   PRCHR1
0x8564   PRINTX
0x856C   WORLD_NEW
0xA5C9   CLEARGAMEWIN
0x8C90   CLEARKEY4
0xDDE4   TX6498
0xDE07   TXEND
0x86DF   WORLD_SHARED
0x87CA   WORLDDATA_RD2
0x87E3   WORLDDATA_TREE
0x85AB   PIKPIK
0xA8F1   FXCLICK
0x85B1   DELAYH
0x85FB   DOMA
0x85BD   PRDOMA
0x8809   WORLDDATA_HOUSE
0xA906   FXBEEP
0x85DF   PIKPIK2
0xDE6E   TXCLEAR
0x8615   WORLD
0xA9FA   LEVEL
0xA5C1   PRINTNUM
0xDE92   TXLEVEL
0x8633   PLVNAM2
0x863A   PLVNAM1
0x87A6   WDEFIS
0x8813   WORLDDATA_MAZE
0x87F3   WORLDDATA_ALLEY
0x8834   WORLDDATA_NEST
0x8944   ARROWLEVPOS
0x879F   WARROWCOLORSEQ
0x86B2   WARROW
0x86BB   WARROW1
0x8842   WORLDDATA_ARROW
0x86CE   WRLDEND
0xA48E   CLEARLINE
0x8844   WFONT
0x8801   WORLDDATA_GROUND
0x87A8   DRWRLDG
0x8701   MBLKSID
0x87DE   WORLDDATA_RIVER
0x8716   WRIV1
0x881F   WORLDDATA_SANCTUM
0x87BE   WORLDDATA_RD1
0x87D4   WORLDDATA_RD3
0x87EB   WORLDDATA_BRIDGE
0x87AA   DRWRLD1
0x895B   DRGUI1
0xA45A   DRAWSPR_REAL
0xA42E   SPRDIR
0xC18F   L_B177
0x89AC   GAME_REPEAT
0xAA10   L_FAB1
0x89B2 X STLVSET
0x89B7   NEXTLEV
0x8ABD   INITSET
0x8A2C   READYGO
0xAA14   L_FAB5
0x89F0   LEVFAIL
0x89D6   GAMEEND
0xA9C6   THAW
0x89DF   NEXTLE1
0xDDCE   TXAGAIN
0x9112   FXGAMEOVER
0x9114   FXGOB
0xDE26   TXBACK
0x8A11   PIKPIK3
0xA9F6   V_EXMAP
0xA886   CREATEMAP
0x8A5A   DONTSHOWLEVELCOMPLETE
0xDDF4   TX64AA
0xA445   SETSCREEN_VIRTUAL
0xAA17   L_FAB8
0x8A9A   PRKILL
0x8AA0   PREGGS
0x9C77   DRAW_COMPASS
0x92C0   L_7530
0xDE45   TXKILL
0xDE5A   TXEGGS
0xAA24   SPR_EGG
0x8AAF   PRINTEGGCOUNT
0xA9FD   V_EGCNT
0xA633   EMPTY_MAP1
0xA5F5   GREEN_TREES
0x947F   SET_COLORS_FOR_WALLS
0x8CA4   CLEARKEY1
0x8C9F   CLEARKEY2
0x8C9A   CLEARKEY3
0xAA02   L_FAA3
0xAA01   L_FAA2
0xAA0E   L_FAAF
0xAA08   L_FAA9
0xAA0A   L_FAAB
0xAA16   L_FAB7
0x9B84   ISKRA
0xAA0C   L_FAAD
0xAA1C   L_FABD
0x93BC   EXPDATA
0xA9FC   V_JTCNT
0x906D   DRWSHOO
0x000A   GOATCNT
0x9A2D   GOATDATA
0x8B15   CLRGOATS
0x98D8   GOATMUS
0x8FFC   L_6FFA
0x8F52   L_7133
0x8F10   PRNTBUL
0xDF0D   TXT_HEALTH
0xDF16   TXT_ARMORS
0x8B67   INIT_LEVEL0
0x8B79   INIT_LEVEL1
0x8B89   INIT_LEVEL2
0x8B96   INIT_LEVEL3
0x8BA3   INIT_LEVEL4
0x8BB6   INIT_LEVEL5
0x8BC9   INIT_LEVEL6
0x8BE1   INIT_LEVEL7
0x8BEE   INIT_LEVEL8
0x8B5A X INIT_LEVEL9
0xAA0D   L_FAAE
0x8C0C   SETGOAT0
0x8C5F   GOATINI3
0x8C4F   SETGOATS
0x8C6C   GOATINI4
0x8C81   GOATINI5
0xA641   RIAD
0x8C10   SETGOAT
0x8C26   SETJU1
0x98B5   ENMDIST
0x8C55   SETJTS1
0x8CA7   CLRKEY0
0x8CB1   L_6D6D
0x8CB6   L_6D72
0x8CBA   L_6D76
0x8CCC   L_6D96
0x9505   L_79C5
0x9527   L_771B
0x9D44   OGRADA
0xA1AC   L_7EX1
0xA1B3   L_7EX2
0xA1BA   L_7E1F
0x9CE2   L_7BC1
0x9E8B   L_7C18
0x9E7E   L_7C1X
0x9FB9   L_7D4D
0xA0BF   L_7DD6
0xA0B2   L_7DDX
0xA28B   L_7ECC
0xA214   L_7E40
0x92A8   L_7453
0x9235   L_73CD
0x9F60   L_7CCF
0x9F36   STONE
0x9F15   EGG
0x9807   L_7A35
0x993E   DRAWGOAT
0x8D3A   VROT
0x8DAD   L_6EE5
0x8DCB   L_6F6A
0x8DEC   L_6F7E
0x8E10   L_6F96
0x8D48   L_6E4A
0x8D83   L_6EF6
0x8D58   L_6E64
0x8D67   RAYPROJ
0x8D74   L_6ECE
0xA935   WALL_CAP_HOLES
0x8D8F   L_6F00
0x8D95   L_6F07
0x8D9B   L_6F0E
0x8DA1   RPSET0
0x8DA9   EGGFND
0x8FE2   EGGADDR
0x8E31   ISWALL
0x8E49   NOWALL1
0x8E4C   ISWALL1
0x8E4E   SSTEP
0xAA04   L_FAA5
0xA917   SOUND_STEP
0x8E57   L_6FAA
0x8E6D   L_6FC0
0x8E7F   L_6FD6
0x8E91   L_6FEC
0x8EA3   L_7053
0x8EDD   L_708D
0x8EDF X L_708F
0x8EE7   L_7097
0x8EF1   L_70A1
0x8EFB   L_70AB
0x8EFE   L_70AE
0x8F0A   NOTZBUL
0xAA11   L_FAB2
0x8F15   L_70F0
0x8F18   L_70F3
0x8F24   L_710B
0x8F2F   L_7116
0x8F32   L_7119
0x8F46   NOTOBJ
0x8F44 X DELOBJ
0xAA0F   L_FAB0
0x8F64   L_717C
0x8F66   L_717E
0x8F6B   L_7183
0x8F70   L_7186
0x8F97   L_718D
0x8F86   NOTGOAT
0x990A   CALCGOAT
0x8F90   WASMONSTERHIT
0x8F8E   NOTEGG
0x9087   DECHEAL
0x8FA0   NTRUWAL
0x8FB1   L_71A6
0x8FB4   L_71A9
0x8FE1   HITEGG
0x9807   MONCOLR
0x93C8   EXPLNEW
0x8FF8   NOFIRE
0xA9FB   V_FRCNT
0xAA00   L_FAA1
0x9036   IS_AXE
0x9021 X SHOOTFX
0x9024   NOISEFX
0x9029   L_7046
0x9043   DRWWEAP
0x906A   DRWAXE
0x9058   DRGSHOO
0x904F X L_7013
0xBD3C   L_AD24
0xA35A   L_9BX0
0xC257   L_B23F
0x9075   DRWAXE1
0xD6A8   SPR_TRIDENT
0x907B   BOOMBC
0xD136   L_C54A
0xA8FC   FXBEEP3
0x90AA   DECHEA1
0x9095   REDFILL
0x90A6   REDINK
0x90A3   DOFIL
0xA466   ATRFILL
0xA902   FXBEEP2
0x90B6   L_723D
0x90C4   L_724B
0x90D4   L_725C
0x90D8   L_7270
0x90E1   L_727B
0x90E4   L_727E
0x90F4   L_7285
0x9101   CHECKDEATH
0xDDB8   TX6466
0x911C   L_72C4
0xAA1B   L_FABC
0xAA1A   L_FABB
0x9129   L_72D1
0x912A   L_72D2
0xAA15   L_FAB6
0x913E   L_72E8
0x0064   MFW
0x914B   L_72F5
0x914D   L_72F7
0x9150   L_72FA
0x915A   L_7304
0x9162   L_730C
0x916A   L_7314
0x9172   L_731C
0x917A   L_7324
0x9182   L_732C
0x918A   L_7334
0x9192   L_733C
0x91A4   L_7350
0xA9BC   SATRS58
0xB464   MAPEXITMARK
0x91E6   SWMAP2
0x91ED   SWMAP1
0x9228   OVERATR
0x920A   point
0x9217   MAPOFF
0x9211   point.l1
0x9231   ATTR1
0x9242   L_73DB
0xDA46   L_D50E
0x924B   L_73E4
0x924E   L_73E7
0x9254   L_73F1
0x925E   L_73FB
0x926E   L_740D
0x927B   L_741D
0xB52F   L_9D93
0x9285   L_742A
0xB547   L_9DAB
0xB5CD   L_9E31
0x928B   L_7432
0x9298   L_7440
0xB53B   L_9D9F
0x92A2   L_744B
0xB58A   L_9DEE
0xB631   L_9E95
0xA17E   DOORVIS
0xA31D   L_7FB0
0xA4AA   VCLEAR
0xA9FE   L_FA9F
0x96FC   L_775E
0x9715   L_776C
0xA9FF   L_FAA0
0x9745   L_7795
0x93DD   BACKGROUND
0x9B9C   L_7AA2
0x972A   L_777A
0x9CD0   LOOPS
0x9358   EXPLODE
0xA11D   OPEN_DOORS
0x9EE4   L_7C86
0x9BBD   L_7AD2
0x9FA5   L_7D41
0x9339   NOEXIT
0xA4D6   PUTVRT
0x98D6   GOATMUS6
0xA430   SETSCREEN_REAL
0x9371   EXPLOD1
0x939A   EXPLOD2
0xACB1   SPR_BOOM2
0xA35C   DRAWSPR
0x93A0 X EXPLODE_SOUND
0x93D6   EXPNEW1
0xACDE   SPR_BKG1
0x9470   HRZNT0
0x9472   HRZNT
0x944A   MOON
0x9423 X MOON_AND_HOUSE
0xAA7F   SPR_HOUSE
0xAB76   SPR_MOON
0xA9F8   V_WLCLR
0xB697   L_9FF4
0xB6CF   L_A02C
0xB707   L_A064
0xB729   L_A086
0x94B4   WAL1CLR
0xB47B   L_9CDF
0xB4B3   L_9D17
0xB4EB   L_9D4F
0xB50D   L_9D71
0x94E5   L_79A0
0x94ED   L_79AA
0x94F5   L_79B3
0x94FD   L_79BC
0x9685   WALCLR
0x96C5   WALPAT2
0x9630   CALWAL1
0x96A0   CALWAL2
0x9547   L_771X
0x96A5   WALPAT
0x95B7   L_7712
0x95AF   L_7709
0x95A7   L_7700
0x959F   L_76F6
0x9599   L_76D6
0x9593   L_76B8
0x958D   L_7699
0x9587   L_767A
0x9581   L_7650
0x957B   L_7624
0x9575   L_75FA
0x956F   L_75CF
0x956C   L_75B0
0x9695   FULL_WALL
0x95BF   WALL_B
0x95C4   WALL
0xAA03   L_FAA4
0x95EB   PRWALL1
0xA9E7   INC_Y
0x9678   WALATTR
0x968F   PRWALLA
0x96A9   PRWALL2
0x96BE   WALPAT3
0x96CA   PRWALL7
0x96CC   PRWALL3
0x96F3   PRWALL4
0x9706   L_7768
0x971F   L_7776
0xAA06   L_FAA7
0x9734   L_7784
0xAA07   L_FAA8
0x9741   L_7791
0xAA05   L_FAA6
0x974E   L_779E
0x976D   L_77BE
0x9777   L_77C8
0x9781   L_77D2
0x978B   L_77DC
0x979F   L_77F0
0x97AE   L_77FF
0x97BD   L_780E
0x97CC   L_781D
0x97DB   L_782C
0x97EA   L_783B
0x97F9   L_784A
0xA42F   SPRCOLR
0x9824   DRAWMONSTER
0x987A   L_7A8F
0x9868   L_7A7C
0x9858   L_7A69
0x98CA   SPR_MIRROR_TOGGLE
0xB9EC   L_A616
0xB833   L_A2A4
0xB74B   L_A0A8
0x988C   ANGLE_DIFF
0x98A1   PLANG1
0x98A7   PLANG2
0x98AC   PLANG3
0x98B0   ABS
0x98D2   MIRTGL
0x98F9   JMUSDAT
0x98E7 X GOATMUNX
0x98F5   GOATMUS1
0x991A   GOATDEAD
0x9959   NOHITJU
0x9965   NORMGOAT
0x999E   GOAT_FRONT
0x997F   GOAT_RIGHT
0x9998   GOAT_BACK
0x997A X GOAT_LEFT
0x9A69   GOATSPRS
0x998D   GOAT_FR0
0x99A2   GOAT_FR2
0x0005   NEARESTGOAT
0x99A5   GOAT_FR1
0x99E8   DRGOAT
0x9A20   GOATBOOM
0x99FC X FLAMGOAT
0x9B97   NEWISKR
0xAC57   SPR_FLAME
0xAD58   SPR_GOAT0
0xADFF   SPR_GOAT1
0xAFA5   SPR_GOAT2
0xB2F8   SPR_GOAT3
0x9A89   GOATWALK
0x9A8F   GOATWLUP
0x9A9E   JTEXIST
0x9B25   EMPTYJ2
0x9B1B   EMPTYJ1
0x9B11   GOATMOV
0x9B00   GOATROT
0x9ACF   GOATDIR0
0x9AE1   GOATDIR1
0x9AEE   GOATDIR2
0x9AC2 X GOATDIR3
0x9B74   RND_8
0x9B6B   CANCELNEWGOAT
0x9BB2   LEV0_ENEMIES
0x9BAC   LEV1_ENEMIES
0x9BB8   LEV2_ENEMIES
0x9BB5   LEV5_ENEMIES
0x9BC9   L_7AF0
0x9EBA   L_7C49
0x9E60   WAVMOV
0x9FE4   L_7D64
0xA011   L_7D98
0xA2E7   L_7F30
0x9BF5   L_7B0D
0x9C12   L_7BA1
0x9C2F   L_7BBE
0x9C4C   L_7D40
0x9C62   MONWL1
0xBF9B   L_AF83
0x9C87   L_7B20
0xBF37   L_AF1F
0x9C8E   L_7B27
0xBFFF   L_AFE7
0x9C95   L_7B2E
0xC0C7   L_B0AF
0x9C9C   L_7B35
0x9CA3   L_7B3C
0xC063   L_B04B
0x9CAA   L_7B43
0x9CB1   L_7B4A
0x9CB8   L_7B51
0xC12B   L_B113
0x9CBF   L_7B58
0x9CC6   L_7B5F
0x9CCD   L_7B66
0xC1F3   L_B1DB
0x9CEF   L_7BCF
0xC34A   L_B5FE
0x9CFD   L_7BDC
0xC38D   L_B641
0xA355   L_9BXX
0x9D0B   L_7BE9
0xC412   L_B6C6
0x9D1A   L_7BF6
0xC53C   L_B7F0
0x9D2B   L_7C04
0xC76E   L_BA38
0xCB0B   L_BDE0
0xCD95   L_C05F
0x9D6D   OGRADA4
0x9D65   OGRADA3
0x9D5F   OGRADA2
0xABF1   SPR_OGRADA
0x9DC8   OGWATER
0x9D78   OGR4_1
0x9E06   OGR4_2
0x9DE0   OGWAT1
0x9E1C   DRAW_WATER
0x9DEB   OGWAVE
0x9E16   DRAW_WATER1
0x9DF3   BKGA
0x9DF7   BKGB
0x9DFC   BKGC
0x9E02   BKGD
0x9E48   DRAW_WT
0x9E98   L_7C26
0xCF43   L_C218
0x9EA4   L_7C33
0x9EB0   L_7C40
0xD1C6   L_C745
0x9ED0   L_7C56
0x9ED7   L_7C5D
0xA8E3   L_6440
0xDD6C   TX63CC
0xDD95   TX644E
0x9F0C   L_7CC9
0x9F28   EGG2
0x9F25   EGGS
0x9F31   EGG3
0xAAD8   SPR_STONE
0x9F49   STONE2
0x9F46   STONES
0x9F52   STONE3
0x9F5B   STONE4
0x9F6F   L_7CDX
0xD355   L_CD36
0x9F7E   L_7CDD
0xD398   L_CD37
0x9F93   L_7CEA
0xD428   L_CDDD
0xD531   L_CEFC
0x9FB6   NRBNGOAT
0x9FD5   HEARTH1
0x9FC5 X HEARTH2
0xD7D5   L_D1CC
0x9FD2   HEART2P
0x9FE1   L_7D60
0xDD79   TFHEALZ
0xA008   NOTMAX1
0xA04B   APRGOATS
0xA02A   APRMON1
0xA094   MON_LR
0xA030   APRMOXX
0xA0A9   MON_TD
0xA06A   APRMON
0xDDA0   TX647B
0xA099   MDEL_H
0xA084   MDEL_V
0xA08A   MDEL_V1
0xA092   MDEL_V2
0xA0AC   SETMONTOEMPTY
0xA09F   MDEL_H1
0xA0A7   MDEL_H2
0xA0AD   SMTE1
0xD8E1   L_D289
0xA104   GETKEY2
0xAA0B   L_KEYS
0xA0E9   GETKEYA
0xDD8D   TX63E2
0xA12F   OPEN_DOOR1
0xA138   OPEN_DOOR2
0xA141   OPEN_DOOR3
0xA148   OPDOORS
0xA14F   OPDOOR2
0xA162   OPDOOR1
0xA173   OPDOORH
0xA17B   DOOR_OPEN_BEGIN
0xA19B   OBEDUR1
0xA1A0   OBEDUR2
0xA1A5   OBEDUR3
0xA1A8   OBEDURS
0xA1BF   L_7EX
0xA20C   DOORD13
0xA204   DOORD12
0xA1FA   DOORD11
0xA1EE   DDOOR1
0xA1F4   WAL1RES
0xA239   L_7E66
0xD790   L_D187
0xA225   L_7E51
0xA22B   L_7E57
0xA231   L_7E5D
0xA27D   L_7EAC
0xA25D   L_7E8B
0xD79C   L_D193
0xA249   L_7E76
0xA24F   L_7E7C
0xA255   L_7E82
0xD7B3   L_D1AA
0xA269   L_7E97
0xA26F   L_7E9D
0xA275   L_7EA3
0xA8E5   L_6442
0xA29A   L_7EDX
0xD8F8   L_D35X
0xA2B8   L_7EF0
0xA2A6   L_7EDC
0xD904   L_D35C
0xA2B2   L_7EE9
0xD931   L_D389
0xD995   L_D3ED
0xA2DE   DRWSGN1
0xA2E1   DRWSGN
0xA2F9   NOTMAX2
0xA305   L_7F48
0xDD82   TX63D9
0xA330   NOTB0
0xA339   NOTB1
0xA342   NOTB2
0xA34B   NOTB3
0xA354   NOTB4
0xA35D X DRWSPRA
0xA3F7   SPMOD1
0xA405   SPMOD2
0xA3F4   SPRBLOCK_NOMIR
0xA36D   SPRNOP1
0xA40C   SPRBLOCK_NOMIR_NOP
0xA37C   NOMIR1
0xA3FE   SPRBLOCK_MIR
0xA3C5   SPMOD3
0xA3BB   SPMOD5
0xA42D   SPRMAXY
0xA3A5   SPMOD7
0xA3F1   NOSPR
0xA39F   PTBL1
0xA3E9   PTBL4
0xA3B4   ADRHI1
0xA3BE   SPXLIM
0xA3D2   ADRHI2
0xA3DF   SPSETCL
0xA3E0   PTBL3
0xA3F6   PTBL5
0xA400   PTBL2
0x0000 X SPRPUT
0x00B6 X SPROR
0x00A6 X SPRAND
0x00AE X SPRXOR
0xA481   ATRFL2
0xA482   ATRFL1
0xA491 X CLRLN1
0xA4B4   CLRV1
0xA4D8   PUTVR1
0xA4DB X SCROFS1
0xA4E4   PUTVRA
0xA4F4 X PUTVFX
0xA4F6   PUTVRB
0xA54C X SCROFS2
0xA58B   B99TODECSTR
0xA591   B99_OK
0xAA1E   NUMSTR
0xA5AF   B99DECS
0xA59D X WRDDECS
0xA5B6   WRDDEC1
0xA5A9 X BYTDECS
0xA5B8   WRDDEC2
0xA5E9   CHANGESPRITECOLOR
0xA5EA   CHSPC1
0xA5F2   CHSPC2
0xA609   RED_TREES1
0xA600   RED_TREES
0xA642   RIAD1
0xA64A   BOXIXI
0xA65F   BOXIT1_01
0xA662   BOXIT1
0xA663   BOXI1A
0xA693   EXMAPL5
0xA6D3   EXMAPL8
0xA6E8   EXMAP71
0xA6D8   EXMAPL7
0xA6DB   EXMAP72
0xA6E2   NOTTREE
0xA6F0   EXMAP92
0xA6F3   EXMAP91
0xA704   REDOORA
0xA831   REDOORB
0xA720   EXMAPL2
0xA7AA   EXMAPL6
0xA76D   EXMAPL9
0xA7EF   HOUSEDN
0xA7D4   HTAB_DN
0xA7BB   EXMAP61
0xA7C8   EXMAP62
0xA7EA   HOUSEUP
0xA7F2   HOUSES
0xA820   HOUSE13
0xA80B   HOUSEV5
0xA824   HOUSEW
0xA80F   HOUSEV
0xA825   HOUSER
0xA82B   HOUSEL
0xA838   REDUR
0xA85B   REDUR10
0xA851   REDUR1
0xA87E   REDUR0
0xA85F   REDUR2
0xA867   REDURX
0xA865 X DRSINGL
0xA870   REDURD
0xA87C   REDURZ
0xA886   CMAPVS
0xA888   CMAPVS1
0xA89B   CMAPHS
0xA8BE   CMWALV
0xA89D   CMAPHS1
0xA8B0   CMAPSS
0xA8CA   CMWALH
0xA8C1   MAPWV1
0xA8CA X XLDIR
0xA8D8   XLDIR1
0xA8E6   L_6443
0xA8EB   L_6448
0xA908   FXBEEPA
0xA91A   SOUND_TICK
0xA93B   WLCPH5
0xA93E   WLCPH1
0xA955   WLCPH2
0xA97B   WLCPH3
0xA978   WLCPH4
0xA973   WLCPH6
0xA98E   WFND0
0xA992   WFND1
0xA9AF   WFND3
0xA9A8   WFND2
0xA9A2   WFND9
0xA9B5   WFND3A
0xA9BF   SATRSET
0xA9CB   THAW1
0xA9CF   THAW2
0xAA12 X L_FAB3
0xAA13 X L_FAB4
0xAA18 X L_FAB9
0xDE9A X TXLEV1
0xDEAA X TXLEV2
0xDEB7 X TXLEV3
0xDEC7 X TXLEV4
0xDED1 X TXLEV5
0xDEDD X TXLEV6
0xDEEF X TXLEV7
0xDEF2 X TXLEV8
0xDF02 X TXLEV9
0xFF0D   loc_9DB3
0xFF1A   loc_9DC0
0xFF24   loc_9DCA
0xFF33   loc_9DD9
0xFF38   loc_9DDE
0xFF39   loc_9DDF
0xFF41   loc_9DE7
0xFF45   loc_9DEB
0xFF47   loc_9DED
0xFF4F   loc_9DF5
0xFF5A   loc_9E00
0xFFAC   loc_9E52
0xFF61   loc_9E07
0xFF63   loc_9E09
0xFFC6   loc_9E6C
0xFF95   loc_9E3B
0xFF74   loc_9E1A
0xFFC8   loc_9E6E
0xFF7B   loc_9E21
0xFF9E   loc_9E44
0xFF7F   loc_9E25
0xFF87   loc_9E2D
0xFF92   loc_9E38
0xFF97   loc_9E3D
0xFFA2   loc_9E48
0xFFB4   loc_9E5A
0xFFD7   loc_9E7D
0xFFD0   loc_9E76
0xFFDE   loc_9E84
0xFFFB   DELAY0
